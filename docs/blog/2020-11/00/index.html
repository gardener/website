<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project Gardener Website - A Managed Kubernetes Service Done Right"><meta name=copyright content="Copyright 2019 Gardener project authors."><meta name=google-site-verification content="9EoGiMwk2aq0E_tVh16iJgJbp7fbyqkfWH9b5sGybl0"><title>Gardener v1.11 and v1.12 Released :: Gardener</title><link rel=icon type=image/x-icon href=https://gardener.cloud/images/favicon.ico><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-16x16.png sizes=16x16><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-W2FGNSX');</script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-165447164-1');</script><link href=/css/nucleus.css?1612972515 rel=stylesheet><link href=/css/font-awesome.min.css?1612972515 rel=stylesheet><link href=/css/hybrid.css?1612972515 rel=stylesheet><link href=/css/featherlight.min.css?1612972515 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1612972515 rel=stylesheet><link href=/css/auto-complete.css?1612972515 rel=stylesheet><link href=/css/skeleton.css?1612972515 rel=stylesheet><link href=/css/sheetslider.css?1612972515 rel=stylesheet><link rel=stylesheet href=/css/gardener.e2ca9959244349715932e2bbb82ec914af6743c4148bb41946b0aea714f04a0d.css><script src=/js/moment.js?1612972515></script><script src=/js/vivus.js?1612972515></script><script src=/js/scrollreveal.js?1612972515></script><script src=/js/inlineSVG.js?1612972515></script><script src=/js/jquery.min.js?1612972515></script><script src=/js/fixed.js?1612972515></script><script src=/js/clipboard.min.js?1612972515></script><script src=https://platform.linkedin.com/in.js type=text/javascript>lang:en_US</script></head><body data-url=/blog/2020-11/00/ class=has-sticky-navigation><script>$(document).ready(function(){function initStickyNav(){var stickyPoint;var tln=document.querySelector(".tln");if(!tln){return;}
var stickyPointEl=document.querySelector(".sticky-nav-point");if(stickyPointEl==null){stickyPointEl=document.querySelector("body");stickyPoint=0;}else{stickyPoint=stickyPointEl.clientHeight+stickyPointEl.offsetTop;}
var bodySelector=document.getElementsByTagName("body")[0];var tlnHeight=tln.clientHeight;var stickyNavigation=function(){if(window.pageYOffset+tlnHeight>=stickyPoint){bodySelector.classList.add("has-sticky-navigation");tln.classList.add("sticky-top");}else{bodySelector.classList.remove("has-sticky-navigation");tln.classList.remove("sticky-top");}}
window.onscroll=function(){stickyNavigation();};}
initStickyNav();function closeAllSelect(){document.getElementById("docOptions").classList.remove("show");}
function show(e){e.stopPropagation();document.getElementById("docOptions").classList.add("show");}
document.addEventListener("click",closeAllSelect);document.getElementById("docSelector").addEventListener("click",show);});</script><div class="tln fixedsticky sticky-top"><header class=navigation><div class=container><div class=navigation-wrapper><a href=/ class=logo><img src=/images/logo.svg>
<span class=title>Gardener</span></a>
<a class="nav-button navbar-toggler" href=#><i class="fa fa-bars"></i></a><div class=navbar-collapse><ul class=links><li class="link active"><a href=/blog/>Blogs</a></li><li class=link><a href=/community/>Community</a></li><li class=link><a href=/adopter/>Adopters</a></li><li class="link has-child"><a href=/documentation/home>Documentation</a></li></ul></div></div></div></header></div><script>$(".navigation .navbar-toggler").click(function(evt){$(".navigation .navbar-collapse").toggle();$(".navigation").toggleClass("collapsed");$(".navigation .search-box").toggle();})</script><style>#docSelector{cursor:pointer}.doc-options{position:fixed;background-color:#0b8062;text-align:left;display:none}.doc-options ul li{margin-bottom:0}.doc-options ul li a:hover{background-color:#0c694f}.doc-options ul{list-style:none;padding:0;margin:0;text-align:left}.doc-options ul li a{padding:10px;margin:0}.doc-options .activeVersion{background-color:#ec682a}.show{display:block}</style><div class="main container"><section><div class="highlightable body-inner-wrapper"><div id=body-inner><script src=/js/moment.js></script><div class="blogs page"><a href=/blog class="nav-link back">Back to Blogs</a><article class="post row" data-path><div class=wrapper><div class="two columns"><ul class=authors><li class=author><a href=mailto:tim.usner@sap.com><img src="https://avatars2.githubusercontent.com/u/40451181?s=460&u=4df34635cf86b924700ef4152ec8462eeaa35721&v=4" class="user-icon icons" alt="blog author avatar">
<span class=name>Tim Usner</span></a></li></ul><span class=publishdate data-publishdate=2020-11-04>2020-11-04</span></div><div class="ten columns"><h2>Gardener v1.11 and v1.12 Released<a href=/blog/2020-11/00/ class="title-link clipboard-copy"><i class="fa fa-link"></i></a></h2><div class=share-ribbon><a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class=twitter-share-button data-text="Gardener v1.11 and v1.12 Released" data-url=https://gardener.cloud/blog/2020-11/00/ data-hashtags=GardenerProject data-dnt=true data-show-count=false>Tweet</a><script async src=https://platform.twitter.com/widgets.js></script>
<script type=in/share data-url=https://gardener.cloud/blog/2020-11/00/></script></div><p><p>Two months after our last Gardener release update, we are happy again to present release v1.11 and v1.12 in this blog post. Control plane migration, load balancer consolidation, new security features are just a few topics we progressed with. As always, a detailed list of features, improvements, and bug fixes can be found in the <a href=https://github.com/gardener/gardener/releases>release notes</a> of each release. If you are going to update from a previous Gardener version, please take your time to go through the action items in the release notes.</p><h2 id=notable-changes-in-v112>Notable Changes in v1.12</h2><p>Release v1.12, fresh from the oven, is shipped with plenty of improvements, features and some API changes we want to pick up in the next sections.</p><h3 id=drop-functionless-dns-providers-gardenergardener3036httpsgithubcomgardenergardenerpull3036>Drop Functionless DNS Providers (<a href=https://github.com/gardener/gardener/pull/3036>gardener/gardener#3036</a>)</h3><p>This release drops the support for so-called functionless DNS providers. Those are providers in a shoot’s specification (<code>.spec.dns.providers</code>) which don’t serve the shoot’s domain (<code>.spec.dns.domain</code>), but are created by Gardener in the seed cluster to serve DNS requests coming from the shoot cluster. If such providers don’t specify a <code>type</code> or <code>secretName</code> the creation or update request for the corresponding shoot is denied.</p><h3 id=seed-taints-gardenergardener2955httpsgithubcomgardenergardenerpull2955>Seed Taints (<a href=https://github.com/gardener/gardener/pull/2955>gardener/gardener#2955</a>)</h3><p>In an earlier release, we reserved a dedicated section in <code>seed.spec.settings</code> as a replacement for <code>disable-capacity-reservation, disable-dns, invisible</code> taints. These already deprecated taints were still considered and synced, which gave operators enough time to switch their integration to the new <code>settings</code> field. As of version v1.12, support for them has been discontinued and they are automatically removed from seed objects. You may use the actual taint names in a future release of Gardener again.</p><h3 id=load-balancer-events-during-shoot-reconciliation-gardenergardener3028httpsgithubcomgardenergardenerpull3028>Load Balancer Events During Shoot Reconciliation (<a href=https://github.com/gardener/gardener/pull/3028>gardener/gardener#3028</a>)</h3><p>As Gardener is capable of managing thousands of clusters, it is crucial to keep operation efforts at a minimum. This release demonstrates this endeavor by further improving error reporting to the end user. During a shoot’s reconciliation, Gardener creates <code>Services</code> of type <code>LoadBalancer</code> in the shoot cluster, e.g. for VPN or Nginx-Ingress addon, and waits for a successful creation. However, in the past we experienced that occurring issues caused by the party creating the load balancer (typically <a href=https://kubernetes.io/docs/concepts/architecture/cloud-controller/>Cloud-Controller-Manager</a>) are only exposed in the logs or as events. Gardener now fetches these event messages and propagates them to the shoot status in case of a failure. Users can then often fix the problem themselves, if for example the failure discloses an exhausted quota on the cloud provider.</p><h3 id=konnectivitytunnel-feature-per-shootgardenergardener3007httpsgithubcomgardenergardenerpull3007>KonnectivityTunnel Feature Per Shoot(<a href=https://github.com/gardener/gardener/pull/3007>gardener/gardener#3007</a>)</h3><p>Since release <code>v1.6</code> Gardener has been capable of reversing the tunnel direction from the seed to the shoot via the <code>KonnectivityTunnel</code> feature gate (<a href=https://github.com/gardener/gardener/blob/master/docs/usage/reverse-tunnel.md>more information</a>). With this release we make it possible to control the feature per shoot. We recommend to selectively enable the <code>KonnectivityTunnel</code>, as it is still in <code>alpha</code> state.</p><h3 id=reference-protection-gardenergardener2771httpsgithubcomgardenergardenerpull2771-gardenergardener-1708419httpsgithubcomgardenergardenercommit17084191c752c206537b9506b54828f4d723d9b7>Reference Protection (<a href=https://github.com/gardener/gardener/pull/2771>gardener/gardener#2771</a>, <a href=https://github.com/gardener/gardener/commit/17084191c752c206537b9506b54828f4d723d9b7>gardener/gardener 1708419</a>)</h3><p>Shoot clusters may refer to external objects, like <code>Secrets</code> for specified DNS providers or they have a reference to an audit policy <code>ConfigMap</code>. Deleting those objects while any shoot still references them causes sever errors, often only recoverable by an immense amount of manual operations effort. To prevent such scenarios, Gardener now adds a new finalizer <code>gardener.cloud/reference-protection</code> to these objects and removes it as soon as the object itself becomes releasable. Due to compatibility reasons, we decided that the handling for audit policy <code>ConfigMaps</code> is delivered as an opt-in feature first, so please familiarize yourself with the necessary settings in the Gardener Controller Manager <a href=https://github.com/gardener/gardener/blob/3db1c41726dc5f669e015f294b690d330b55bbf1/example/20-componentconfig-gardener-controller-manager.yaml#L28>component config</a> if you already plan to enable it.</p><h3 id=support-for-resource-quotas-gardenergardener2627httpsgithubcomgardenergardenerpull2627>Support For Resource Quotas (<a href=https://github.com/gardener/gardener/pull/2627>gardener/gardener#2627</a>)</h3><p>After the Kubernetes upstream change (<a href=https://github.com/kubernetes/kubernetes/pull/93537>kubernetes/kubernetes#93537</a>) for externalizing the backing admission plugin has been accepted, we are happy to announce the support of <a href=https://kubernetes.io/docs/concepts/policy/resource-quotas/>ResourceQuotas</a> for Gardener offered resource kinds. <a href=https://kubernetes.io/docs/concepts/policy/resource-quotas/>ResourceQuotas</a> allow you to specify a maximum number of objects per namespace, especially for end-user objects like <code>Shoots</code> or <code>SecretBindings</code> in a project namespace. Even though the admission plugin is enabled by default in the Gardener API Server, make sure the Kube Controller Manager runs the <code>resourcequota</code> controller as well.</p><h3 id=watch-out-developers-terraformer-v2-is-coming-gardenergardener3034httpsgithubcomgardenergardenerpull3034>Watch Out Developers, Terraformer v2 Is Coming! (<a href=https://github.com/gardener/gardener/pull/3034>gardener/gardener#3034</a>)</h3><p>Although not only related to Gardener core, but still an important milestone to mention, is the preparation towards <a href=https://github.com/gardener/terraformer/pull/48>Terraformer v2</a> in the <a href=https://github.com/gardener/gardener/tree/master/extensions>extensions library</a>. With Terraformer v2, Gardener extensions using Terraform scripts will benefit from great consistency improvements. Please check out <a href=https://github.com/gardener/gardener/pull/3034>#3034</a>) which demonstrates necessary steps to transition to Terraformer v2 as soon as it’s been released.</p><h2 id=notable-changes-in-v111>Notable Changes in v1.11</h2><p>The Gardener community worked eagerly to deliver plenty of improvements with version v1.11. Those help us to further progress with topics like <a href=https://github.com/gardener/gardener/blob/master/docs/proposals/07-shoot-control-plane-migration.md>control plane migration</a>, which is actively being worked on, or to harden our load balancer consolidation (<a href=https://github.com/gardener/gardener/blob/master/docs/proposals/08-shoot-apiserver-via-sni.md>APIServerSNI</a>) feature.
Besides improvements and fixes (full list available in release notes), this release as well contains major features and we don’t want to miss a chance to walk you through them.</p><h3 id=gardener-admission-controller-gardenergardener2832httpsgithubcomgardenergardenerpull2832-gardenergardener2781httpsgithubcomgardenergardenerpull2781>Gardener Admission Controller (<a href=https://github.com/gardener/gardener/pull/2832>gardener/gardener#2832</a>), (<a href=https://github.com/gardener/gardener/pull/2781>gardener/gardener#2781</a>)</h3><p>In this release, all admission related HTTP handlers moved from the Gardener Controller Manager (GCM) to the new component <a href=https://github.com/gardener/gardener/blob/master/docs/concepts/admission-controller.md>Gardener Admission Controller</a>. The admission controller is rather a small component as opposed to GCM with regards to memory footprint and CPU consumption, and thus allows you to run multiple replicas of it much cheaper than it was before. We certainly recommend specifying the admission controller deployment with more than one replica, since it reduces the odds of a system-wide outage and increases the performance of your Gardener service.</p><p>Besides the already known <code>Namespace</code> and Kubeconfig <code>Secret</code> validation, a new admission handler <code>Resource-Size-Validator</code> was added to the admission controller. It allows operators to restrict the size for all kinds of Kubernetes objects, especially sent by end-users to the Kubernetes or Gardener API Server. We address a security concern with this feature to prevent denial of service attacks in which an attacker artificially increases the size of objects to exhaust your object store, API server caches, or to let Gardener and Kubernetes controllers run out-of-memory. The <a href=https://github.com/gardener/gardener/blob/master/docs/concepts/admission-controller.md#resource-size-validator>documentation</a> reveals an approach of finding the right resource size for your setup and why you should create exceptions for technical users and operators.</p><h3 id=deferring-shoot-progress-reporting-gardenergardener2909httpsgithubcomgardenergardenerpull2909>Deferring Shoot Progress Reporting (<a href=https://github.com/gardener/gardener/pull/2909>gardener/gardener#2909</a>),</h3><p>Shoot progress reporting is the continuous update process of a shoot’s <code>.status.lastOperation</code> field while the shoot is being reconciled by Gardener. Many steps are involved during reconciliation and depending on the size of your setup, the updates might become an issue for the Gardener API Server which will refrain to process further requests for a certain period.
With <code>.controllers.shoot.progressReportPeriod</code> in Gardenlet’s component configuration, you can now delay these updates for the specified period.</p><h3 id=new-policy-for-controller-registrations-gardenergardener2896httpsgithubcomgardenergardenerpull2896>New Policy For Controller Registrations (<a href=https://github.com/gardener/gardener/pull/2896>gardener/gardener#2896</a>),</h3><p>A while ago, we added support for different policies in <code>ControllerRegistrations</code> which determine under which circumstances the deployments of registration controllers happen in affected seed clusters. If you specify the new policy <code>AlwaysExceptNoShoots</code>, the respective extension controller will be deployed to all seed cluster hosting at least one shoot cluster. After all shoot clusters from a seed are gone, the extension deployment will be deleted again.
A full list of supported policies can be found <a href=https://github.com/gardener/gardener/blob/master/docs/extensions/controllerregistration.md#deployment-configuration-options>here</a>.</p></p></div></div></article><a href=/blog class="nav-link back">Back to Blogs</a></div></div></div></section></div><style></style><footer class=footer><div class="container footer-wrapper"><ul class=nav><li><a href=/blog/>Blogs</a></li><li><a href=/community/>Community</a></li><li><a href=/adopter/>Adopters</a></li><li><a href=/documentation/home>Documentation</a></li></ul><img src=/images/lp/gardener-logo.svg alt="Logo Gardener" class=logo><ul class=media-wr><li><a target=_blank href=https://kubernetes.slack.com/archives/CB57N0BFG><img src=/images/branding/slack-logo-white.svg class=media-icon><div class=media-text>Slack</div></a></li><li><a target=_blank href=https://github.com/gardener><img src=/images/branding/github-mark-logo.png class=media-icon><div class=media-text>GitHub</div></a></li><li><a target=_blank href=https://www.youtube.com/channel/UCwUhwKFREV8Su0gwAJQX7tw><img src=/images/branding/youtube-logo-dark.svg class=media-icon><div class=media-text>YouTube</div></a></li><li><a target=_blank href=https://twitter.com/GardenerProject><img src=/images/branding/twitter-logo-white.svg class=media-icon><div class=media-text>Twitter</div></a></li></ul><span class=copyright>Copyright 2020 Gardener project authors. Privacy Statement</span></div></footer><script src=/js/perfect-scrollbar.min.js?1612972515></script><script src=/js/perfect-scrollbar.jquery.min.js?1612972515></script><script src=/js/jquery.sticky.js?1612972515></script><script src=/js/featherlight.min.js?1612972515></script><script src=/js/html5shiv-printshiv.min.js?1612972515></script><script src=/js/modernizr.custom.71422.js?1612972515></script><link href=/mermaid/mermaid.css?1612972515 type=text/css rel=stylesheet><script src=/mermaid/mermaid.js?1612972515></script><script src=/js/code-snippets.js?1612972515></script><script>mermaid.initialize({startOnLoad:true,htmlLables:true});function createIssue(issueUrl,page,url){var uri=issueUrl+"?title=Documentation issue on page \""+page+"\"";uri=uri+"&body=\n\n<- DESCRIBE MISSING OR FAULTY DOCUMENTATION HERE->\n\n---\nPage: ["+page+"]("+
url+")\ndon't remove the link to the page. It's required for the processor"
var res=encodeURI(uri);res+="&labels=area/documentation"
window.open(res,"issue")
return false;}
$(document).ready(function(){inlineSVG.init();$("[data-publishdate]").each(function(){$(this).text(moment($(this,"YYYY-MM-DD","YYYY-MM-DD hh:mm:ss").attr("data-publishdate")).fromNow());});new ClipboardJS('.clipboard-copy');$("body").codeSnippets();});</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W2FGNSX" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script src=/js/modernizr.custom.min.js></script><script src=/js/jsrender.min.js></script><script src=/js/main.js></script><script>$(document).ready(function(){$('.blogs .clipboard-copy').click(function(e){e.preventDefault();});})</script></body></html>