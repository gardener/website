<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=icon type=image/x-icon href=https://gardener.cloud/images/favicon.ico><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-16x16.png sizes=16x16><title>Certificates Management | Gardener</title><meta name=description content="Project Gardener Website - A Managed Kubernetes Service Done Right"><meta property="og:title" content="Certificates Management"><meta property="og:description" content="cert-management 
Manages TLS certificates in Kubernetes clusters using custom resources.
In a multi-cluster environment like Gardener, using existing open source projects for certificate management like cert-manager becomes cumbersome. With this project the separation of concerns between multiple clusters is realized more easily. The cert-controller-manager runs in a secured cluster where the issuer secrets are stored. At the same time it watches an untrusted source cluster and can provide certificates for it."><meta property="og:type" content="article"><meta property="og:url" content="https://gardener.cloud/docs/concepts/networking/cert-managment/"><meta property="article:section" content="docs"><meta itemprop=name content="Certificates Management"><meta itemprop=description content="cert-management 
Manages TLS certificates in Kubernetes clusters using custom resources.
In a multi-cluster environment like Gardener, using existing open source projects for certificate management like cert-manager becomes cumbersome. With this project the separation of concerns between multiple clusters is realized more easily. The cert-controller-manager runs in a secured cluster where the issuer secrets are stored. At the same time it watches an untrusted source cluster and can provide certificates for it."><meta itemprop=wordCount content="3537"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Certificates Management"><meta name=twitter:description content="cert-management 
Manages TLS certificates in Kubernetes clusters using custom resources.
In a multi-cluster environment like Gardener, using existing open source projects for certificate management like cert-manager becomes cumbersome. With this project the separation of concerns between multiple clusters is realized more easily. The cert-controller-manager runs in a secured cluster where the issuer secrets are stored. At the same time it watches an untrusted source cluster and can provide certificates for it."><link rel=preload href=/scss/main.min.122f9effc36493edf1f25030c2ce7965b16b3b0eaeb02528b9a50e0fa9110c15.css as=style><link href=/scss/main.min.122f9effc36493edf1f25030c2ce7965b16b3b0eaeb02528b9a50e0fa9110c15.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg width="90" height="90" viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>logo</title><desc>Created with Sketch.</desc><defs><path d="M41.8864954.994901575c.996545099999999-.479910833 2.6164002-.477918931 3.6088091.0L76.8159138 16.0781121C77.8124589 16.5580229 78.8208647 17.8257185 79.0659694 18.8995926l7.7355517 33.8916663C87.0476474 53.8696088 86.6852538 55.4484075 85.9984855 56.3095876L64.3239514 83.4885938C63.6343208 84.3533632 62.1740175 85.0543973 61.0725268 85.0543973H26.3092731c-1.1060816.0-2.5646564-.704623400000003-3.2514246-1.5658035L1.38331434 56.3095876C.693683723 55.4448182.335174016 53.865133.580278769 52.7912589L8.31583044 18.8995926C8.56195675 17.8212428 9.57347722 16.556031 10.5658861 16.0781121L41.8864954.994901575z" id="path-1"/><linearGradient x1="12.7542673%" y1="-18.6617048%" x2="88.2666158%" y2="84.6075483%" id="linearGradient-3"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="50%" y1="4.93673768%" x2="148.756007%" y2="175.514523%" id="linearGradient-4"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="19.1574381%" y1="-9.04800713%" x2="82.2203149%" y2="77.9084293%" id="linearGradient-5"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="57.4403751%" y1="26.3148481%" x2="137.966711%" y2="158.080556%" id="linearGradient-6"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="logo"><g id="Rectangle-2" transform="translate(1.000000, 0.000000)"><mask id="mask-2" fill="#fff"><use xlink:href="#path-1"/></mask><use id="Mask" fill="#009f76" xlink:href="#path-1"/><polygon fill="#000" opacity=".289628623" mask="url(#mask-2)" points="-17.6484375 54.5224609 30.8242188 25.0791016 63.4726562 58.5 24.7324219 92.6689453"/></g><path d="M56.8508631 39.260019C56.4193519 40.443987 55.6088085 41.581593 54.6736295 42.1938694l-8.0738997 5.2861089c-1.3854671.907087099999998-3.6247515.9116711-5.0172201.0L33.50861 42.1938694C32.123143 41.2867823 31 39.206345 31 37.545932V26.4150304c0-.725313.2131118-1.5301454.569268099999999-2.2825772L56.8508631 39.260019z" id="Combined-Shape" fill="url(#linearGradient-3)" transform="translate(43.925432, 36.147233) scale(-1, 1) translate(-43.925432, -36.147233)"/><path d="M56.0774672 25.1412464C56.4306829 25.8903325 56.6425556 26.6907345 56.6425556 27.4119019V38.5428034c0 1.6598979-1.1161415 3.73626640000001-2.50861 4.6479374l-8.0738997 5.286109c-1.3854671.907087000000004-3.6247516.911671000000005-5.0172201.0L32.9689261 43.1907408C32.2918101 42.7474223 31.6773514 42.0238435 31.2260376 41.206007L56.0774672 25.1412464z" id="Combined-Shape" fill="url(#linearGradient-4)" transform="translate(43.821278, 37.246598) scale(-1, 1) translate(-43.821278, -37.246598)"/><path d="M65.0702134 57.1846889C64.5985426 58.2007851 63.8367404 59.1236871 62.9788591 59.6189851L47.37497 68.6278947c-1.4306165.825966800000003-3.75236779999999.8246599-5.1807206.0L26.5903603 59.6189851C25.1597438 58.7930183 24 56.7816693 24 55.1323495V37.1145303C24 36.3487436 24.249712 35.5060005 24.6599102 34.7400631L65.0702134 57.1846889z" id="Combined-Shape" fill="url(#linearGradient-5)"/><path d="M65.0189476 34.954538C65.3636909 35.6617313 65.5692194 36.42021 65.5692194 37.1145303V55.1323495C65.5692194 56.7842831 64.4072119 58.7943252 62.9788591 59.6189851L47.37497 68.6278947c-1.4306165.825966800000003-3.75236779999999.8246599-5.1807206.0L26.5903603 59.6189851C25.9237304 59.2341061 25.3159155 58.5918431 24.8568495 57.8487596L65.0189476 34.954538z" id="Combined-Shape" fill="url(#linearGradient-6)"/></g></g></svg></span><span class=text-capitalize>Gardener</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/adopter><span>Adopters</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog><span>Blogs</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs><span>Documentation</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.c510d653e231c9f59abf7fe51db9fe98.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.c510d653e231c9f59abf7fe51db9fe98.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Docs</span></a><ul class="pr-md-3 ul-1"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsconcepts-li><a href=/docs/concepts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconcepts><span>Concepts</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptsarchitecture-li><a href=/docs/concepts/architecture/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsarchitecture><span>Architecture</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentsbouquet-li><a href=/components/bouquet/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentsbouquet><span>Bouquet</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentsdashboard-li><a href=/components/dashboard/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentsdashboard><span>Dashboard</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentsgardenctl-li><a href=/components/gardenctl/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentsgardenctl><span>gardenctl</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentsgardener-li><a href=/components/gardener/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentsgardener><span>Gardener</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentskubify-li><a href=/components/kubify/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentskubify><span>kubify</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptscore-components-li><a href=/docs/concepts/core-components/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptscore-components><span>Core Components</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-docsconceptscore-componentsapi-server-li><a href=/docs/concepts/core-components/api-server/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptscore-componentsapi-server><span>Gardener API Server</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsapi-serverapiserver_admission_plugins-li><a href=/docs/concepts/core-components/api-server/apiserver_admission_plugins/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsapi-serverapiserver_admission_plugins><span>In-Tree Admission Plugins</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsscheduler-li><a href=/docs/concepts/core-components/scheduler/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsscheduler><span>Gardener Scheduler</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsseed-admission-controller-li><a href=/docs/concepts/core-components/seed-admission-controller/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsseed-admission-controller><span>Gardener Seed Admission Controller</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsgardenlet-li><a href=/docs/concepts/core-components/gardenlet/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsgardenlet><span>gardenlet</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsbackup-restorebackup-restore-li><a href=/docs/concepts/backup-restore/backup-restore/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsbackup-restorebackup-restore><span>Backup and Restore</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptsextensions-li><a href=/docs/concepts/extensions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsextensions><span>Extensions</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsbackupbucket-li><a href=/docs/concepts/extensions/backupbucket/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsbackupbucket><span>BackupBucket resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsbackupentry-li><a href=/docs/concepts/extensions/backupentry/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsbackupentry><span>BackupEntry resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscluster-li><a href=/docs/concepts/extensions/cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscluster><span>Cluster resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsshoot-health-status-conditions-li><a href=/docs/concepts/extensions/shoot-health-status-conditions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsshoot-health-status-conditions><span>Contributing to shoot health status conditions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscontrolplane-webhooks-li><a href=/docs/concepts/extensions/controlplane-webhooks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrolplane-webhooks><span>Controlplane customization webhooks</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscontrolplane-li><a href=/docs/concepts/extensions/controlplane/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrolplane><span>ControlPlane resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscontrolplane-exposure-li><a href=/docs/concepts/extensions/controlplane-exposure/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrolplane-exposure><span>ControlPlane resource with purpose exposure</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsdns-li><a href=/docs/concepts/extensions/dns/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsdns><span>DNSProvider and DNSEntry resources</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsproject-roles-li><a href=/docs/concepts/extensions/project-roles/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsproject-roles><span>Extending project roles</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsoverview-li><a href=/docs/concepts/extensions/overview/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsoverview><span>Extensibility overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsextension-li><a href=/docs/concepts/extensions/extension/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsextension><span>Extension resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscontainerruntime-li><a href=/docs/concepts/extensions/containerruntime/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontainerruntime><span>Gardener Container Runtime Extension</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsnetwork-li><a href=/docs/concepts/extensions/network/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsnetwork><span>Gardener Network Extension</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsconventions-li><a href=/docs/concepts/extensions/conventions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsconventions><span>General conventions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionshealthcheck-library-li><a href=/docs/concepts/extensions/healthcheck-library/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionshealthcheck-library><span>Health Check Library</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsinfrastructure-li><a href=/docs/concepts/extensions/infrastructure/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsinfrastructure><span>Infrastructure resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionslogging-and-monitoring-li><a href=/docs/concepts/extensions/logging-and-monitoring/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionslogging-and-monitoring><span>Logging and Monitoring for Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsoperatingsystemconfig-li><a href=/docs/concepts/extensions/operatingsystemconfig/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsoperatingsystemconfig><span>OperatingSystemConfig resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsreferenced-resources-li><a href=/docs/concepts/extensions/referenced-resources/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsreferenced-resources><span>Referenced Resources</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscontrollerregistration-li><a href=/docs/concepts/extensions/controllerregistration/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrollerregistration><span>Registering Extension Controllers</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsshoot-maintenance-li><a href=/docs/concepts/extensions/shoot-maintenance/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsshoot-maintenance><span>Shoot maintenance</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsshoot-webhooks-li><a href=/docs/concepts/extensions/shoot-webhooks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsshoot-webhooks><span>Shoot resource customization webhooks</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsworker-li><a href=/docs/concepts/extensions/worker/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsworker><span>Worker resource</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsconceptsnetworking-li><a href=/docs/concepts/networking/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsnetworking><span>Networking</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsnetworkingdns-managment-li><a href=/docs/concepts/networking/dns-managment/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsnetworkingdns-managment><span>DNS Management</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docsconceptsnetworkingcert-managment-li><a href=/docs/concepts/networking/cert-managment/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__page" id=m-docsconceptsnetworkingcert-managment><span class=td-sidebar-nav-active-item>Certificates Management</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsnetworkingnetwork_policies-li><a href=/docs/concepts/networking/network_policies/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsnetworkingnetwork_policies><span>Network Policies</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptsmonitoring-li><a href=/docs/concepts/monitoring/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsmonitoring><span>Monitoring</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringalerting-li><a href=/docs/concepts/monitoring/alerting/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringalerting><span>Alerting</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringextending-li><a href=/docs/concepts/monitoring/extending/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringextending><span>Extending the Monitoring Stack</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringoperator_alerts-li><a href=/docs/concepts/monitoring/operator_alerts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringoperator_alerts><span>Operator Alerts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringuser_alerts-li><a href=/docs/concepts/monitoring/user_alerts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringuser_alerts><span>User Alerts</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentdeploy_gardenlet_automatically-li><a href=/docs/concepts/deployment/deploy_gardenlet_automatically/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentdeploy_gardenlet_automatically><span>Automatic Deployment of Gardenlets</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentdeploy_gardenlet_manually-li><a href=/docs/concepts/deployment/deploy_gardenlet_manually/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentdeploy_gardenlet_manually><span>Deploy a Gardenlet Manually</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentdeploy_gardenlet-li><a href=/docs/concepts/deployment/deploy_gardenlet/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentdeploy_gardenlet><span>Deploying Gardenlets</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentsetup_gardener-li><a href=/docs/concepts/deployment/setup_gardener/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentsetup_gardener><span>Deploying the Gardener into a Kubernetes cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentaks-li><a href=/docs/concepts/deployment/aks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentaks><span>Deploying the previous Gardener versions and a Seed into an AKS cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentfeature_gates-li><a href=/docs/concepts/deployment/feature_gates/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentfeature_gates><span>Feature Gates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentimage_vector-li><a href=/docs/concepts/deployment/image_vector/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentimage_vector><span>Image Vector</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsmcm-li><a href=/docs/concepts/mcm/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmcm><span>Machine Controller Manager</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguides-li><a href=/docs/guides/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguides><span>How-To Guides</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesclient_tools-li><a href=/docs/guides/client_tools/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_tools><span>Set Up Client Tools</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolskubectl-apiserver-li><a href=/docs/guides/client_tools/kubectl-apiserver/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolskubectl-apiserver><span>Automated deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolsbash_kubeconfig-li><a href=/docs/guides/client_tools/bash_kubeconfig/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolsbash_kubeconfig><span>Kubeconfig context as bash prompt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolsworking-with-kubeconfig-li><a href=/docs/guides/client_tools/working-with-kubeconfig/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolsworking-with-kubeconfig><span>Organizing Access Using kubeconfig Files</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolshelm-li><a href=/docs/guides/client_tools/helm/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolshelm><span>Use a Helm chart to deploy some application or service</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesinstall_gardener-li><a href=/docs/guides/install_gardener/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardener><span>Install Gardener</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenersetup-li><a href=/docs/guides/install_gardener/setup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesinstall_gardenersetup><span>Gardener DNS Management for Shoots</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenersecure-setup-li><a href=/docs/guides/install_gardener/secure-setup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardenersecure-setup><span>Hardening the Gardener Community Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenerlandscape-setup-li><a href=/docs/guides/install_gardener/landscape-setup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardenerlandscape-setup><span>Landscape Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardeneradd-node-to-cluster-li><a href=/docs/guides/install_gardener/add-node-to-cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardeneradd-node-to-cluster><span>Manually adding a node to an existing cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenersetup-seed-li><a href=/docs/guides/install_gardener/setup-seed/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardenersetup-seed><span>Setting up a Seed Cluster</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesadminister_shoots-li><a href=/docs/guides/administer_shoots/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shoots><span>Administer Client (Shoot) Clusters</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootshibernate-cluster-li><a href=/docs/guides/administer_shoots/hibernate-cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootshibernate-cluster><span>Hibernate a Cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootscreate-delete-shoot-li><a href=/docs/guides/administer_shoots/create-delete-shoot/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootscreate-delete-shoot><span>Create / Delete a Shoot cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener_aws-li><a href=/docs/guides/administer_shoots/gardener_aws/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsgardener_aws><span>Create a kubernetes cluster in AWS with Gardener</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener_gcp-li><a href=/docs/guides/administer_shoots/gardener_gcp/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsgardener_gcp><span>Create a kubernetes cluster on GCP with Gardener</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootscreate-shoot-into-existing-aws-vpc-li><a href=/docs/guides/administer_shoots/create-shoot-into-existing-aws-vpc/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootscreate-shoot-into-existing-aws-vpc><span>Create a Shoot cluster into existing AWS VPC</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener-alibaba-li><a href=/docs/guides/administer_shoots/gardener-alibaba/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsgardener-alibaba><span>Create Shoot Clusters in Alibaba Cloud</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener_azure-li><a href=/docs/guides/administer_shoots/gardener_azure/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootsgardener_azure><span>Index</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsdns_providers-li><a href=/docs/guides/administer_shoots/dns_providers/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootsdns_providers><span>Manage DNS Providers</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsdns_names-li><a href=/docs/guides/administer_shoots/dns_names/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootsdns_names><span>Request DNS Names</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsrequest_cert-li><a href=/docs/guides/administer_shoots/request_cert/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootsrequest_cert><span>Request X.509 Certificates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsmaintain-shoot-li><a href=/docs/guides/administer_shoots/maintain-shoot/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsmaintain-shoot><span>Shoot Cluster Maintenance</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootstrigger-shoot-operations-li><a href=/docs/guides/administer_shoots/trigger-shoot-operations/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootstrigger-shoot-operations><span>Trigger Shoot operations</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootstrigger-shoot-operations-li><a href=/docs/guides/administer_shoots/trigger-shoot-operations/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootstrigger-shoot-operations><span>Trigger Shoot operations</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesmonitoring_and_troubleshooting-li><a href=/docs/guides/monitoring_and_troubleshooting/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshooting><span>Monitor and Troubleshoot</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesmonitoring_and_troubleshootingshell-to-node-li><a href=/docs/guides/monitoring_and_troubleshooting/shell-to-node/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshootingshell-to-node><span>Get a Shell to a Gardener Shoot Worker Node</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesmonitoring_and_troubleshootingdebug-a-pod-li><a href=/docs/guides/monitoring_and_troubleshooting/debug-a-pod/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshootingdebug-a-pod><span>How to debug a pod</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesmonitoring_and_troubleshootingtail-logfile-li><a href=/docs/guides/monitoring_and_troubleshooting/tail-logfile/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshootingtail-logfile><span>tail -f /var/log/my-application.log</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesapplications-li><a href=/docs/guides/applications/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplications><span>Applications</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsaccess_pod_from_local-li><a href=/docs/guides/applications/access_pod_from_local/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsaccess_pod_from_local><span>Access a port of a pod locally</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsservice-access-li><a href=/docs/guides/applications/service-access/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsservice-access><span>Access service from outside Kubernetes cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsinsecure-configuration-li><a href=/docs/guides/applications/insecure-configuration/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsinsecure-configuration><span>Auditing Kubernetes for Secure Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsmissing-registry-permission-li><a href=/docs/guides/applications/missing-registry-permission/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsmissing-registry-permission><span>Container image not pulled</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsimage-pull-policy-li><a href=/docs/guides/applications/image-pull-policy/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsimage-pull-policy><span>Container image not updating</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationssecure-seccomp-li><a href=/docs/guides/applications/secure-seccomp/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationssecure-seccomp><span>Custom Seccomp profile</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsdockerfile_pitfall-li><a href=/docs/guides/applications/dockerfile_pitfall/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsdockerfile_pitfall><span>Dockerfile pitfalls</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationshttps-li><a href=/docs/guides/applications/https/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesapplicationshttps><span>HTTPS with self Signed Certificate</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationshttps-li><a href=/docs/guides/applications/https/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationshttps><span>HTTPS with self Signed Certificate</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationscontent_trust-li><a href=/docs/guides/applications/content_trust/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationscontent_trust><span>Integrity and Immutability</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsantipattern-li><a href=/docs/guides/applications/antipattern/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsantipattern><span>Kubernetes Antipatterns</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsnetwork-isolation-li><a href=/docs/guides/applications/network-isolation/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsnetwork-isolation><span>Namespace Isolation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationscontainer-startup-li><a href=/docs/guides/applications/container-startup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationscontainer-startup><span>Orchestration of container startup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsservice-cache-control-li><a href=/docs/guides/applications/service-cache-control/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsservice-cache-control><span>Out-Dated HTML and JS files delivered</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationscommit_secret_fail-li><a href=/docs/guides/applications/commit_secret_fail/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationscommit_secret_fail><span>Storing secrets in git 💀</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsprometheus-li><a href=/docs/guides/applications/prometheus/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsprometheus><span>Using Prometheus and Grafana to monitor K8s</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsguidesgardener-cookies-li><a href=/docs/guides/gardener-cookies/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesgardener-cookies><span>Gardener Cookies</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsguideslandscape-setup-li><a href=/docs/guides/landscape-setup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguideslandscape-setup><span>Landscape Setup</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docstutorials-li><a href=/docs/tutorials/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorials><span>Tutorials</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsoidc-login-li><a href=/docs/tutorials/oidc-login/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsoidc-login><span>Authenticating with an Identity Provider</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsdynamic-pvc-li><a href=/docs/tutorials/dynamic-pvc/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsdynamic-pvc><span>Dynamic Volume Provisioning</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsshoot_istio_dns_certs-li><a href=/docs/tutorials/shoot_istio_dns_certs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsshoot_istio_dns_certs><span>Gardener yourself a Shoot with Istio, custom Domains, and Certificates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsgpu-li><a href=/docs/tutorials/gpu/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsgpu><span>GPU Enabled Cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsknative-install-li><a href=/docs/tutorials/knative-install/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsknative-install><span>Install Knative in Gardener clusters</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialss3-li><a href=/docs/tutorials/s3/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docstutorialss3><span>Shared storage with S3 backend</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreferences-li><a href=/docs/references/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferences><span>API Reference</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreferencescore-li><a href=/docs/references/core/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferencescore><span>Core</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreferencesextensions-li><a href=/docs/references/extensions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferencesextensions><span>Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreferencessettings-li><a href=/docs/references/settings/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferencessettings><span>Settings</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscontribute-li><a href=/docs/contribute/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute><span>Contribute</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-contributecode-li><a href=/contribute/code/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-contributecode><span>Code</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code14_cicd-li><a href=/docs/contribute/10_code/14_cicd/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code14_cicd><span>CI/CD</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code15_conf_secrets-li><a href=/docs/contribute/10_code/15_conf_secrets/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code15_conf_secrets><span>Configuration and Usage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code10-contribution_guide-li><a href=/docs/contribute/10_code/10-contribution_guide/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code10-contribution_guide><span>Contribution Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code20_dependencies-li><a href=/docs/contribute/10_code/20_dependencies/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code20_dependencies><span>Dependencies</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code27_deploy_into_cluster-li><a href=/docs/contribute/10_code/27_deploy_into_cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code27_deploy_into_cluster><span>Deploy into a Cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code30_deploy_seed_into_aks-li><a href=/docs/contribute/10_code/30_deploy_seed_into_aks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code30_deploy_seed_into_aks><span>Deploy into AKS</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code13_env-li><a href=/docs/contribute/10_code/13_env/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code13_env><span>Environment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code37_process-li><a href=/docs/contribute/10_code/37_process/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code37_process><span>Process</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code40_repositories-li><a href=/docs/contribute/10_code/40_repositories/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code40_repositories><span>Repositories</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code12-security_guide-li><a href=/docs/contribute/10_code/12-security_guide/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code12-security_guide><span>Security Release Process</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-contributedocs-li><a href=/contribute/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-contributedocs><span>Documentation</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute20_documentation25_markup-li><a href=/docs/contribute/20_documentation/25_markup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute20_documentation25_markup><span>Markdown</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute20_documentation10_organisation-li><a href=/docs/contribute/20_documentation/10_organisation/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute20_documentation10_organisation><span>Organization</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute20_documentation20_style-li><a href=/docs/contribute/20_documentation/20_style/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute20_documentation20_style><span>Style Guide</span></a></li></ul></li></ul></li></ul></li></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><div class=git-wr><div class=page-contributors>Contributors to this page<div class=contributors-list><img class=user-icon src=/images/gardener-logo.svg title="Gardener Development Community"><a href=mailto:martin.weindel@sap.com><img class=user-icon src="https://avatars.githubusercontent.com/u/3703277?v=4" title="Martin Weindel"><a href=mailto:matthias.sohn@sap.com><img class=user-icon src="https://avatars.githubusercontent.com/u/143355?v=4" title="Matthias Sohn"></div></div></div><a href=https://github.com/gardener/cert-management/edit/master/README.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/gardener/cert-management/issues/new?title=Certificates%20Management" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/gardener/website-generator/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=https://gardener.cloud/docs/concepts/networking/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><p>Page Content</p><nav id=TableOfContents><ul><li><a href=#quick-start-using-certificates-in-a-gardener-shoot-cluster>Quick start using certificates in a Gardener shoot cluster</a></li><li><a href=#setting-up-issuers>Setting up Issuers</a><ul><li><a href=#automatic-certificate-management-environment-acme>Automatic Certificate Management Environment (ACME)</a></li><li><a href=#certificate-authority-ca>Certificate Authority (CA)</a></li></ul></li><li><a href=#requesting-a-certificate>Requesting a Certificate</a><ul><li><a href=#using-commonname-and-optional-dnsnames>Using <code>commonName</code> and optional <code>dnsNames</code></a></li><li><a href=#using-a-certificate-signing-request-csr>Using a certificate signing request (CSR)</a></li></ul></li><li><a href=#requesting-a-certificate-for-ingress>Requesting a Certificate for Ingress</a><ul><li><a href=#process>Process</a></li></ul></li><li><a href=#requesting-a-certificate-for-service>Requesting a Certificate for Service</a></li><li><a href=#demo-quick-start>Demo quick start</a></li><li><a href=#using-the-cert-controller-manager>Using the cert-controller-manager</a><ul><li><a href=#usage>Usage</a></li></ul></li><li><a href=#renewal-of-certificates>Renewal of Certificates</a></li><li><a href=#revoking-certificates>Revoking Certificates</a><ul><li><a href=#revoking-certificates-with-renewal>Revoking certificates with renewal</a></li><li><a href=#checking-ocsp-revocation-using-openssl>Checking OCSP revocation using OpenSSL</a></li></ul></li><li><a href=#metrics>Metrics</a></li><li><a href=#development>Development</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://gardener.cloud/docs/>Docs</a></li><li class=breadcrumb-item><a href=https://gardener.cloud/docs/concepts/>Concepts</a></li><li class=breadcrumb-item><a href=https://gardener.cloud/docs/concepts/networking/>Networking</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://gardener.cloud/docs/concepts/networking/cert-managment/>Certificates Management</a></li></ol></nav><div class=td-content><p class=reading-time><i class="fa fa-clock" aria-hidden=true></i> 17 minute read</p><h1 id=cert-management>cert-management</h1><p><a href=https://reuse.software/><img src=https://reuse.software/badge/reuse-compliant.svg alt="reuse compliant"></a></p><p>Manages TLS certificates in Kubernetes clusters using custom resources.</p><p>In a multi-cluster environment like Gardener, using existing open source projects
for certificate management like <a href=https://github.com/jetstack/cert-manager>cert-manager</a> becomes cumbersome.
With this project the separation of concerns between multiple clusters is realized more easily.
The cert-controller-manager runs in a <strong>secured cluster</strong> where the issuer secrets are stored.
At the same time it watches an untrusted <strong>source cluster</strong> and can provide certificates for it.
The cert-controller-manager relies on DNS challenges (ACME only) for validating the domain names of the certificates.
For this purpose it creates DNSEntry custom resources (in a possible separate <strong>dns cluster</strong>) to be
handled by the compagnion dns-controller-manager from <a href=https://github.com/gardener/external-dns-management>external-dns-management</a>.</p><p>Currently, the <code>cert-controller-manager</code> supports certificate authorities via:</p><ul><li><a href=https://en.wikipedia.org/wiki/Automated_Certificate_Management_Environment>Automatic Certificate Management Environment (ACME)</a> protocol like <a href=https://letsencrypt.org/>Let&rsquo;s Encrypt</a>.</li><li>Certificate Authority (CA): an existing certificate and a private key provided as a TLS Secret.</li></ul><p><strong>Index</strong></p><ul><li><a href=#quick-start-using-certificates-in-a-gardener-shoot-cluster>Quick start using certificates in a Gardener shoot cluster</a></li><li><a href=#setting-up-issuers>Setting up Issuers</a><ul><li><a href=#automatic-certificate-management-environment-acme>Automatic Certificate Management Environment (ACME)</a><ul><li><a href=#auto-registration>Auto registration</a></li><li><a href=#using-existing-account>Using existing account</a></li></ul></li><li><a href=#certificate-authority-ca>Certificate Authority (CA)</a></li></ul></li><li><a href=#requesting-a-certificate>Requesting a Certificate</a><ul><li><a href=#using-commonname-and-optional-dnsnames>Using <code>commonName</code> and optional <code>dnsNames</code></a></li><li><a href=#using-a-certificate-signing-request-csr>Using a certificate signing request (CSR)</a></li></ul></li><li><a href=#requesting-a-certificate-for-ingress>Requesting a Certificate for Ingress</a><ul><li><a href=#process>Process</a></li></ul></li><li><a href=#requesting-a-certificate-for-service>Requesting a Certificate for Service</a></li><li><a href=#demo-quick-start>Demo quick start</a></li><li><a href=#using-the-cert-controller-manager>Using the cert-controller-manager</a><ul><li><a href=#usage>Usage</a></li></ul></li><li><a href=#renewal-of-certificates>Renewal of Certificates</a></li><li><a href=#revoking-certificates>Revoking Certificates</a><ul><li><a href=#revoking-certificates-with-renewal>Revoking certificates with renewal</a></li><li><a href=#checking-ocsp-revocation-using-openssl>Checking OCSP revocation using OpenSSL</a></li></ul></li><li><a href=#metrics>Metrics</a></li><li><a href=#development>Development</a></li></ul><h2 id=quick-start-using-certificates-in-a-gardener-shoot-cluster>Quick start using certificates in a Gardener shoot cluster</h2><p>This component is typically deployed by the <a href=/docs/guides/install_gardener/setup>Gardener Extension for certificate services</a>
to simplify requesting certificates for Gardener shoot clusters.</p><p>For a quick start please see <a href=https://gardener.cloud/documentation/guides/administer_shoots/request_cert/>Request X.509 Certificates</a></p><h2 id=setting-up-issuers>Setting up Issuers</h2><p>Before you can obtain certificates from a certificate authority (CA), you need to set up an issuer.
The issuer is specified in the <code>default</code> cluster, while the certificates are specified in the <code>source</code> cluster.</p><p>The issuer custom resource contains the configuration and registration data for your account at the CA.</p><h3 id=automatic-certificate-management-environment-acme>Automatic Certificate Management Environment (ACME)</h3><p>Two modes are supported:</p><ul><li>auto registration</li><li>using an existing account</li></ul><h4 id=auto-registration>Auto registration</h4><p>Auto registration is mainly used for development and test environments. You only need to provide
the server URL and an email address. The registration process is done automatically for you
by creating a private key and performing the registration at the CA. Optionally you can provide
the target secret with the privateKeySecretRef section.</p><p>For example see <a href=https://github.com/gardener/cert-management/blob/master/examples/20-issuer-staging.yaml>examples/20-issuer-staging.yaml</a>:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>cert.gardener.cloud/v1alpha1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Issuer</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>issuer-staging</span><span class=w>
</span><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>acme</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=l>https://acme-staging-v02.api.letsencrypt.org/directory</span><span class=w>
</span><span class=w>    </span><span class=nt>email</span><span class=p>:</span><span class=w> </span><span class=l>some.user@mydomain.com</span><span class=w>
</span><span class=w>    </span><span class=nt>autoRegistration</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=c># with &#39;autoRegistration: true&#39; a new account will be created if the secretRef is not existing</span><span class=w>
</span><span class=w>    </span><span class=nt>privateKeySecretRef</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>issuer-staging-secret</span><span class=w>
</span><span class=w>      </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></code></pre></div><h4 id=using-existing-account>Using existing account</h4><p>If you already have an existing account at the certificate authority, you need to
specify email address and reference the private key from a secret.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Secret</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>my-issuer-secret</span><span class=w>
</span><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w></span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Opaque</span><span class=w>
</span><span class=w></span><span class=nt>data</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>privateKey</span><span class=p>:</span><span class=w> </span><span class=l>LS0tLS1...</span><span class=w>
</span></code></pre></div><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>cert.gardener.cloud/v1alpha1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Issuer</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>my-issuer</span><span class=w>
</span><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>acme</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=l>https://acme-v02.api.letsencrypt.org/directory</span><span class=w>
</span><span class=w>    </span><span class=nt>email</span><span class=p>:</span><span class=w> </span><span class=l>my.account@mydomain.com</span><span class=w>
</span><span class=w>    </span><span class=nt>privateKeySecretRef</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>my-issuer-secret</span><span class=w>
</span><span class=w>      </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></code></pre></div><p>In both cases, the state of an issuer resource can be checked on the <code>default</code> cluster with</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ kubectl get issuer
NAME             SERVER                                                   EMAIL                    STATUS   TYPE   AGE
issuer-staging   https://acme-staging-v02.api.letsencrypt.org/directory   some.user@mydomain.com   Ready    acme   8s
</code></pre></div><h3 id=certificate-authority-ca>Certificate Authority (CA)</h3><p>This issuer is meant to be used where a central Certificate Authority
is already in place. The operator must request/provide by its own means a CA
or an intermediate CA. This is mainly used for <strong>on-premises</strong> and
<strong>airgapped</strong> environements.</p><p>It can also be used for <strong>developement</strong> or <strong>testing</strong> purproses. In this case
a Self-signed Certificate Authority can be created by following the section below.</p><p><em>Create a Self-signed Certificate Authority (optional)</em></p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ openssl genrsa -out CA-key.pem <span class=m>4096</span>
▶ <span class=nb>export</span> <span class=nv>CONFIG</span><span class=o>=</span><span class=s2>&#34;
</span><span class=s2>[req]
</span><span class=s2>distinguished_name=dn
</span><span class=s2>[ dn ]
</span><span class=s2>[ ext ]
</span><span class=s2>basicConstraints=CA:TRUE,pathlen:0
</span><span class=s2>&#34;</span>
▶ openssl req <span class=se>\
</span><span class=se></span>    -new -nodes -x509 -config &lt;<span class=o>(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$CONFIG</span><span class=s2>&#34;</span><span class=o>)</span> -key CA-key.pem <span class=se>\
</span><span class=se></span>    -subj <span class=s2>&#34;/CN=Hello&#34;</span> -extensions ext -days <span class=m>1000</span> -out CA-cert.pem
</code></pre></div><p>Create a TLS secret from the certificate <code>CA-cert.pem</code> and the private key <code>CA-key.pem</code></p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ kubectl -n default create secret tls issuer-ca-secret <span class=se>\
</span><span class=se></span>    --cert<span class=o>=</span>CA-cert.pem --key<span class=o>=</span>CA-key.pem -oyaml <span class=se>\
</span><span class=se></span>    --dry-run<span class=o>=</span>client &gt; secret.yaml
</code></pre></div><p>The content of the <code>secret.yaml</code> should look like the following, for a full example see <a href=https://github.com/gardener/cert-management/blob/master/examples/20-issuer-ca.yaml>examples/20-issuer-ca.yaml</a></p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span><span class=w></span><span class=nt>data</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>tls.crt</span><span class=p>:</span><span class=w> </span>{<span class=l>base64 certificate}</span><span class=w>
</span><span class=w>  </span><span class=nt>tls.key</span><span class=p>:</span><span class=w> </span>{<span class=l>base64 private key}</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Secret</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>issuer-ca-secret</span><span class=w>
</span><span class=w></span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>kubernetes.io/tls</span><span class=w>
</span></code></pre></div><p>Apply the secrets in the cluster and create the issuer,
for example see <a href=https://github.com/gardener/cert-management/blob/master/examples/20-issuer-ca.yaml>examples/20-issuer-ca.yaml</a></p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nn>---</span><span class=w>
</span><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>cert.gardener.cloud/v1alpha1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Issuer</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>issuer-ca</span><span class=w>
</span><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>ca</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>privateKeySecretRef</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>issuer-ca-secret</span><span class=w>
</span><span class=w>      </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></code></pre></div><p>The state of the issuer resource can be checked on the <code>default</code> cluster with</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ kubectl get issuer
NAME        SERVER   EMAIL   STATUS   TYPE   AGE
issuer-ca                    Ready    ca     6s
</code></pre></div><p>Some details about the CA can be found in the status of the issuer.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ kubectl get issuer issuer-ca -ojsonpath<span class=o>=</span><span class=s1>&#39;{.status}&#39;</span> <span class=p>|</span> jq <span class=s1>&#39;.&#39;</span>
<span class=o>{</span>
  <span class=s2>&#34;ca&#34;</span>: <span class=o>{</span>
    <span class=s2>&#34;NotAfter&#34;</span>: <span class=s2>&#34;2023-05-31T14:55:55Z&#34;</span>,
    <span class=s2>&#34;NotBefore&#34;</span>: <span class=s2>&#34;2020-09-03T14:55:55Z&#34;</span>,
    <span class=s2>&#34;Subject&#34;</span>: <span class=o>{</span>
      <span class=s2>&#34;CommonName&#34;</span>: <span class=s2>&#34;my-domain.com&#34;</span>,
      <span class=s2>&#34;Country&#34;</span>: <span class=o>[</span>
        <span class=s2>&#34;DE&#34;</span>
      <span class=o>]</span>,
      <span class=s2>&#34;Locality&#34;</span>: <span class=o>[</span>
        <span class=s2>&#34;Walldorf&#34;</span>
      <span class=o>]</span>,
      <span class=s2>&#34;Organization&#34;</span>: <span class=o>[</span>
        <span class=s2>&#34;Gardener&#34;</span>
      <span class=o>]</span>,
      <span class=s2>&#34;OrganizationalUnit&#34;</span>: <span class=o>[</span>
        <span class=s2>&#34;Gardener&#34;</span>
      <span class=o>]</span>,
      <span class=s2>&#34;PostalCode&#34;</span>: null,
      <span class=s2>&#34;Province&#34;</span>: <span class=o>[</span>
        <span class=s2>&#34;BW&#34;</span>
      <span class=o>]</span>,
      <span class=s2>&#34;SerialNumber&#34;</span>: <span class=s2>&#34;1E04A2C8F057AC890F45FEC5446AE4DDA73EA1D5&#34;</span>,
      <span class=s2>&#34;StreetAddress&#34;</span>: null
    <span class=o>}</span>
  <span class=o>}</span>,
  <span class=s2>&#34;observedGeneration&#34;</span>: 1,
  <span class=s2>&#34;requestsPerDayQuota&#34;</span>: 10000,
  <span class=s2>&#34;state&#34;</span>: <span class=s2>&#34;Ready&#34;</span>,
  <span class=s2>&#34;type&#34;</span>: <span class=s2>&#34;ca&#34;</span>
<span class=o>}</span>
</code></pre></div><h2 id=requesting-a-certificate>Requesting a Certificate</h2><p>To obtain a certificate for a domain, you specify a certificate custom resource on the <code>source</code> cluster.
You can specify the issuer explicitly by reference. If there is no issuer reference, the default issuer is
used (provided as command line option). You must either specify the <code>commonName</code> and further optional <code>dnsNames</code> or
you can also start with a certificate signing request (CSR).</p><p>For domain validation, the <code>cert-controller-manager</code> only supports DNS challenges. For this purpose it relies
on the <code>dns-controller-manager</code> from the <a href=https://github.com/gardener/external-dns-management>external-dns-management</a>
project.
If any domain name (<code>commonName</code> or any item from <code>dnsNames</code>) needs to be validated, it creates a custom resource
<code>DNSEntry</code> in the <code>dns</code> cluster.
When the certificate authority sees the temporary DNS record, the certificate is stored in a secret finally.
The name of the secret can be specified explicitly with <code>secretName</code> and will be stored in the same namespace as the
certificate on the <code>source</code> cluster.</p><p>The certificate is checked for renewal periodically. The renewal is performed automatically and the secret is updated.
Default values for periodical check is daily, the certificate is renewed if its validity expires within 60 days.</p><h3 id=using-commonname-and-optional-dnsnames>Using <code>commonName</code> and optional <code>dnsNames</code></h3><p>For example see <a href=https://github.com/gardener/cert-management/blob/master/examples/30-cert-simple.yaml>examples/30-cert-simple.yaml</a>:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>cert.gardener.cloud/v1alpha1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Certificate</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>cert-simple</span><span class=w>
</span><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>commonName</span><span class=p>:</span><span class=w> </span><span class=l>cert1.mydomain.com</span><span class=w>
</span><span class=w>  </span><span class=nt>dnsNames</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=l>cert1-foo.mydomain.com</span><span class=w>
</span><span class=w>  </span>- <span class=l>cert1-bar.mydomain.com</span><span class=w>
</span><span class=w>  </span><span class=c># if issuer is not specified, the default issuer is used</span><span class=w>
</span><span class=w>  </span><span class=nt>issuerRef</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>issuer-staging</span><span class=w>
</span></code></pre></div><h3 id=using-a-certificate-signing-request-csr>Using a certificate signing request (CSR)</h3><p>You can provide a complete CSR in PEM format (and encoded as Base64).</p><p>For example see <a href=https://github.com/gardener/cert-management/blob/master/examples/30-cert-csr.yaml>examples/30-cert-csr.yaml</a>:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>cert.gardener.cloud/v1alpha1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Certificate</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>cert-csr</span><span class=w>
</span><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>csr</span><span class=p>:</span><span class=w> </span><span class=l>LS0tLS1CRUd...</span><span class=w>
</span><span class=w>  </span><span class=nt>issuerRef</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>issuer-staging</span><span class=w>
</span></code></pre></div><p>:warning: Using a CSR is only available for ACME Issuer</p><h2 id=requesting-a-certificate-for-ingress>Requesting a Certificate for Ingress</h2><p>Add the annotation <code>cert.gardener.cloud/purpose: managed</code> to the Ingress resource.
The <code>cert-controller-manager</code> will then automatically request a certificate for all domains given by the hosts in the
<code>tls</code> section of the Ingress spec.</p><p>For compatibility with the <a href=https://github.com/gardener/cert-broker>Gardener Cert-Broker</a>, you can
alternatively use the deprecated label <code>garden.sapcloud.io/purpose: managed-cert</code> for the same outcome.</p><p>See also <a href=https://github.com/gardener/cert-management/blob/master/examples/40-ingress-echoheaders.yaml>examples/40-ingress-echoheaders.yaml</a>:</p><h3 id=process>Process</h3><ol><li><p>Create the Ingress Resource (optional)</p><p>In order to request a certificate for a domain managed by <code>cert-controller-manager</code> an Ingress is required.
In case you don’t already have one, take the following as an example:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1beta1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>vuejs-ingress</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=c># Gardener managed default domain.</span><span class=w>
</span><span class=w>  </span><span class=c># The first host is used as common name and must not exceed 64 characters</span><span class=w>
</span><span class=w>  </span>- <span class=nt>hosts</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>test.ingress.&lt;GARDENER-CLUSTER&gt;.&lt;GARDENER-PROJECT&gt;.shoot.example.com</span><span class=w>
</span><span class=w>    </span><span class=c># Certificate and private key reside in this secret.</span><span class=w>
</span><span class=w>    </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class=l>testsecret-tls</span><span class=w>
</span><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>test.ingress.&lt;GARDENER-CLUSTER&gt;.&lt;GARDENER-PROJECT&gt;.shoot.example.com</span><span class=w>
</span><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=nt>backend</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>serviceName</span><span class=p>:</span><span class=w> </span><span class=l>vuejs-svc</span><span class=w>
</span><span class=w>          </span><span class=nt>servicePort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></code></pre></div></li><li><p>Annotate the Ingress Resource</p><p>The annotation <code>cert.gardener.cloud/purpose: managed</code> instructs <code>cert-controller-manager</code> to handle certificate issuance for the domains found in labeled Ingress.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1beta1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>tls-example-ingress</span><span class=w>
</span><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=c># Let Gardener manage certificates for this Ingress.</span><span class=w>
</span><span class=w>    </span><span class=nt>cert.gardener.cloud/purpose</span><span class=p>:</span><span class=w> </span><span class=l>managed</span><span class=w>
</span><span class=w>    </span><span class=c>#dns.gardener.cloud/class: garden # needed on Gardener shoot clusters for managed DNS record creation (if not covered by `*.ingress.&lt;GARDENER-CLUSTER&gt;.&lt;GARDENER-PROJECT&gt;.shoot.example.com)</span><span class=w>
</span><span class=w>    </span><span class=c>#cert.gardener.cloud/commonname: &#34;*.demo.mydomain.com&#34; # optional, if not specified the first name from spec.tls[].hosts is used as common name</span><span class=w>
</span><span class=w>    </span><span class=c>#cert.gardener.cloud/dnsnames: &#34;&#34; # optional, if not specified the names from spec.tls[].hosts are used</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=nt>hosts</span><span class=p>:</span><span class=w>
</span><span class=w>        </span>- <span class=l>echoheaders.demo.mydomain.com</span><span class=w>
</span><span class=w>      </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class=l>cert-echoheaders</span><span class=w>
</span><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>echoheaders.demo.mydomain.com</span><span class=w>
</span><span class=w>      </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span><span class=w>        </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span><span class=w>          </span>- <span class=nt>backend</span><span class=p>:</span><span class=w>
</span><span class=w>              </span><span class=nt>serviceName</span><span class=p>:</span><span class=w> </span><span class=l>echoheaders</span><span class=w>
</span><span class=w>              </span><span class=nt>servicePort</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span><span class=w>            </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></code></pre></div><p>The annotation <code>cert.gardener.cloud/commonname</code> can be set to explicitly specify the common name.
If no set, the first name of <code>spec.tls.hosts</code> is used as common name.
The annotation <code>cert.gardener.cloud/dnsnames</code> can be used to explicitly specify the alternative DNS names.
If no set, the names of <code>spec.tls.hosts</code> are used.</p></li><li><p>Check status</p><p>A <code>certificate</code> custom resource is created in the same namespace of the <code>source</code> cluster.
You can either check the status of this certificate resource with <code>kubectl get cert</code> or you can check
the events for the ingress with <code>kubectl get events</code></p><p>The certificate is stored in the secret as specified in the Ingress resource.</p></li></ol><h2 id=requesting-a-certificate-for-service>Requesting a Certificate for Service</h2><p>If you have a service of type <code>LoadBalancer</code>, you can use the annotation <code>cert.gardener.cloud/secretname</code> together
with the annotation <code>dns.gardener.cloud/dnsnames</code> from the <code>dns-controller-manager</code> to trigger automatic creation of
a certificate. If you wan to share a certificate between multiple services and ingresses, using the annotations
<code>cert.gardener.cloud/commonname</code> and <code>cert.gardener.cloud/dnsnames</code> may be helpful.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>cert.gardener.cloud/secretname</span><span class=p>:</span><span class=w> </span><span class=l>test-service-secret</span><span class=w>
</span><span class=w>    </span><span class=nt>dns.gardener.cloud/dnsnames</span><span class=p>:</span><span class=w> </span><span class=l>test-service.demo.mydomain.com</span><span class=w>
</span><span class=w>    </span><span class=c>#dns.gardener.cloud/class: garden # needed on Gardener shoot clusters for managed DNS record creation</span><span class=w>
</span><span class=w>    </span><span class=c>#cert.gardener.cloud/commonname: &#34;*.demo.mydomain.com&#34; # optional, if not specified the first name from dns.gardener.cloud/dnsnames is used as common name</span><span class=w>
</span><span class=w>    </span><span class=c>#cert.gardener.cloud/dnsnames: &#34;&#34; # optional, if specified overrides dns.gardener.cloud/dnsnames annotation for certificate names</span><span class=w>
</span><span class=w>    </span><span class=nt>dns.gardener.cloud/ttl</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;600&#34;</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>test-service</span><span class=w>
</span><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http</span><span class=w>
</span><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span><span class=w>    </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>TCP</span><span class=w>
</span><span class=w>    </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>LoadBalancer</span><span class=w>
</span></code></pre></div><p>The annotation <code>cert.gardener.cloud/commonname</code> is optional. If not specified, the first name of the annotation
<code>dns.gardener.cloud/dnsnames</code> is used as common name. It is useful to specify it explicitly, if no <code>DNSEntry</code>
should be created for the common name by the dns-controller-manager.
A typical use case is if the common name (limited to 64 characters) is set only to
deal with real domain names specified with <code>dns.gardener.cloud/dnsnames</code> which are longer than 64 characters.
The annotation <code>cert.gardener.cloud/dnsnames</code> can be used to explicitly specify the alternative DNS names.
If set, it overrides the values from the annotation <code>dns.gardener.cloud/dnsnames</code> for the certificate (but not for
creating DNS records by the dns-controller-manager).</p><p>If you want to share a certificate between multiple services and ingresses, using the annotations <code>cert.gardener.cloud/commonname</code> and
<code>cert.gardener.cloud/dnsnames</code> may be helpful. For example, to share a wildcard certificate, you should add these two annotations</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=w>    </span><span class=nt>cert.gardener.cloud/commonname</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;*.demo.mydomain.com&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>cert.gardener.cloud/dnsnames</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></code></pre></div><p>This will create or reuse a certificate for <code>*.demo.mydomain.com</code>. An existing certificate is automatically reused,
if it has exactly the same common name and DNS names.</p><h2 id=demo-quick-start>Demo quick start</h2><ol><li><p>Run dns-controller-manager with:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>./dns-controller-manager --controllers<span class=o>=</span>azure-dns --identifier<span class=o>=</span>myOwnerId --disable-namespace-restriction
</code></pre></div></li><li><p>Ensure provider and its secret, e.g.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>kubectl apply -f azure-secret.yaml
kubectl apply -f azure-provider.yaml
</code></pre></div><ul><li><p>check with</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ kubectl get dnspr
NAME               TYPE        STATUS   AGE
azure-playground   azure-dns   Ready    28m
</code></pre></div></li></ul></li><li><p>Create test namespace</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>kubectl create ns <span class=nb>test</span>
</code></pre></div></li><li><p>Run cert-controller-manager</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>./cert-controller-manager
</code></pre></div></li><li><p>Register user <code>some.user@mydomain.com</code> at let&rsquo;s encrypt</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>kubectl apply -f examples/20-issuer-staging.yaml
</code></pre></div><ul><li><p>check with</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ kubectl get issuer
NAME             SERVER                                                   EMAIL                    STATUS   TYPE   AGE
issuer-staging   https://acme-staging-v02.api.letsencrypt.org/directory   some.user@mydomain.com   Ready    acme   8s
</code></pre></div></li></ul></li><li><p>Request a certificate for <code>cert1.martin.test6227.ml</code></p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>kubectl apply -f examples/30-cert-simple.yaml
</code></pre></div><p>If this certificate has been already registered for the same issuer before,
it will be returned immediately from the ACME server.
Otherwise a DNS challenge is started using a temporary DNSEntry to be set by <code>dns-controller-manager</code></p><ul><li><p>check with</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ kubectl get cert -o wide
NAME          COMMON NAME           ISSUER           STATUS   EXPIRATION_DATE        DNS_NAMES                 AGE
cert-simple   cert1.mydomain.com    issuer-staging   Ready    2019-11-10T09:48:17Z   <span class=o>[</span>cert1.my-domain.com<span class=o>]</span>     34s
</code></pre></div></li></ul></li></ol><h2 id=using-the-cert-controller-manager>Using the cert-controller-manager</h2><p>The cert-controller-manager communicated with up to four different clusters:</p><ul><li><strong>default</strong>
used for managing issuers and lease management.
The path to the kubeconfig is specified with command line option <code>--kubeconfig</code>.</li><li><strong>source</strong>
used for watching resources ingresses, services and certificates
The path to the kubeconfig is specified with command line option <code>--source</code>.
If option is omitted, the default cluster is used for source.</li><li><strong>dns</strong>
used to write temporary DNSEntries for DNS challenges
The path to the kubeconfig is specified with command line option <code>--dns</code>.
If option is omitted, the default cluster is used for dns.</li><li><strong>target</strong>
used for storing generated certificates (and issuers if <code>--allow-target-issuers</code>
option is set)
The path to the kubeconfig is specified with command line option <code>--target</code>.
If option is omitted, the source cluster is also used for target.</li></ul><h3 id=usage>Usage</h3><p>The complete list of options is:</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>Usage:
  cert-controller-manager [flags]

Flags:
      --accepted-maintainers string                        accepted maintainer key(s) for crds
      --allow-target-issuers                               If true, issuers are also watched on the target cluster
      --bind-address-http string                           HTTP server bind address
      --cascade-delete                                     If true, certificate secrets are deleted if dependent resources (certificate, ingress) are deleted
      --cert-class string                                  Identifier used to differentiate responsible controllers for entries
      --cert-target-class string                           Identifier used to differentiate responsible dns controllers for target entries
      --config string                                      config file
  -c, --controllers string                                 comma separated list of controllers to start (&lt;name&gt;,&lt;group&gt;,all)
      --cpuprofile string                                  set file for cpu profiling
      --default-issuer string                              name of default issuer (from default cluster)
      --default-issuer-domain-ranges string                domain range restrictions when using default issuer separated by comma
      --default-requests-per-day-quota int                 Default value for requestsPerDayQuota if not set explicitly in the issuer spec.
      --default.pool.resync-period duration                Period for resynchronization for pool default
      --default.pool.size int                              Worker pool size for pool default
      --disable-namespace-restriction                      disable access restriction for namespace local access only
      --dns string                                         cluster for writing challenge DNS entries
      --dns-class string                                   class for creating challenge DNSEntries (in DNS cluster)
      --dns-namespace string                               namespace for creating challenge DNSEntries (in DNS cluster)
      --dns-owner-id string                                ownerId for creating challenge DNSEntries
      --dns.disable-deploy-crds                            disable deployment of required crds for cluster dns
      --dns.id string                                      id for cluster dns
      --dns.migration-ids string                           migration id for cluster dns
      --force-crd-update                                   enforce update of crds even they are unmanaged
      --grace-period duration                              inactivity grace period for detecting end of cleanup for shutdown
  -h, --help                                               help for cert-controller-manager
      --ingress-cert.cert-class string                     Identifier used to differentiate responsible controllers for entries of controller ingress-cert
      --ingress-cert.cert-target-class string              Identifier used to differentiate responsible dns controllers for target entries of controller ingress-cert
      --ingress-cert.default.pool.resync-period duration   Period for resynchronization for pool default of controller ingress-cert
      --ingress-cert.default.pool.size int                 Worker pool size for pool default of controller ingress-cert
      --ingress-cert.pool.resync-period duration           Period for resynchronization of controller ingress-cert
      --ingress-cert.pool.size int                         Worker pool size of controller ingress-cert
      --ingress-cert.target-name-prefix string             name prefix in target namespace for cross cluster generation of controller ingress-cert
      --ingress-cert.target-namespace string               target namespace for cross cluster generation of controller ingress-cert
      --ingress-cert.targets.pool.size int                 Worker pool size for pool targets of controller ingress-cert
      --issuer-namespace string                            namespace to lookup issuers on default cluster
      --issuer.allow-target-issuers                        If true, issuers are also watched on the target cluster of controller issuer
      --issuer.cascade-delete                              If true, certificate secrets are deleted if dependent resources (certificate, ingress) are deleted of controller issuer
      --issuer.cert-class string                           Identifier used to differentiate responsible controllers for entries of controller issuer
      --issuer.default-issuer string                       name of default issuer (from default cluster) of controller issuer
      --issuer.default-issuer-domain-ranges string         domain range restrictions when using default issuer separated by comma of controller issuer
      --issuer.default-requests-per-day-quota int          Default value for requestsPerDayQuota if not set explicitly in the issuer spec. of controller issuer
      --issuer.default.pool.resync-period duration         Period for resynchronization for pool default of controller issuer
      --issuer.default.pool.size int                       Worker pool size for pool default of controller issuer
      --issuer.dns-class string                            class for creating challenge DNSEntries (in DNS cluster) of controller issuer
      --issuer.dns-namespace string                        namespace for creating challenge DNSEntries (in DNS cluster) of controller issuer
      --issuer.dns-owner-id string                         ownerId for creating challenge DNSEntries of controller issuer
      --issuer.issuer-namespace string                     namespace to lookup issuers on default cluster of controller issuer
      --issuer.issuers.pool.size int                       Worker pool size for pool issuers of controller issuer
      --issuer.pool.resync-period duration                 Period for resynchronization of controller issuer
      --issuer.pool.size int                               Worker pool size of controller issuer
      --issuer.precheck-additional-wait duration           additional wait time after DNS propagation check of controller issuer
      --issuer.precheck-nameservers string                 DNS nameservers used for checking DNS propagation. If explicity set empty, it is tried to read them from /etc/resolv.conf of controller issuer
      --issuer.propagation-timeout duration                propagation timeout for DNS challenge of controller issuer
      --issuer.renewal-overdue-window duration             certificate is counted as &#39;renewal overdue&#39; if its validity period is shorter (metrics cert_management_overdue_renewal_certificates) of controller issuer
      --issuer.renewal-window duration                     certificate is renewed if its validity period is shorter of controller issuer
      --issuer.revocations.pool.size int                   Worker pool size for pool revocations of controller issuer
      --issuer.secrets.pool.size int                       Worker pool size for pool secrets of controller issuer
      --issuers.pool.size int                              Worker pool size for pool issuers
      --kubeconfig string                                  default cluster access
      --kubeconfig.disable-deploy-crds                     disable deployment of required crds for cluster default
      --kubeconfig.id string                               id for cluster default
      --kubeconfig.migration-ids string                    migration id for cluster default
      --lease-duration duration                            lease duration
      --lease-name string                                  name for lease object
      --lease-renew-deadline duration                      lease renew deadline
      --lease-resource-lock string                         determines which resource lock to use for leader election, defaults to &#39;configmapsleases&#39;
      --lease-retry-period duration                        lease retry period
  -D, --log-level string                                   logrus log level
      --maintainer string                                  maintainer key for crds (default &#34;cert-controller-manager&#34;)
      --name string                                        name used for controller manager (default &#34;cert-controller-manager&#34;)
      --namespace string                                   namespace for lease (default &#34;kube-system&#34;)
  -n, --namespace-local-access-only                        enable access restriction for namespace local access only (deprecated)
      --omit-lease                                         omit lease for development
      --plugin-file string                                 directory containing go plugins
      --pool.resync-period duration                        Period for resynchronization
      --pool.size int                                      Worker pool size
      --precheck-additional-wait duration                  additional wait time after DNS propagation check
      --precheck-nameservers string                        DNS nameservers used for checking DNS propagation. If explicity set empty, it is tried to read them from /etc/resolv.conf
      --propagation-timeout duration                       propagation timeout for DNS challenge
      --renewal-overdue-window duration                    certificate is counted as &#39;renewal overdue&#39; if its validity period is shorter (metrics cert_management_overdue_renewal_certificates)
      --renewal-window duration                            certificate is renewed if its validity period is shorter
      --revocations.pool.size int                          Worker pool size for pool revocations
      --secrets.pool.size int                              Worker pool size for pool secrets
      --server-port-http int                               HTTP server port (serving /healthz, /metrics, ...)
      --service-cert.cert-class string                     Identifier used to differentiate responsible controllers for entries of controller service-cert
      --service-cert.cert-target-class string              Identifier used to differentiate responsible dns controllers for target entries of controller service-cert
      --service-cert.default.pool.resync-period duration   Period for resynchronization for pool default of controller service-cert
      --service-cert.default.pool.size int                 Worker pool size for pool default of controller service-cert
      --service-cert.pool.resync-period duration           Period for resynchronization of controller service-cert
      --service-cert.pool.size int                         Worker pool size of controller service-cert
      --service-cert.target-name-prefix string             name prefix in target namespace for cross cluster generation of controller service-cert
      --service-cert.target-namespace string               target namespace for cross cluster generation of controller service-cert
      --service-cert.targets.pool.size int                 Worker pool size for pool targets of controller service-cert
      --source string                                      source cluster to watch for ingresses and services
      --source.disable-deploy-crds                         disable deployment of required crds for cluster source
      --source.id string                                   id for cluster source
      --source.migration-ids string                        migration id for cluster source
      --target string                                      target cluster for certificates
      --target-name-prefix string                          name prefix in target namespace for cross cluster generation
      --target-namespace string                            target namespace for cross cluster generation
      --target.disable-deploy-crds                         disable deployment of required crds for cluster target
      --target.id string                                   id for cluster target
      --target.migration-ids string                        migration id for cluster target
      --targets.pool.size int                              Worker pool size for pool targets
  -v, --version                                            version for cert-controller-manager
</code></pre></div><h2 id=renewal-of-certificates>Renewal of Certificates</h2><p>Certificates created with an <code>ACME</code> issuer are automatically renewed. With the standard configuration,
the certificate is renewed 30 days before it validity expires.
For example, if <a href=https://letsencrypt.org/>Let&rsquo;s Encrypt</a> is used as certificate authority, a certificate
is always valid for 90 days and will be rolled 30 days before it expires by updating the referenced <code>Secret</code>
in the <code>Certificate</code> object.<br>The configuration can be changed with the command line parameter <code>--issuer.renewal-window</code>.</p><h2 id=revoking-certificates>Revoking Certificates</h2><p>Certificates created with an <code>ACME</code> issuer can also be revoked if private key of the certificate
is not longer safe. This page about <a href=https://letsencrypt.org/docs/revoking/>Revoking certificates on Let&rsquo;s Encrypt</a>
list various reasons:</p><blockquote><p>For instance, you might accidentally share the private key on a public website; hackers might copy the private key off
of your servers; or hackers might take temporary control over your servers or your DNS configuration, and use that to
validate and issue a certificate for which they hold the private key.</p></blockquote><p>Revoking a certificate is quite simple. You create a <code>CertificateRevocation</code> object on the source cluster with a reference
to the <code>Certificate</code> object to be revoked.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>cert.gardener.cloud/v1alpha1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>CertificateRevocation</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>revoke-sample</span><span class=w>
</span><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>certificateRef</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>mycert</span><span class=w>
</span><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w>    
</span><span class=w>  </span><span class=c># Uncomment the following line if certificate should be renewed before revoking the old one(s)</span><span class=w>
</span><span class=w>  </span><span class=c>#renew: true</span><span class=w>
</span><span class=w>  
</span><span class=w>  </span><span class=c># Optionally specify a qualifying date. All certificates requested before this date will be revoked.</span><span class=w>
</span><span class=w>  </span><span class=c># If not specified, the current time is used by default.</span><span class=w>
</span><span class=w>  </span><span class=c>#qualifyingDate: &#34;2020-12-22T17:00:35Z&#34;</span><span class=w>
</span></code></pre></div><p>The <code>cert-controller-manager</code> will then perform several steps.</p><ol><li><p>Using the certificate secret it looks for other <code>Certificate</code> objects using the same certificate. The &ldquo;same&rdquo;
certificate means same issuer, <em>Common Name</em>, and <em>DNS Names</em>. All found objects will be reconciled too.</p></li><li><p>It will look for other valid certificate secrets older than the qualifying date. Concretely this will
deal with unused certificates, which are still valid. As a certificate is renewed 30 days before the end of validity,
the old certificate is still valid, but not used anymore.</p></li><li><p>All found certificate secrets are revoked and marked with an annotation <code>cert.gardener.cloud/revoked: "true"</code></p></li><li><p>The state of all found <code>Certificate</code> objects is set to <code>Revoked</code></p></li><li><p>The state of the <code>CertificateRevocation</code> object is set to <code>Applied</code>.
Additionally, the status of the <code>CertificateRevocation</code> object contains more details about revoked
objects and secrets:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>cert.gardener.cloud/v1alpha1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>CertificateRevocation</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>revoke-sample</span><span class=w>
</span><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>certificateRef</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>mycert</span><span class=w>
</span><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w>  </span><span class=nt>qualifyingDate</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2020-12-22T17:00:35Z&#34;</span><span class=w>
</span><span class=w></span><span class=nt>status</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=l>certificate(s) revoked</span><span class=w>
</span><span class=w>  </span><span class=nt>objects</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>revoked</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>mycert</span><span class=w>
</span><span class=w>      </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w>  </span><span class=nt>revocationApplied</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2020-12-22T17:09:32Z&#34;</span><span class=w>
</span><span class=w>  </span><span class=nt>secrets</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>revoked</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>cert-backup-default-issuer-8a7e93f7-sks7p</span><span class=w>
</span><span class=w>      </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>kube-system</span><span class=w>
</span><span class=w>      </span><span class=nt>serialNumber</span><span class=p>:</span><span class=w> </span><span class=l>fa:3f:9a:5e:ac:47:ee:d1:91:a6:31:a7:43:6f:8a:7e:93:f7</span><span class=w>
</span><span class=w>  </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class=l>Applied</span><span class=w>
</span></code></pre></div><p>The secrets listed in the status are only the internal backups maintained by the <code>cert-controller-manager</code>.
The actual secrets used by the <code>Certificate</code> objects are not listed, but nonetheless marked as revoked.</p></li></ol><h3 id=revoking-certificates-with-renewal>Revoking certificates with renewal</h3><p>With this variant the certificate is renewed, before the old one(s) are revoked. This means the
certificate secrets of the <code>Certificate</code> objects will contain newly requested certificates and
the old certificate(s) will be revoked afterwards.</p><p>For this purpose, set <code>renew: true</code> in the spec of the <code>CertificateRevocation</code> object:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>cert.gardener.cloud/v1alpha1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>CertificateRevocation</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>revoke-sample</span><span class=w>
</span><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>certificateRef</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>mycert</span><span class=w>
</span><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w>  </span><span class=nt>renew</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></code></pre></div><p>In this case, the status will list the <strong>renewed</strong> <code>Certificate</code> objects:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>cert.gardener.cloud/v1alpha1</span><span class=w>
</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>CertificateRevocation</span><span class=w>
</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>revoke-sample</span><span class=w>
</span><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>certificateRef</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>mycert</span><span class=w>
</span><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w>  </span><span class=nt>renew</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=nt>qualifyingDate</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2020-12-22T17:00:35Z&#34;</span><span class=w>
</span><span class=w></span><span class=nt>status</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=l>certificate renewed and old certificate(s) revoked</span><span class=w>
</span><span class=w>  </span><span class=nt>objects</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>renewed</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>mycert</span><span class=w>
</span><span class=w>      </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=w>  </span><span class=nt>revocationApplied</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2020-12-22T17:09:32Z&#34;</span><span class=w>
</span><span class=w>  </span><span class=nt>secrets</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>revoked</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>cert-backup-default-issuer-8a7e93f7-sks7p</span><span class=w>
</span><span class=w>      </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>kube-system</span><span class=w>
</span><span class=w>      </span><span class=nt>serialNumber</span><span class=p>:</span><span class=w> </span><span class=l>fa:3f:9a:5e:ac:47:ee:d1:91:a6:31:a7:43:6f:8a:7e:93:f7</span><span class=w>
</span><span class=w>  </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class=l>Applied</span><span class=w>
</span></code></pre></div><h3 id=checking-ocsp-revocation-using-openssl>Checking OCSP revocation using OpenSSL</h3><p>To verify the OCSP revocation of the X509 certificate of a <code>Certificate</code> object,
you can use the tool <code>hack/check-cert-secret.sh</code> in this repository.</p><p>Usage:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>hack/check-cert-secret.sh check-revoke mynamespace mycertname
</code></pre></div><p>Here <em>mynamespace</em> and <em>mycertname</em> are the namespace and the name of the certificate object.</p><h2 id=metrics>Metrics</h2><p>Metrics are exposed for Prometheus if the command line option <code>--server-port-http &lt;port></code> is specified.
The endpoint URL is <code>http://&lt;pod-ip>:&lt;port>/metrics</code>.
Besides the default Go metrics, the following cert-management specific metrics are provided:</p><table><thead><tr><th>Name</th><th>Labels</th><th>Description</th></tr></thead><tbody><tr><td>cert_management_acme_account_registrations</td><td>uri, email, issuer</td><td>ACME account registrations</td></tr><tr><td>cert_management_acme_orders</td><td>issuer, success, dns_challenges, renew</td><td>Number of ACME orders</td></tr><tr><td>cert_management_cert_entries</td><td>issuer, issuertype</td><td>Total number of certificate objects per issuer</td></tr><tr><td>cert_management_acme_active_dns_challenges</td><td>issuer</td><td>Currently active number of ACME DNS challenges</td></tr><tr><td>cert_management_overdue_renewal_certificates</td><td>-</td><td>Number of certificate objects with certificate&rsquo;s renewal overdue</td></tr><tr><td>cert_management_revoked_certificates</td><td>-</td><td>Number of certificate objects with revoked certificate</td></tr><tr><td>cert_management_secrets</td><td>classification</td><td>Number of certificate secrets per classification (only updated on startup and every 24h on GC of secrets). Currently there are three classifications: <code>total</code> = total number of certificate secrets on the source cluster, <code>revoked</code> = number of revoked certificate secrets, <code>backup</code>= number of backups of certificate secrets (every certificate has a backup secret in the <code>kube-system</code> namespace to allow revocation even if it is not used anymore)</td></tr></tbody></table><h2 id=development>Development</h2><p>For development it is recommended to use the issuer-staging</p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}.display-none{display:none}</style><div class="d-print-none display-none"><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes"></p><p class="feedback--response feedback--response-no"></p></div><script>const yesButton=document.querySelector('.feedback--answer-yes'),noButton=document.querySelector('.feedback--answer-no'),yesResponse=document.querySelector('.feedback--response-yes'),noResponse=document.querySelector('.feedback--response-no'),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=b=>{if(typeof ga!='function')return;const a={command:'send',hitType:'event',category:'Helpful',action:'click',label:window.location.pathname,value:b};ga(a.command,a.hitType,a.category,a.action,a.label,a.value)};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(1)}),noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top"></div></div></main></div></div><footer class="footer row d-print-none"><div class="container-fluid footer-wrapper"><ul class=nav><li><a href=/blog/>Blogs</a></li><li><a href=/community/>Community</a></li><li><a href=/adopter/>Adopters</a></li><li><a href=/docs/>Documentation</a></li></ul><img src=/images/lp/gardener-logo.svg alt="Logo Gardener" class=logo><ul class=media-wr><li><a target=_blank href=https://kubernetes.slack.com/archives/CB57N0BFG><img src=/images/branding/slack-logo-white.svg class=media-icon><div class=media-text>Slack</div></a></li><li><a target=_blank href=https://github.com/gardener><img src=/images/branding/github-mark-logo.png class=media-icon><div class=media-text>GitHub</div></a></li><li><a target=_blank href=https://www.youtube.com/channel/UCwUhwKFREV8Su0gwAJQX7tw><img src=/images/branding/youtube-logo-dark.svg class=media-icon><div class=media-text>YouTube</div></a></li><li><a target=_blank href=https://twitter.com/GardenerProject><img src=/images/branding/twitter-logo-white.svg class=media-icon><div class=media-text>Twitter</div></a></li></ul><span class=copyright>Copyright 2019-2021 Gardener project authors. <a href=https://www.sap.com/corporate/en/legal/privacy.html>Privacy policy
<i class="fa fa-external-link" aria-hidden=true></i></a></span></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>