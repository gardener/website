<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project Gardener Website - A Managed Kubernetes Service Done Right"><meta name=copyright content="Copyright 2019 Gardener project authors."><title>Shoot Cluster Maintenance :: Gardener</title><link rel=icon type=image/x-icon href=https://gardener.cloud/images/favicon.ico><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-16x16.png sizes=16x16><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-W2FGNSX');</script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-165447164-1');</script><link href=/css/nucleus.css?1592587941 rel=stylesheet><link href=/css/font-awesome.min.css?1592587941 rel=stylesheet><link href=/css/hybrid.css?1592587941 rel=stylesheet><link href=/css/featherlight.min.css?1592587941 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1592587941 rel=stylesheet><link href=/css/auto-complete.css?1592587941 rel=stylesheet><link href=/css/skeleton.css?1592587941 rel=stylesheet><link href=/css/sheetslider.css?1592587941 rel=stylesheet><link rel=stylesheet href=/css/gardener.42d0a1d9df516989693d459cd118e6751f9b67a8b7bc41b1955bca0df674d429.css><script src=/js/moment.js?1592587941></script><script src=/js/vivus.js?1592587941></script><script src=/js/scrollreveal.js?1592587941></script><script src=/js/inlineSVG.js?1592587941></script><script src=/js/jquery.min.js?1592587941></script><script src=/js/fixed.js?1592587941></script><script src=/js/clipboard.min.js?1592587941></script><script src=https://platform.linkedin.com/in.js type=text/javascript>lang:en_US</script></head><body data-url=/documentation/guides/administer_shoots/maintain-shoot/ class=has-sticky-navigation><script>$(document).ready(function(){function initStickyNav(){var stickyPoint;var tln=document.querySelector(".tln");if(!tln){return;}
var stickyPointEl=document.querySelector(".sticky-nav-point");if(stickyPointEl==null){stickyPointEl=document.querySelector("body");stickyPoint=0;}else{stickyPoint=stickyPointEl.clientHeight+stickyPointEl.offsetTop;}
var bodySelector=document.getElementsByTagName("body")[0];var tlnHeight=tln.clientHeight;var stickyNavigation=function(){if(window.pageYOffset+tlnHeight>=stickyPoint){bodySelector.classList.add("has-sticky-navigation");tln.classList.add("sticky-top");}else{bodySelector.classList.remove("has-sticky-navigation");tln.classList.remove("sticky-top");}}
window.onscroll=function(){stickyNavigation();};}
initStickyNav();});</script><div class="tln fixedsticky sticky-top"><header class=navigation><div class=container><div class=navigation-wrapper><a href=/ class=logo><img src=/images/logo.svg>
<span class=title>Gardener</span></a>
<a class="nav-button navbar-toggler" href=#><i class="fa fa-bars"></i></a><div class=navbar-collapse><ul class=links><li class=link><a href=/blog/>Blogs</a></li><li class=link><a href=/community/>Community</a></li><li class=link><a href=/adopter/>Adopters</a></li><li class="link has-child active"><a href=/documentation/home>Documentation</a><nav class="container menu"><ul class="topics links"><li data-nav-id=/documentation/home/ title=Home class="dd-item link root" data-depth=0><a href=/documentation/home/><span class=menu-item-text>Home</span></a></li><li data-nav-id=/documentation/concepts/ title=Concepts class="dd-item link root" data-depth=0><a href=/documentation/concepts/><span class=menu-item-text>Concepts</span></a><ul><li data-nav-id=/documentation/concepts/architecture/ title=Architecture class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/architecture/><span class=menu-item-text>Architecture</span></a><ul><li data-nav-id=/components/gardener/ title=Gardener class="dd-item link" data-depth=2><a href=/components/gardener/><span class=menu-item-text>Gardener</span></a></li><li data-nav-id=/components/gardenctl/ title=gardenctl class="dd-item link" data-depth=2><a href=/components/gardenctl/><span class=menu-item-text>gardenctl</span></a></li><li data-nav-id=/components/dashboard/ title=Dashboard class="dd-item link" data-depth=2><a href=/components/dashboard/><span class=menu-item-text>Dashboard</span></a></li><li data-nav-id=/components/kubify/ title=kubify class="dd-item link" data-depth=2><a href=/components/kubify/><span class=menu-item-text>kubify</span></a></li><li data-nav-id=/components/bouquet/ title=Bouquet class="dd-item link" data-depth=2><a href=/components/bouquet/><span class=menu-item-text>Bouquet</span></a></li></ul></li><li data-nav-id=/documentation/concepts/backup-restore/ title="Backup and Restore" class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/backup-restore/><span class=menu-item-text>Backup and Restore</span></a></li><li data-nav-id=/documentation/concepts/core-components/ title="Core Components" class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/core-components/api-server><span class=menu-item-text>Core Components</span></a><ul><li data-nav-id=/documentation/concepts/core-components/api-server/ title="Gardener API Server" class="dd-item link" data-depth=2><a href=/documentation/concepts/core-components/api-server/><span class=menu-item-text>Gardener API Server</span></a><ul><li data-nav-id=/documentation/concepts/core-components/api-server/admission-plugins/ title="In-Tree Admission Plugins" class="dd-item link" data-depth=3><a href=/documentation/concepts/core-components/api-server/admission-plugins/><span class=menu-item-text>In-Tree Admission Plugins</span></a></li></ul></li><li data-nav-id=/documentation/concepts/core-components/gardenlet/ title=Gardenlet class="dd-item link" data-depth=2><a href=/documentation/concepts/core-components/gardenlet/><span class=menu-item-text>Gardenlet</span></a></li><li data-nav-id=/documentation/concepts/core-components/scheduler/ title="Gardener Scheduler" class="dd-item link" data-depth=2><a href=/documentation/concepts/core-components/scheduler/><span class=menu-item-text>Gardener Scheduler</span></a></li><li data-nav-id=/documentation/concepts/core-components/seed-admission-ctrl/ title="Gardener Seed Admission Controller" class="dd-item link" data-depth=2><a href=/documentation/concepts/core-components/seed-admission-ctrl/><span class=menu-item-text>Gardener Seed Admission Controller</span></a></li></ul></li><li data-nav-id=/documentation/concepts/deployment/in_kubernetes/ title="Deploying the Gardener into a Kubernetes cluster" class=dd-item><a href=/documentation/concepts/deployment/in_kubernetes/><span class=toggle></span><span class=menu-item-text></span>Deploying the Gardener into a Kubernetes cluster</span></a></a></li><li data-nav-id=/documentation/concepts/deployment/feature_gates/ title="Feature Gates" class=dd-item><a href=/documentation/concepts/deployment/feature_gates/><span class=toggle></span><span class=menu-item-text></span>Feature Gates</span></a></a></li><li data-nav-id=/documentation/concepts/extensions/ title=Extensions class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/extensions/><span class=menu-item-text>Extensions</span></a><ul><li data-nav-id=/documentation/concepts/extensions/ctrl-registration/ title="Extension controller registration" class="dd-item link" data-depth=2><a href=/documentation/concepts/extensions/ctrl-registration/><span class=menu-item-text>Extension controller registration</span></a></li></ul></li><li data-nav-id=/documentation/concepts/mcm/ title="Machine Controller Manager" class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/mcm/><span class=menu-item-text>Machine Controller Manager</span></a></li><li data-nav-id=/documentation/concepts/monitoring/ title=Monitoring class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/monitoring/><span class=menu-item-text>Monitoring</span></a><ul><li data-nav-id=/documentation/concepts/monitoring/alerting/ title=Alerting class=dd-item><a href=/documentation/concepts/monitoring/alerting/><span class=toggle></span><span class=menu-item-text></span>Alerting</span></a></a></li><li data-nav-id=/documentation/concepts/monitoring/extending/ title="Extending the Monitoring Stack" class=dd-item><a href=/documentation/concepts/monitoring/extending/><span class=toggle></span><span class=menu-item-text></span>Extending the Monitoring Stack</span></a></a></li><li data-nav-id=/documentation/concepts/monitoring/operator_alerts/ title="Operator Alerts" class=dd-item><a href=/documentation/concepts/monitoring/operator_alerts/><span class=toggle></span><span class=menu-item-text></span>Operator Alerts</span></a></a></li><li data-nav-id=/documentation/concepts/monitoring/user_alerts/ title="User Alerts" class=dd-item><a href=/documentation/concepts/monitoring/user_alerts/><span class=toggle></span><span class=menu-item-text></span>User Alerts</span></a></a></li></ul></li></ul></li><li data-nav-id=/documentation/guides/ title="How-To Guides" class="dd-item link root" data-depth=0><a href=/documentation/guides/><span class=menu-item-text>How-To Guides</span></a><ul><li data-nav-id=/documentation/guides/administer_shoots/ title="Administer Client (Shoot) Clusters" class="dd-item link top-level" data-depth=1><a href=/documentation/guides/administer_shoots/><span class=menu-item-text>Administer Client (Shoot) Clusters</span></a></li><li data-nav-id=/documentation/guides/applications/ title=Applications class="dd-item link top-level" data-depth=1><a href=/documentation/guides/applications/><span class=menu-item-text>Applications</span></a></li><li data-nav-id=/documentation/guides/client_tools/ title="Set Up Client Tools" class="dd-item link top-level" data-depth=1><a href=/documentation/guides/client_tools/><span class=menu-item-text>Set Up Client Tools</span></a></li><li data-nav-id=/documentation/guides/gardener-cookies/ title="Gardener Cookies" class="dd-item link top-level" data-depth=1><a href=/documentation/guides/gardener-cookies/><span class=menu-item-text>Gardener Cookies</span></a></li><li data-nav-id=/documentation/guides/install_gardener/ title="Install Gardener" class="dd-item link top-level" data-depth=1><a href=/documentation/guides/install_gardener/><span class=menu-item-text>Install Gardener</span></a></li><li data-nav-id=/documentation/guides/monitoring_and_troubleshooting/ title="Monitor and Troubleshoot" class="dd-item link top-level" data-depth=1><a href=/documentation/guides/monitoring_and_troubleshooting/><span class=menu-item-text>Monitor and Troubleshoot</span></a></li></ul></li><li data-nav-id=/documentation/tutorials/ title=Tutorials class="dd-item link root" data-depth=0><a href=/documentation/tutorials/><span class=menu-item-text>Tutorials</span></a><ul><li data-nav-id=/documentation/tutorials/dynamic-pvc/ title="Dynamic Volume Provisioning" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/dynamic-pvc/><span class=menu-item-text>Dynamic Volume Provisioning</span></a></li><li data-nav-id=/documentation/tutorials/featureflag/ title="Feature Flags in Kubernetes Applications" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/featureflag/><span class=menu-item-text>Feature Flags in Kubernetes Applications</span></a></li><li data-nav-id=/documentation/tutorials/gpu/ title="GPU Enabled Cluster" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/gpu/><span class=menu-item-text>GPU Enabled Cluster</span></a></li><li data-nav-id=/documentation/tutorials/knative-install/ title="Install Knative in Gardener clusters" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/knative-install/><span class=menu-item-text>Install Knative in Gardener clusters</span></a></li><li data-nav-id=/documentation/tutorials/node-overprovisioning/ title="Cluster Overprovisioning" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/node-overprovisioning/><span class=menu-item-text>Cluster Overprovisioning</span></a></li><li data-nav-id=/documentation/tutorials/s3/ title="Shared storage with S3 backend" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/s3/><span class=menu-item-text>Shared storage with S3 backend</span></a></li><li data-nav-id=/documentation/tutorials/shoot_istio_dns_certs/ title="Gardener yourself a Shoot with Istio, custom Domains, and Certificates" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/shoot_istio_dns_certs/><span class=menu-item-text>Gardener yourself a Shoot with Istio, custom Domains, and Certificates</span></a></li></ul></li><li data-nav-id=/documentation/references/ title="API Reference" class="dd-item link root" data-depth=0><a href=/documentation/references/><span class=menu-item-text>API Reference</span></a><ul><li data-nav-id=/api-reference/core/ title=Core class="dd-item link top-level" data-depth=1><a href=/api-reference/core/><span class=menu-item-text>Core</span></a></li><li data-nav-id=/api-reference/extensions/ title=Extensions class="dd-item link top-level" data-depth=1><a href=/api-reference/extensions/><span class=menu-item-text>Extensions</span></a></li><li data-nav-id=/api-reference/settings/ title=Settings class="dd-item link top-level" data-depth=1><a href=/api-reference/settings/><span class=menu-item-text>Settings</span></a></li></ul></li><li data-nav-id=/documentation/contribute/ title=Contribute class="dd-item link root" data-depth=0><a href=/documentation/contribute/><span class=menu-item-text>Contribute</span></a><ul><li data-nav-id=/contribute/code/ title=Code class="dd-item link top-level" data-depth=1><a href=/contribute/code/><span class=menu-item-text>Code</span></a><ul><li data-nav-id=/documentation/contribute/10_code/10-contribution_guide/ title="Contribution Guide" class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/10-contribution_guide/><span class=menu-item-text>Contribution Guide</span></a></li><li data-nav-id=/documentation/contribute/10_code/12-security_guide/ title="Security Release Process" class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/12-security_guide/><span class=menu-item-text>Security Release Process</span></a></li><li data-nav-id=/documentation/contribute/10_code/13_env/ title=Enviroment class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/13_env/><span class=menu-item-text>Enviroment</span></a></li><li data-nav-id=/documentation/contribute/10_code/14_cicd/ title=CI/CD class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/14_cicd/><span class=menu-item-text>CI/CD</span></a></li><li data-nav-id=/documentation/contribute/10_code/15_conf_secrets/ title="Configuration and Usage" class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/15_conf_secrets/><span class=menu-item-text>Configuration and Usage</span></a></li><li data-nav-id=/documentation/contribute/10_code/20_dependencies/ title=Dependencies class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/20_dependencies/><span class=menu-item-text>Dependencies</span></a></li><li data-nav-id=/documentation/contribute/10_code/27_deploy_into_cluster/ title="Deploy into a Cluster" class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/27_deploy_into_cluster/><span class=menu-item-text>Deploy into a Cluster</span></a></li><li data-nav-id=/documentation/contribute/10_code/30_deploy_seed_into_aks/ title="Deploy into AKS" class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/30_deploy_seed_into_aks/><span class=menu-item-text>Deploy into AKS</span></a></li><li data-nav-id=/documentation/contribute/10_code/37_process/ title=Process class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/37_process/><span class=menu-item-text>Process</span></a></li><li data-nav-id=/documentation/contribute/10_code/40_repositories/ title=Repositories class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/40_repositories/><span class=menu-item-text>Repositories</span></a></li></ul></li><li data-nav-id=/contribute/docs/ title=Documentation class="dd-item link top-level" data-depth=1><a href=/contribute/docs/><span class=menu-item-text>Documentation</span></a><ul><li data-nav-id=/documentation/contribute/20_documentation/10_organisation/ title=Organisation class="dd-item link" data-depth=2><a href=/documentation/contribute/20_documentation/10_organisation/><span class=menu-item-text>Organisation</span></a></li><li data-nav-id=/documentation/contribute/20_documentation/20_style/ title="Style Guide" class="dd-item link" data-depth=2><a href=/documentation/contribute/20_documentation/20_style/><span class=menu-item-text>Style Guide</span></a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/ title=Markdown class="dd-item link" data-depth=2><a href=/documentation/contribute/20_documentation/25_markup/><span class=menu-item-text>Markdown</span></a><ul><li data-nav-id=/documentation/contribute/20_documentation/25_markup/attachments/ title=Attachments class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/attachments/><span class=toggle></span><span class=menu-item-text></span>Attachments</span></a></a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/button/ title=Button class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/button/><span class=toggle></span><span class=menu-item-text></span>Button</span></a></a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/expand/ title=Expand class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/expand/><span class=toggle></span><span class=menu-item-text></span>Expand</span></a></a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/mermaid/ title=Mermaid class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/mermaid/><span class=toggle></span><span class=menu-item-text></span>Mermaid</span></a></a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/notice/ title=Notice class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/notice/><span class=toggle></span><span class=menu-item-text></span>Notice</span></a></a></li></ul></li></ul></li></ul></li></ul></nav></li></ul></div></div></div></header></div><script>$(".navigation .navbar-toggler").click(function(evt){$(".navigation .navbar-collapse").toggle();$(".navigation").toggleClass("collapsed");$(".navigation .search-box").toggle();})</script><div class=sln><div class=overlay-band><ul class="nav-list container"><li title=Home><a class=navbar-link href=/documentation/home/>Home</a></li><li title=Concepts><a class=navbar-link href=/documentation/concepts/>Concepts</a></li><li title="How-To Guides"><a class="navbar-link is-active" href=/documentation/guides/>How-To Guides</a></li><li title=Tutorials><a class=navbar-link href=/documentation/tutorials/>Tutorials</a></li><li title="API Reference"><a class=navbar-link href=/documentation/references/>API Reference</a></li><li title=Contribute><a class=navbar-link href=/documentation/contribute/>Contribute</a></li></ul></div></div><div class="main container"><nav id=sidebar class="collapsed container menu"><div class=highlightable><ul class=topics><li data-nav-id=/documentation/guides/ title="How-To Guides" class="dd-item parent root collapsible" data-depth=0><a href=/documentation/guides/><span class=menu-item-text>How-To Guides</span></a><ul><li data-nav-id=/documentation/guides/client_tools/ title="Set Up Client Tools" class="dd-item top-level collapsible collapsed" data-depth=1><a href=/documentation/guides/client_tools/><span class="toggle fa fa-angle-right"></span><span class=menu-item-text>Set Up Client Tools</span></a><ul><li data-nav-id=/documentation/guides/client_tools/oidc-login/ title="Authenticating with an Identity Provider" class=dd-item data-depth=2><a href=/documentation/guides/client_tools/oidc-login/><span class=toggle></span><span class=menu-item-text>Authenticating with an Identity Provider</span></a></li><li data-nav-id=/documentation/guides/client_tools/kubectl-apiserver/ title="Automated deployment" class=dd-item data-depth=2><a href=/documentation/guides/client_tools/kubectl-apiserver/><span class=toggle></span><span class=menu-item-text>Automated deployment</span></a></li><li data-nav-id=/documentation/guides/client_tools/bash_kubeconfig/ title="Kubeconfig context as bash prompt" class=dd-item data-depth=2><a href=/documentation/guides/client_tools/bash_kubeconfig/><span class=toggle></span><span class=menu-item-text>Kubeconfig context as bash prompt</span></a></li><li data-nav-id=/documentation/guides/client_tools/working-with-kubeconfig/ title="Organizing Access Using kubeconfig Files" class=dd-item data-depth=2><a href=/documentation/guides/client_tools/working-with-kubeconfig/><span class=toggle></span><span class=menu-item-text>Organizing Access Using kubeconfig Files</span></a></li><li data-nav-id=/documentation/guides/client_tools/helm/ title="Use a Helm chart to deploy some application or service" class=dd-item data-depth=2><a href=/documentation/guides/client_tools/helm/><span class=toggle></span><span class=menu-item-text>Use a Helm chart to deploy some application or service</span></a></li></ul></li><li data-nav-id=/documentation/guides/install_gardener/ title="Install Gardener" class="dd-item top-level collapsible collapsed" data-depth=1><a href=/documentation/guides/install_gardener/><span class="toggle fa fa-angle-right"></span><span class=menu-item-text>Install Gardener</span></a><ul><li data-nav-id=/documentation/guides/install_gardener/gardener_certificate_management/ title="Gardener Certificate Management" class=dd-item data-depth=2><a href=/documentation/guides/install_gardener/gardener_certificate_management/><span class=toggle></span><span class=menu-item-text>Gardener Certificate Management</span></a></li><li data-nav-id=/documentation/guides/install_gardener/gardener_dns_management/ title="Gardener DNS Management for Shoots" class=dd-item data-depth=2><a href=/documentation/guides/install_gardener/gardener_dns_management/><span class=toggle></span><span class=menu-item-text>Gardener DNS Management for Shoots</span></a></li><li data-nav-id=/documentation/guides/install_gardener/secure-setup/ title="Hardening the Gardener Community Setup" class=dd-item data-depth=2><a href=/documentation/guides/install_gardener/secure-setup/><span class=toggle></span><span class=menu-item-text>Hardening the Gardener Community Setup</span></a></li><li data-nav-id=/documentation/guides/install_gardener/landscape-setup/ title="Landscape Setup" class=dd-item data-depth=2><a href=/documentation/guides/install_gardener/landscape-setup/><span class=toggle></span><span class=menu-item-text>Landscape Setup</span></a></li><li data-nav-id=/documentation/guides/install_gardener/add-node-to-cluster/ title="Manually adding a node to an existing cluster" class=dd-item data-depth=2><a href=/documentation/guides/install_gardener/add-node-to-cluster/><span class=toggle></span><span class=menu-item-text>Manually adding a node to an existing cluster</span></a></li><li data-nav-id=/documentation/guides/install_gardener/setup-seed/ title="Setting up a Seed Cluster" class=dd-item data-depth=2><a href=/documentation/guides/install_gardener/setup-seed/><span class=toggle></span><span class=menu-item-text>Setting up a Seed Cluster</span></a></li></ul></li><li data-nav-id=/documentation/guides/administer_shoots/ title="Administer Client (Shoot) Clusters" class="dd-item parent top-level collapsible" data-depth=1><a href=/documentation/guides/administer_shoots/><span class="toggle fa fa-angle-down"></span><span class=menu-item-text>Administer Client (Shoot) Clusters</span></a><ul><li data-nav-id=/documentation/guides/administer_shoots/create-delete-shoot/ title="Create / Delete a Shoot cluster" class=dd-item data-depth=2><a href=/documentation/guides/administer_shoots/create-delete-shoot/><span class=toggle></span><span class=menu-item-text>Create / Delete a Shoot cluster</span></a></li><li data-nav-id=/documentation/guides/administer_shoots/gardener_aws/ title="Create a kubernetes cluster in AWS with Gardener" class=dd-item data-depth=2><a href=/documentation/guides/administer_shoots/gardener_aws/><span class=toggle></span><span class=menu-item-text>Create a kubernetes cluster in AWS with Gardener</span></a></li><li data-nav-id=/documentation/guides/administer_shoots/gardener_gcp/ title="Create a kubernetes cluster on GCP with Gardener" class=dd-item data-depth=2><a href=/documentation/guides/administer_shoots/gardener_gcp/><span class=toggle></span><span class=menu-item-text>Create a kubernetes cluster on GCP with Gardener</span></a></li><li data-nav-id=/documentation/guides/administer_shoots/create-shoot-into-existing-aws-vpc/ title="Create a Shoot cluster into existing AWS VPC" class=dd-item data-depth=2><a href=/documentation/guides/administer_shoots/create-shoot-into-existing-aws-vpc/><span class=toggle></span><span class=menu-item-text>Create a Shoot cluster into existing AWS VPC</span></a></li><li data-nav-id=/documentation/guides/administer_shoots/hibernate-cluster/ title="Hibernate a Cluster" class=dd-item data-depth=2><a href=/documentation/guides/administer_shoots/hibernate-cluster/><span class=toggle></span><span class=menu-item-text>Hibernate a Cluster</span></a></li><li data-nav-id=/documentation/guides/administer_shoots/dns_names/ title="Request DNS Names" class=dd-item data-depth=2><a href=/documentation/guides/administer_shoots/dns_names/><span class=toggle></span><span class=menu-item-text>Request DNS Names</span></a></li><li data-nav-id=/documentation/guides/administer_shoots/x509_certificates/ title="Request X.509 Certificates" class=dd-item data-depth=2><a href=/documentation/guides/administer_shoots/x509_certificates/><span class=toggle></span><span class=menu-item-text>Request X.509 Certificates</span></a></li><li data-nav-id=/documentation/guides/administer_shoots/maintain-shoot/ title="Shoot Cluster Maintenance" class="dd-item parent active" data-depth=2><a href=/documentation/guides/administer_shoots/maintain-shoot/><span class=toggle></span><span class=menu-item-text>Shoot Cluster Maintenance</span></a></li><li data-nav-id=/documentation/guides/administer_shoots/trigger-shoot-operations/ title="Trigger Shoot operations" class=dd-item data-depth=2><a href=/documentation/guides/administer_shoots/trigger-shoot-operations/><span class=toggle></span><span class=menu-item-text>Trigger Shoot operations</span></a></li></ul></li><li data-nav-id=/documentation/guides/monitoring_and_troubleshooting/ title="Monitor and Troubleshoot" class="dd-item top-level collapsible collapsed" data-depth=1><a href=/documentation/guides/monitoring_and_troubleshooting/><span class="toggle fa fa-angle-right"></span><span class=menu-item-text>Monitor and Troubleshoot</span></a><ul><li data-nav-id=/documentation/guides/monitoring_and_troubleshooting/shell-to-node/ title="Get a Shell to a Gardener Shoot Worker Node" class=dd-item data-depth=2><a href=/documentation/guides/monitoring_and_troubleshooting/shell-to-node/><span class=toggle></span><span class=menu-item-text>Get a Shell to a Gardener Shoot Worker Node</span></a></li><li data-nav-id=/documentation/guides/monitoring_and_troubleshooting/debug-a-pod/ title="How to debug a pod" class=dd-item data-depth=2><a href=/documentation/guides/monitoring_and_troubleshooting/debug-a-pod/><span class=toggle></span><span class=menu-item-text>How to debug a pod</span></a></li><li data-nav-id=/documentation/guides/monitoring_and_troubleshooting/tail-logfile/ title="tail -f /var/log/my-application.log" class=dd-item data-depth=2><a href=/documentation/guides/monitoring_and_troubleshooting/tail-logfile/><span class=toggle></span><span class=menu-item-text>tail -f /var/log/my-application.log</span></a></li></ul></li><li data-nav-id=/documentation/guides/applications/ title=Applications class="dd-item top-level collapsible collapsed" data-depth=1><a href=/documentation/guides/applications/><span class="toggle fa fa-angle-right"></span><span class=menu-item-text>Applications</span></a><ul><li data-nav-id=/documentation/guides/applications/access_pod_from_local/ title="Access a port of a pod locally" class=dd-item data-depth=2><a href=/documentation/guides/applications/access_pod_from_local/><span class=toggle></span><span class=menu-item-text>Access a port of a pod locally</span></a></li><li data-nav-id=/documentation/guides/applications/service-access/ title="Access service from outside Kubernetes cluster" class=dd-item data-depth=2><a href=/documentation/guides/applications/service-access/><span class=toggle></span><span class=menu-item-text>Access service from outside Kubernetes cluster</span></a></li><li data-nav-id=/documentation/guides/applications/insecure-configuration/ title="Auditing Kubernetes for Secure Setup" class=dd-item data-depth=2><a href=/documentation/guides/applications/insecure-configuration/><span class=toggle></span><span class=menu-item-text>Auditing Kubernetes for Secure Setup</span></a></li><li data-nav-id=/documentation/guides/applications/missing-registry-permission/ title="Container image not pulled" class=dd-item data-depth=2><a href=/documentation/guides/applications/missing-registry-permission/><span class=toggle></span><span class=menu-item-text>Container image not pulled</span></a></li><li data-nav-id=/documentation/guides/applications/image-pull-policy/ title="Container image not updating" class=dd-item data-depth=2><a href=/documentation/guides/applications/image-pull-policy/><span class=toggle></span><span class=menu-item-text>Container image not updating</span></a></li><li data-nav-id=/documentation/guides/applications/secure-seccomp/ title="Custom Seccomp profile" class=dd-item data-depth=2><a href=/documentation/guides/applications/secure-seccomp/><span class=toggle></span><span class=menu-item-text>Custom Seccomp profile</span></a></li><li data-nav-id=/documentation/guides/applications/dockerfile_pitfall/ title="Dockerfile pitfalls" class=dd-item data-depth=2><a href=/documentation/guides/applications/dockerfile_pitfall/><span class=toggle></span><span class=menu-item-text>Dockerfile pitfalls</span></a></li><li data-nav-id=/documentation/guides/applications/https/ title="HTTPS with self Signed Certificate" class=dd-item data-depth=2><a href=/documentation/guides/applications/https/><span class=toggle></span><span class=menu-item-text>HTTPS with self Signed Certificate</span></a></li><li data-nav-id=/documentation/guides/applications/content_trust/ title="Integrity and Immutability" class=dd-item data-depth=2><a href=/documentation/guides/applications/content_trust/><span class=toggle></span><span class=menu-item-text>Integrity and Immutability</span></a></li><li data-nav-id=/documentation/guides/applications/antipattern/ title="Kubernetes Antipatterns" class=dd-item data-depth=2><a href=/documentation/guides/applications/antipattern/><span class=toggle></span><span class=menu-item-text>Kubernetes Antipatterns</span></a></li><li data-nav-id=/documentation/guides/applications/network-isolation/ title="Namespace Isolation" class=dd-item data-depth=2><a href=/documentation/guides/applications/network-isolation/><span class=toggle></span><span class=menu-item-text>Namespace Isolation</span></a></li><li data-nav-id=/documentation/guides/applications/container-startup/ title="Orchestration of container startup" class=dd-item data-depth=2><a href=/documentation/guides/applications/container-startup/><span class=toggle></span><span class=menu-item-text>Orchestration of container startup</span></a></li><li data-nav-id=/documentation/guides/applications/service-cache-control/ title="Out-Dated HTML and JS files delivered" class=dd-item data-depth=2><a href=/documentation/guides/applications/service-cache-control/><span class=toggle></span><span class=menu-item-text>Out-Dated HTML and JS files delivered</span></a></li><li data-nav-id=/documentation/guides/applications/read-write-many/ title="ReadWriteMany with AWS" class=dd-item data-depth=2><a href=/documentation/guides/applications/read-write-many/><span class=toggle></span><span class=menu-item-text>ReadWriteMany with AWS</span></a></li><li data-nav-id=/documentation/guides/applications/commit_secret_fail/ title="Storing secrets in git ðŸ’€" class=dd-item data-depth=2><a href=/documentation/guides/applications/commit_secret_fail/><span class=toggle></span><span class=menu-item-text>Storing secrets in git ðŸ’€</span></a></li><li data-nav-id=/documentation/guides/applications/prometheus/ title="Using Prometheus and Grafana to monitor K8s" class=dd-item data-depth=2><a href=/documentation/guides/applications/prometheus/><span class=toggle></span><span class=menu-item-text>Using Prometheus and Grafana to monitor K8s</span></a></li></ul></li><li data-nav-id=/documentation/guides/gardener-cookies/ title="Gardener Cookies" class="dd-item top-level" data-depth=1><a href=/documentation/guides/gardener-cookies/><span class=toggle></span><span class=menu-item-text>Gardener Cookies</span></a></li></ul></li></ul></div></nav><a href=# class=menu-toggler><i class="fa fa-angle-double-left"></i></a><script>$(document).ready(function(){$("#sidebar .dd-item:not(.top-level):not(.parent)").hide();$("#sidebar .dd-item.parent").siblings(".dd-item").show();$('.dd-item',"#sidebar .dd-item.parent").show();$(".menu-toggler").click(function(evt){$("#sidebar").toggleClass("collapsed");$(".menu-toggler span").toggleClass("fa-angle-double-left");$(".menu-toggler span").toggleClass("fa-angle-double-right");});})</script><section><div class="highlightable body-inner-wrapper"><div id=body-inner><div class="docs page"><div class=git-wr><div class=page-contributors>Contributors to this page<div class=contributors-list><a href=mailto:georgi.pavlov@sap.com><img class=user-icon src="https://avatars0.githubusercontent.com/u/52317188?v=4" title="Georgi Pavlov"></a></div></div><div class=page-edit><span class=last-update>Last update:
<span data-publishdate="2020-06-17 19:15:03"></span></span><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/gardener/documentation/edit/master/website/documentation/guides/administer_shoots/maintain-shoot/_index.md target=blank><i class="fa fa-edit"></i><span id=top-github-link-text title="Edit this page"></span></a></div></div></div><h1>Shoot Cluster Maintenance</h1><div class=properties><div class=expertise-level><span class=label title="Expertse level">Expertise</span><svg class="icon level" aria-hidden="true" focusable="false" title="advanced"><use xlink:href="/images/icons/icons.svg#level-3"/></svg></div></div><h1 id=shoot-cluster-maintenance>Shoot Cluster Maintenance</h1><p>Day two operations like updating the Kubernetes patch version and updating the Operating system version, happen in a daily maintenance time window of the Shoot cluster. The maintenance time window is part of the shoot spec (<code>.spec.maintenance.timeWindow</code>). If it is not specified during Shoot creation, Gardener will default to a randomized time window (to spread the load). The time interval cannot be less than 30 minutes and more than 6 hours.</p><p>When referring to an <code>operating system update</code> in this document, this means updating the Shoot&rsquo;s worker nodes with a machine image (e.g. <a href=https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html>AMI</a> for AWS) that comes with a higher version of the operating system.</p><p>During the maintenance, the Gardener Controller Manager updates the Shoot&rsquo;s Kubernetes and operating system versions.</p><p>A version is updated if either:</p><ul><li>there is a higher <a href=http://semver.org/>semantic version</a> available in the CloudProfile and the Shoot opts-in for <a href=https://github.com/gardener/gardener/blob/master/docs/usage/shoot_maintenance.md#automatic-version-updates>automatic version updates</a>. See <a href=#automatic-kubernetes-version-updates>automatic Kubernetes version updates</a> and <a href=#automatic-operating-system-version-updates>automatic Operating System version updates</a>.</li><li>the currently used version is <code>expired</code>. See <a href=#forceful-version-updates>forceful version updates</a>.</li></ul><p>A version update during the maintenance time triggers a Shoot reconciliation.</p><div class="notices tip"><p>To manually trigger the maintenance operation, the Shoot can be annotated with `gardener.cloud/operation: maintain`.</p></div><h3 id=version-classifications>Version Classifications</h3><p>Gardener classifies versions into <code>preview</code>,<code>supported</code>, <code>deprecated</code> and <code>expired</code>.
Please see <a href=https://github.com/gardener/gardener/blob/master/docs/usage/shoot_versions.md#version-classifications>here for more information</a>.
Gardener takes version classifications into account during the maintenance operations as part of the efforts to ensure stable version updates without negatively impacting the workload deployed in the cluster.
As such, <code>preview</code> versions are excluded from updates during the maintenance.
This is because <code>preview</code> versions are typically recently releases version that have not yet undergone thorough testing and may contain bugs or security issues.</p><h3 id=automatic-kubernetes-version-updates>Automatic Kubernetes Version Updates</h3><p>If a Shoot is configured for automatic Kubenernetes version updates by setting <code>.spec.maintenance.autoUpdate.kubernetesVersion: true</code>, Gardener keeps the Kubernetes version of the Shoot up to date. During the daily maintenance time window, the Shoot&rsquo;s Kubernetes version is updated to the latest non-<code>preview</code> classified <a href=https://github.com/kubernetes/community/blob/master/contributors/design-proposals/release/versioning.md#patch-releases>patch version</a> available in the associated <code>CloudProfile</code> (<code>spec.cloudProfileName</code>). The <code>CloudProfile</code> specifies the available Kubernetes versions in <code>.spec.kubernetes.versions</code>.</p><p>It will never auto update the Major releases since Kubernetes does not garuantee backward compatibility and updateability in those releases. While this is also true for minor versions, (forceful minor version updates)[#forceful-version-updates] can happen during the maintenance time window (even though specifying <code>.spec.maintenance.autoUpdate.kubernetesVersion: false</code>).</p><p>Consider a Shoot cluster with the field values below (only related fields are shown):</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>kubernetes</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1.10.0</span><span class=w>
</span><span class=w>  </span><span class=k>maintenance</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>timeWindow</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>begin</span><span class=p>:</span><span class=w> </span><span class=m>220000+0000</span><span class=w>
</span><span class=w>      </span><span class=k>end</span><span class=p>:</span><span class=w> </span><span class=m>230000+0000</span><span class=w>
</span><span class=w>    </span><span class=k>autoUpdate</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>kubernetesVersion</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></code></pre></div><p>Updating the CloudProfile used in the Shoot by adding <code>1.10.5</code> and <code>1.11.0</code> to the <code>.spec.kubernetes.versions</code> list, automatically updates the Shoot to <code>1.10.5</code> between 22:00-23:00 UTC. The Shoot won&rsquo;t be automatically updated to <code>1.11.0</code> even though its the highest Kubernetes version in the <code>CloudProfile</code>. This is because that wouldn&rsquo;t be a patch release update but a minor release update, and as such potentially have breaking changes that could impact the deployed workload/applications.</p><p>In this example if the operator wants to update the Kubernetes version to <code>1.11.0</code>, he/she must update the Shoot&rsquo;s <code>.spec.kubernetes.version</code> to <code>1.11.0</code> manually.</p><p>Besides automatic versioning during the maintenance time, version updates can also be handled by updating the <code>.spec.kubernetes.version</code> field manually. In the above example, if the operator wants to update the Kubernetes version to <code>1.11.0</code>, he/she can update the Shoot&rsquo;s <code>.spec.kubernetes.version</code> to <code>1.11.0</code> manually.</p><p>These updates will either be executed immediately (default) or can be <a href=https://github.com/gardener/gardener/blob/master/docs/usage/shoot_maintenance.md#confine-specification-changesupdates-roll-out>confined to the maintenance time window</a>.
Choosing the latter option, causes changes to the cluster (e.g. node pool rolling-updates) and the subsequent reconciliation, to only predictably happen during a defined time window. This is available since <a href=https://github.com/gardener/gardener/releases/tag/v1.4.0>Gardener version 1.4</a>.
<strong>Before applying such update on minor or major releases, operators should check for all the breaking changes introduced in the target Kubernetes release changelog</strong>.</p><h3 id=automatic-operating-system-version-updates>Automatic Operating System Version Updates</h3><p>If a Shoot is configured for automatic Kubenernetes version updates by setting <code>.spec.maintenance.autoUpdate.machineImageVersion: true</code>, then during the maintenance time window, the Gardener makes sure that the Shoot is using the most recent patch version of the operating system.
An update to the operating system of a worker pool in the Shoot cluster causes the Shoot to be reconciled.</p><p>During the reconciliation, the corresponding <code>&lt;Provider>MachineClass</code> resource in the Shoot namespace in the Seed will be updated and the machine controller manager will take care of the actual state to match the desired one.</p><div class="notices note"><p>Please note, that in contrast to the Kubernetes version update, the Operating System always updates to the latest version available in the `CloudProfile`.</p></div><h3 id=forceful-version-updates>Forceful Version Updates</h3><p>While the <a href=#kubernetes-automatic-version-updates>automatic Kubernetes</a> and <a href=#automatic-operating-system-version-updates>operating system updates</a>, are an opt-in feature for the Shoot cluster owner, Gardener administrators can force patch and minor version updates.</p><p>Forceful updates are triggered by an <code>expiration date</code> in the past for the Kubernetes or Operating System versions in the <code>CloudProfile</code>.
Whilst an administrator should <a href=#version-classifications>classify a version having an expiration date as <code>deprecated</code></a>, such a labeling is not evaluated for the force update.</p><p>Version expiration dates allow smoother transitions for Shoot owners giving them time for testing before the actual forceful version update happens.</p><div class="notices note"><p>Please note, that specifying an `expiration date` for the latest version in the `CloudProfile` is not allowed.</p></div><p>Just like automatic version updates, forceful updates are only applied during the next maintenance time window.</p><h4 id=force-version-updates-for-kubernetes-versions>Force Version Updates for Kubernetes Versions</h4><p>The following scenarios exemplify the automatic patch update from an expired Kubernetes version.</p><ul><li>Forceful patch version update from expired Kubernetes version.</li></ul><p>Let&rsquo;s assume the following CloudProfile spec (only related fields are shown):</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>kubernetes</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>versions</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1.12.8</span><span class=w>
</span><span class=w>    </span>- <span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1.11.10</span><span class=w>
</span><span class=w>    </span>- <span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1.10.13</span><span class=w>
</span><span class=w>    </span>- <span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1.10.12</span><span class=w>
</span><span class=w>      </span><span class=k>expirationDate</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2019-04-13T08:00:00Z&#34;</span><span class=w>
</span></code></pre></div><p>And the Shoot has the following spec:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>kubernetes</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1.10.12</span><span class=w>
</span><span class=w>  </span><span class=k>maintenance</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>timeWindow</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>begin</span><span class=p>:</span><span class=w> </span><span class=m>220000+0100</span><span class=w>
</span><span class=w>      </span><span class=k>end</span><span class=p>:</span><span class=w> </span><span class=m>230000+0100</span><span class=w>
</span><span class=w>    </span><span class=k>autoUpdate</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>kubernetesVersion</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></code></pre></div><p>The Shoot refers to a Kubernetes version that has an <code>expirationDate</code>. In the maintenance window on 2019-04-12 the Kubernetes version will stay the same as it is still not expired. But in the maintenance window on 2019-04-14 the Kubernetes version of the Shoot will be updated to <code>1.10.13</code> (no matter the value of <code>.spec.maintenance.autoUpdate.kubernetesVersion</code>). As long as there is a higher patch version available, the Cluster is always updated to the highest patch version.</p><ul><li>Forceful minor version update from expired Kubernetes version.</li></ul><p>Starting with <a href=https://github.com/gardener/gardener/releases/tag/v1.4.0>Gardener version 1.4</a>, Shoot clusters can receive forceful minor updates when using an expired Kubernetes version.
Minor version updates are only performed if the version is the <strong>latest</strong> patch version of the minor version, having an <code>expiration date</code> in the past.</p><p>Let&rsquo;s assume the following CloudProfile spec (only related fields are shown):</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>kubernetes</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>versions</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1.12.8</span><span class=w>
</span><span class=w>    </span>- <span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1.11.10</span><span class=w>
</span><span class=w>    </span>- <span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1.11.09</span><span class=w>
</span><span class=w>    </span>- <span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1.10.12</span><span class=w>
</span><span class=w>      </span><span class=k>expirationDate</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2019-04-13T08:00:00Z&#34;</span><span class=w>
</span></code></pre></div><p>The Shoot has the following spec:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>kubernetes</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1.10.12</span><span class=w>
</span><span class=w>  </span><span class=k>maintenance</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>timeWindow</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>begin</span><span class=p>:</span><span class=w> </span><span class=m>220000+0100</span><span class=w>
</span><span class=w>      </span><span class=k>end</span><span class=p>:</span><span class=w> </span><span class=m>230000+0100</span><span class=w>
</span><span class=w>    </span><span class=k>autoUpdate</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>kubernetesVersion</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></code></pre></div><p>The Shoot refers to a Kubernetes version that has an <code>expirationDate</code>. In the maintenance window on 2019-04-14 the Kubernetes version of the Shoot will be updated to <code>1.11.10</code>. This is the highest patch version of the consecutive minor version.</p><p>Kubernetes &ldquo;minor version jumps&rdquo; are not allowed - meaning to skip the update to the consecutive minor version but directly updating to any version after that.
In the example above, the version <code>1.10.x</code> can only update to a version <code>1.11.x</code>, not to <code>1.12.x</code> or any other version.
This is because Kubernetes does not guarantee updateability in this case, leading to possibly broken Shoot clusters.
The administrator has to set up the <code>CloudProfile</code> in such a way, that consecutive Kubernetes minor versions are available. Otherwise, Shoot clusters will fail to update during the maintenance time.</p><div class="notices note"><p>Please note, that multiple consecutive minor version updates are possible. This can occur if the Shoot is updated to a version that in turn is also `expired`. In this case, the version is again updated in the **next** maintenance time.</p></div><h4 id=force-version-updates-for-operating-system-versions>Force Version Updates for Operating System Versions</h4><p>In the same fashion as automatic version updates, force Operating System updates are applied per Worker pool and updates to the Operating System are always performed to the latest version available in the <code>CloudProfile</code>.</p><ul><li>Forceful update from expired operating system version.</li></ul><p>Let&rsquo;s assume the following CloudProfile spec (only related fields are shown):</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>machineImages</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=k>name</span><span class=p>:</span><span class=w> </span>coreos<span class=w>
</span><span class=w>    </span><span class=k>versions</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>2191.5.0</span><span class=w>
</span><span class=w>    </span>- <span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>2191.4.1</span><span class=w>
</span><span class=w>    </span>- <span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>2135.6.0</span><span class=w>
</span><span class=w>      </span><span class=k>expirationDate</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2019-04-13T08:00:00Z&#34;</span><span class=w>
</span></code></pre></div><p>The Shoot has the following spec:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>provider</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>type</span><span class=p>:</span><span class=w> </span>aws<span class=w>
</span><span class=w>    </span><span class=k>workers</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=k>name</span><span class=p>:</span><span class=w> </span>name<span class=w>
</span><span class=w>      </span><span class=k>maximum</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span><span class=w>      </span><span class=k>minimum</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span><span class=w>      </span><span class=k>maxSurge</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span><span class=w>      </span><span class=k>maxUnavailable</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span><span class=w>      </span><span class=k>image</span><span class=p>:</span><span class=w>
</span><span class=w>        </span><span class=k>name</span><span class=p>:</span><span class=w> </span>coreos<span class=w>
</span><span class=w>        </span><span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>2135.6.0</span><span class=w>
</span><span class=w>        </span><span class=k>type</span><span class=p>:</span><span class=w> </span>m5.large<span class=w>
</span><span class=w>      </span><span class=k>volume</span><span class=p>:</span><span class=w>
</span><span class=w>        </span><span class=k>type</span><span class=p>:</span><span class=w> </span>gp2<span class=w>
</span><span class=w>        </span><span class=k>size</span><span class=p>:</span><span class=w> </span>20Gi<span class=w>
</span><span class=w>  </span><span class=k>maintenance</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>timeWindow</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>begin</span><span class=p>:</span><span class=w> </span><span class=m>220000+0100</span><span class=w>
</span><span class=w>      </span><span class=k>end</span><span class=p>:</span><span class=w> </span><span class=m>230000+0100</span><span class=w>
</span><span class=w>    </span><span class=k>autoUpdate</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>machineImageVersion</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></code></pre></div><p>The Shoot refers to an operating system version that has an <code>expirationDate</code>.
In the maintenance window on 2019-04-12 the machine image version will stay the same as it is still not expired.
But in the maintenance window on 2019-04-14 the machine image version of the Shoot will be updated to <code>2191.5.0</code> (no matter the value of <code>.spec.maintenance.autoUpdate.machineImageVersion</code>) as version <code>2135.6.0</code> is already expired.</p></div></div></div><div class=howto_tickets><a href=https://github.com/gardener/documentation/issues/new/choose target=_blank><span>Let us know how can we improve.</span>
<span>Open <img src=https://gardener.cloud/images/branding/github-mark-logo-green.svg> GitHub Issue <i class="fa fa-external-link" aria-hidden=true></i></span></a></div></section></div><style></style><footer class=footer><div class="container footer-wrapper"><ul class=nav><li><a href=/blog/>Blogs</a></li><li><a href=/news/>News</a></li><li><a href=/community/>Community</a></li><li><a href=/adopter/>Adopters</a></li><li><a href=/documentation/home>Documentation</a></li></ul><img src=/images/lp/gardener-logo.svg alt="Logo Gardener" class=logo><ul class=media-wr><li><a target=_blank href=https://kubernetes.slack.com/archives/CB57N0BFG><img src=/images/branding/slack-logo-white.svg class=media-icon><div class=media-text>Slack</div></a></li><li><a target=_blank href=https://github.com/gardener><img src=/images/branding/github-mark-logo.png class=media-icon><div class=media-text>GitHub</div></a></li><li><a target=_blank href=https://www.youtube.com/channel/UCwUhwKFREV8Su0gwAJQX7tw><img src=/images/branding/youtube-logo-dark.svg class=media-icon><div class=media-text>YouTube</div></a></li><li><a target=_blank href=https://twitter.com/GardenerProject><img src=/images/branding/twitter-logo-white.svg class=media-icon><div class=media-text>Twitter</div></a></li></ul><span class=copyright>Copyright 2020 Gardener project authors. Privacy Statement</span></div></footer><script src=/js/perfect-scrollbar.min.js?1592587941></script><script src=/js/perfect-scrollbar.jquery.min.js?1592587941></script><script src=/js/jquery.sticky.js?1592587941></script><script src=/js/featherlight.min.js?1592587941></script><script src=/js/html5shiv-printshiv.min.js?1592587941></script><script src=/js/modernizr.custom.71422.js?1592587941></script><link href=/mermaid/mermaid.css?1592587941 type=text/css rel=stylesheet><script src=/mermaid/mermaid.js?1592587941></script><script src=/js/code-snippets.js?1592587941></script><script>mermaid.initialize({startOnLoad:true,htmlLables:true});function createIssue(issueUrl,page,url){var uri=issueUrl+"?title=Documentation issue on page \""+page+"\"";uri=uri+"&body=\n\n<- DESCRIBE MISSING OR FAULTY DOCUMENTATION HERE->\n\n---\nPage: ["+page+"]("+
url+")\ndon't remove the link to the page. It's required for the processor"
var res=encodeURI(uri);res+="&labels=area/documentation"
window.open(res,"issue")
return false;}
$(document).ready(function(){inlineSVG.init();$("[data-publishdate]").each(function(){$(this).text(moment($(this,"YYYY-MM-DD","YYYY-MM-DD hh:mm:ss").attr("data-publishdate")).fromNow());});new ClipboardJS('.clipboard-copy');$("body").codeSnippets();});</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W2FGNSX" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript></body></html>