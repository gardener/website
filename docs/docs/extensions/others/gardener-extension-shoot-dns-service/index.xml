<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DNS services on Gardener</title><link>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/</link><description>Recent content in DNS services on Gardener</description><generator>Hugo</generator><language>en-US</language><atom:link href="https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/index.xml" rel="self" type="application/rss+xml"/><item><title>Configuration</title><link>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/configuration/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/configuration/</guid><description>&lt;h1 id="deployment-of-the-shoot-dns-service-extension">Deployment of the shoot DNS service extension&lt;/h1>
&lt;p>&lt;strong>Disclaimer:&lt;/strong> This document is NOT a step by step deployment guide for the shoot DNS service extension and only contains some configuration specifics regarding the deployment of different components via the helm charts residing in the shoot DNS service extension &lt;a href="https://github.com/gardener/gardener-extension-shoot-dns-service">repository&lt;/a>.&lt;/p>
&lt;h2 id="gardener-extension-admission-shoot-dns-service">gardener-extension-admission-shoot-dns-service&lt;/h2>
&lt;h3 id="authentication-against-the-garden-cluster">Authentication against the Garden cluster&lt;/h3>
&lt;p>There are several authentication possibilities depending on whether or not &lt;a href="https://github.com/gardener/garden-setup#concept-the-virtual-cluster">the concept of Virtual Garden&lt;/a> is used.&lt;/p>
&lt;h4 id="virtual-garden-is-not-used-ie-the-runtime-garden-cluster-is-also-the-target-garden-cluster">Virtual Garden is not used, i.e., the &lt;code>runtime&lt;/code> Garden cluster is also the &lt;code>target&lt;/code> Garden cluster.&lt;/h4>
&lt;h5 id="automounted-service-account-token">Automounted Service Account Token&lt;/h5>
&lt;p>The easiest way to deploy the &lt;code>gardener-extension-admission-shoot-dns-service&lt;/code> component will be to not provide &lt;code>kubeconfig&lt;/code> at all. This way in-cluster configuration and an automounted service account token will be used. The drawback of this approach is that the automounted token will not be automatically rotated.&lt;/p></description></item><item><title>Deployment</title><link>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/deployment/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/deployment/</guid><description>&lt;h1 id="gardener-dns-management-for-shoots">Gardener DNS Management for Shoots&lt;/h1>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>Gardener allows Shoot clusters to request DNS names for Ingresses and Services out of the box.
To support this the gardener must be installed with the &lt;code>shoot-dns-service&lt;/code>
extension.
This extension uses the seed&amp;rsquo;s dns management infrastructure to maintain DNS
names for shoot clusters. So, far only the external DNS domain of a shoot
(already used for the kubernetes api server and ingress DNS names) can be used
for managed DNS names.&lt;/p></description></item><item><title>DNS Names</title><link>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/dns_names/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/dns_names/</guid><description>&lt;h1 id="request-dns-names-in-shoot-clusters">Request DNS Names in Shoot Clusters&lt;/h1>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>Within a shoot cluster, it is possible to request DNS records via the following resource types:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://kubernetes.io/docs/concepts/services-networking/ingress/">Ingress&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/">Service&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/gardener/external-dns-management/blob/master/README.md#the-model">DNSEntry&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>It is necessary that the Gardener installation your shoot cluster runs in is equipped with a &lt;code>shoot-dns-service&lt;/code> extension. This extension uses the seed&amp;rsquo;s dns management infrastructure to maintain DNS names for shoot clusters. Please ask your Gardener operator if the extension is available in your environment.&lt;/p></description></item><item><title>DNS Providers</title><link>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/dns_providers/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/dns_providers/</guid><description>&lt;h1 id="dns-providers">DNS Providers&lt;/h1>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>Gardener can manage DNS records on your behalf, so that you can request them via different resource types (see &lt;a href="https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/dns_names/">here&lt;/a>) within the shoot cluster. The domains for which you are permitted to request records, are however restricted and depend on the DNS provider configuration.&lt;/p>
&lt;h2 id="shoot-provider">Shoot provider&lt;/h2>
&lt;p>By default, every shoot cluster is equipped with a default provider. It is the very same provider that manages the shoot cluster&amp;rsquo;s &lt;code>kube-apiserver&lt;/code> public DNS record (DNS address in your Kubeconfig).&lt;/p></description></item><item><title>Gateway Api Gateways</title><link>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/tutorials/gateway-api-gateways/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/tutorials/gateway-api-gateways/</guid><description>&lt;h1 id="using-annotated-gateway-api-gateway-andor-httproutes-as-source">Using annotated Gateway API Gateway and/or HTTPRoutes as Source&lt;/h1>
&lt;p>This tutorial describes how to use annotated Gateway API resources as source for DNSEntries with the Gardener shoot-dns-service extension.&lt;/p>
&lt;p>The dns-controller-manager supports the resources &lt;code>Gateway&lt;/code> and &lt;code>HTTPRoute&lt;/code>.&lt;/p>
&lt;h2 id="install-istio-on-your-cluster">Install Istio on your cluster&lt;/h2>
&lt;p>Using a new or existing shoot cluster, follow the Istio &lt;a href="https://istio.io/latest/docs/tasks/traffic-management/ingress/gateway-api/">Kubernetes Gateway API&lt;/a> to
install the Gateway API and to install Istio.&lt;/p>
&lt;p>These are the typical commands for the Istio installation with the Kubernetes Gateway API:&lt;/p></description></item><item><title>Istio Gateways</title><link>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/tutorials/istio-gateways/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/extensions/others/gardener-extension-shoot-dns-service/tutorials/istio-gateways/</guid><description>&lt;h1 id="using-annotated-istio-gateway-andor-istio-virtual-service-as-source">Using annotated Istio Gateway and/or Istio Virtual Service as Source&lt;/h1>
&lt;p>This tutorial describes how to use annotated Istio Gateway resources as source for DNSEntries with the Gardener shoot-dns-service extension.&lt;/p>
&lt;h2 id="install-istio-on-your-cluster">Install Istio on your cluster&lt;/h2>
&lt;p>Using a new or existing shoot cluster, follow the &lt;a href="https://istio.io/latest/docs/setup/getting-started/">Istio Getting Started&lt;/a> to download and install Istio.&lt;/p>
&lt;p>These are the typical commands for the istio demo installation&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>export KUEBCONFIG=...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -L https://istio.io/downloadIstio | sh -
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>istioctl install --set profile=demo -y
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl label namespace default istio-injection=enabled
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="verify-that-istio-gatewayvirtualservice-source-works">Verify that Istio Gateway/VirtualService Source works&lt;/h2>
&lt;h3 id="install-a-sample-service">Install a sample service&lt;/h3>
&lt;p>With automatic sidecar injection:&lt;/p></description></item></channel></rss>