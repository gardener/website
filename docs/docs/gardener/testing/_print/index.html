<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><link rel=canonical type=text/html href=https://gardener.cloud/docs/gardener/testing/><link rel=alternate type=application/rss+xml href=https://gardener.cloud/docs/gardener/testing/index.xml><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=icon type=image/x-icon href=https://gardener.cloud/images/favicon.ico><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-16x16.png sizes=16x16><title>Testing | Gardener</title><meta name=description content="Project Gardener Website - A Managed Kubernetes Service Done Right"><meta property="og:title" content="Testing"><meta property="og:description" content="Project Gardener Website - A Managed Kubernetes Service Done Right"><meta property="og:type" content="website"><meta property="og:url" content="https://gardener.cloud/docs/gardener/testing/"><meta itemprop=name content="Testing"><meta itemprop=description content="Project Gardener Website - A Managed Kubernetes Service Done Right"><meta name=twitter:card content="summary"><meta name=twitter:title content="Testing"><meta name=twitter:description content="Project Gardener Website - A Managed Kubernetes Service Done Right"><link rel=preload href=/scss/main.min.122f9effc36493edf1f25030c2ce7965b16b3b0eaeb02528b9a50e0fa9110c15.css as=style><link href=/scss/main.min.122f9effc36493edf1f25030c2ce7965b16b3b0eaeb02528b9a50e0fa9110c15.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg width="90" height="90" viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>logo</title><desc>Created with Sketch.</desc><defs><path d="M41.8864954.994901575c.996545099999999-.479910833 2.6164002-.477918931 3.6088091.0L76.8159138 16.0781121C77.8124589 16.5580229 78.8208647 17.8257185 79.0659694 18.8995926l7.7355517 33.8916663C87.0476474 53.8696088 86.6852538 55.4484075 85.9984855 56.3095876L64.3239514 83.4885938C63.6343208 84.3533632 62.1740175 85.0543973 61.0725268 85.0543973H26.3092731c-1.1060816.0-2.5646564-.704623400000003-3.2514246-1.5658035L1.38331434 56.3095876C.693683723 55.4448182.335174016 53.865133.580278769 52.7912589L8.31583044 18.8995926C8.56195675 17.8212428 9.57347722 16.556031 10.5658861 16.0781121L41.8864954.994901575z" id="path-1"/><linearGradient x1="12.7542673%" y1="-18.6617048%" x2="88.2666158%" y2="84.6075483%" id="linearGradient-3"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="50%" y1="4.93673768%" x2="148.756007%" y2="175.514523%" id="linearGradient-4"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="19.1574381%" y1="-9.04800713%" x2="82.2203149%" y2="77.9084293%" id="linearGradient-5"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="57.4403751%" y1="26.3148481%" x2="137.966711%" y2="158.080556%" id="linearGradient-6"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="logo"><g id="Rectangle-2" transform="translate(1.000000, 0.000000)"><mask id="mask-2" fill="#fff"><use xlink:href="#path-1"/></mask><use id="Mask" fill="#009f76" xlink:href="#path-1"/><polygon fill="#000" opacity=".289628623" mask="url(#mask-2)" points="-17.6484375 54.5224609 30.8242188 25.0791016 63.4726562 58.5 24.7324219 92.6689453"/></g><path d="M56.8508631 39.260019C56.4193519 40.443987 55.6088085 41.581593 54.6736295 42.1938694l-8.0738997 5.2861089c-1.3854671.907087099999998-3.6247515.9116711-5.0172201.0L33.50861 42.1938694C32.123143 41.2867823 31 39.206345 31 37.545932V26.4150304c0-.725313.2131118-1.5301454.569268099999999-2.2825772L56.8508631 39.260019z" id="Combined-Shape" fill="url(#linearGradient-3)" transform="translate(43.925432, 36.147233) scale(-1, 1) translate(-43.925432, -36.147233)"/><path d="M56.0774672 25.1412464C56.4306829 25.8903325 56.6425556 26.6907345 56.6425556 27.4119019V38.5428034c0 1.6598979-1.1161415 3.73626640000001-2.50861 4.6479374l-8.0738997 5.286109c-1.3854671.907087000000004-3.6247516.911671000000005-5.0172201.0L32.9689261 43.1907408C32.2918101 42.7474223 31.6773514 42.0238435 31.2260376 41.206007L56.0774672 25.1412464z" id="Combined-Shape" fill="url(#linearGradient-4)" transform="translate(43.821278, 37.246598) scale(-1, 1) translate(-43.821278, -37.246598)"/><path d="M65.0702134 57.1846889C64.5985426 58.2007851 63.8367404 59.1236871 62.9788591 59.6189851L47.37497 68.6278947c-1.4306165.825966800000003-3.75236779999999.8246599-5.1807206.0L26.5903603 59.6189851C25.1597438 58.7930183 24 56.7816693 24 55.1323495V37.1145303C24 36.3487436 24.249712 35.5060005 24.6599102 34.7400631L65.0702134 57.1846889z" id="Combined-Shape" fill="url(#linearGradient-5)"/><path d="M65.0189476 34.954538C65.3636909 35.6617313 65.5692194 36.42021 65.5692194 37.1145303V55.1323495C65.5692194 56.7842831 64.4072119 58.7943252 62.9788591 59.6189851L47.37497 68.6278947c-1.4306165.825966800000003-3.75236779999999.8246599-5.1807206.0L26.5903603 59.6189851C25.9237304 59.2341061 25.3159155 58.5918431 24.8568495 57.8487596L65.0189476 34.954538z" id="Combined-Shape" fill="url(#linearGradient-6)"/></g></g></svg></span><span class=text-capitalize>Gardener</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/adopter><span>Adopters</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog><span>Blogs</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs><span>Documentation</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.59b31fb0bc8e358834a88e04eac862a1.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/gardener/testing/>Return to the regular view of this page</a>.</p></div><h1 class=title>Testing</h1><div class=content></div></div><div class=td-content><h1 id=pg-40a22c9a255d5d8d0a52c4e47cc1ce6d>1 - Integration Tests</h1><h1 id=integration-testing-manual>Integration Testing Manual</h1><p>This manual gives an overview about existing integration tests of Gardener.</p><ul><li><a href=#add-a-new-test>Add a new test</a></li><li><a href=#test-labels>Available test labels</a></li><li><a href=#framework>Framework</a></li></ul><h2 id=structure>Structure</h2><p>Gardener integration test are split into 2 big test suites that can be found under <a href=https://github.com/gardener/gardener/tree/master/test/suites>gardener/test/suites</a>:</p><ul><li>The <strong>Gardener Test Suite</strong> contains all tests that only require a running gardener instance.</li><li>The <strong>Shoot Test Suite</strong> contains all tests that require a predefined running shoot cluster.</li></ul><p>The corresponding tests of a test suite are defined in the import statement of the suite definition see <a href=https://github.com/gardener/gardener/blob/master/test/suites/shoot/run_suite_test.go>gardener/test/suites/shoot/run_suite_test.go</a>
and their source code can be found under <a href=https://github.com/gardener/gardener/tree/master/test/integration>gardener/test/integration</a></p><p>The testing directory
is divided into the following major subdirectories:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>├── framework
│   ├── applications
│   ├── config
│   ├── reporter
│   ├── resources
├── integration
│   ├── gardener
│   │   ├── scheduler
│   │   └── security
│   ├── plants
│   └── shoots
│       ├── applications
│       ├── logging
│       ├── maintenance
│       └── operations
├── suites
│   ├── gardener
│   └── shoot
└── system
    ├── complete_reconcile
    ├── shoot_creation
    ├── shoot_deletion
    └── shoot_update
</code></pre></div><p>A suite can be executed by running the suite definition with ginkgo&rsquo;s <code>focus</code> and <code>skip</code> flags
to control the execution of specific labeled test. See example below:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>go test -timeout=0 -mod=vendor ./test/suites/shoot \
      --v -ginkgo.v -ginkgo.progress -ginkgo.noColor \
      --report-file=/tmp/report.json \                     # write elasticsearch formatted output to a file
      --disable-dump=false \                               # disables dumping of teh current state if a test fails
      -kubecfg=/path/to/gardener/kubeconfig \
      -shoot-name=&lt;shoot-name&gt; \                           # Name of the shoot to test
      -project-namespace=&lt;gardener project namespace&gt; \    # Name of the gardener project the test shoot resides
      -ginkgo.focus=&#34;\[RELEASE\]&#34; \                        # Run all tests that are tagged as release
      -ginkgo.skip=&#34;\[SERIAL\]|\[DISRUPTIVE\]&#34;             # Exclude all tests that are tagged SERIAL or DISRUPTIVE
</code></pre></div><h2 id=add-a-new-test>Add a new test</h2><p>To add a new test the framework requires the following steps:</p><p>(The step 1. and 2. can be skipped if the test is added to an already existing package)</p><ol><li>Create a new test file e.g. <code>test/integration/shoot/security/my-sec-test.go</code></li><li>Import the test into the appropriate framework you want use (gardener or shoot): <code>import _ "github.com/gardener/gardener/test/integration/shoot/security"</code></li><li>Define your test with the testframework. The framework will automatically add its initialization, cleanup and dump functions.</li></ol><div class=highlight><pre class=chroma><code class=language-golang data-lang=golang><span class=kd>var</span> <span class=nx>_</span> <span class=p>=</span> <span class=nx>ginkgo</span><span class=p>.</span><span class=nf>Describe</span><span class=p>(</span><span class=s>&#34;my suite&#34;</span><span class=p>,</span> <span class=kd>func</span><span class=p>(){</span>
  <span class=nx>f</span> <span class=o>:=</span> <span class=nx>framework</span><span class=p>.</span><span class=nf>NewShootFramework</span><span class=p>(</span><span class=kc>nil</span><span class=p>)</span>

  <span class=nx>f</span><span class=p>.</span><span class=nf>Beta</span><span class=p>().</span><span class=nf>CIt</span><span class=p>(</span><span class=s>&#34;my first test&#34;</span><span class=p>,</span> <span class=kd>func</span><span class=p>(</span><span class=nx>ctx</span> <span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>f</span><span class=p>.</span><span class=nx>ShootClient</span><span class=p>.</span><span class=nf>Get</span><span class=p>(</span><span class=nx>xx</span><span class=p>)</span>
    <span class=c1>// testing ...
</span><span class=c1></span>  <span class=p>})</span>
<span class=p>})</span>
</code></pre></div><p>The newly created test can be tested by focusing the test with the default ginkgo focus <code>f.Beta().FCIt("my first test", func(ctx context.Context)</code>
and run the shoot test suite with:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>go test -timeout=0 -mod=vendor ./test/suites/shoot \
      --v -ginkgo.v -ginkgo.progress -ginkgo.noColor \
      --report-file=/tmp/report.json \                     # write elasticsearch formatted output to a file
      --disable-dump=false \                               # disables dumping of the current state if a test fails
      -kubecfg=/path/to/gardener/kubeconfig \
      -shoot-name=&lt;shoot-name&gt; \                           # Name of the shoot to test
      -project-namespace=&lt;gardener project namespace&gt; \
      -fenced=&lt;true|false&gt;                                 # Tested shoot is running in a fenced environment and cannot be reached by gardener
</code></pre></div><p>or for the gardener suite with:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>go test -timeout=0 -mod=vendor ./test/suites/gardener \
      --v -ginkgo.v -ginkgo.progress -ginkgo.noColor \
      --report-file=/tmp/report.json \                     # write elasticsearch formatted output to a file
      --disable-dump=false \                               # disables dumping of the current state if a test fails
      -kubecfg=/path/to/gardener/kubeconfig \
      -project-namespace=&lt;gardener project namespace&gt;
</code></pre></div><p>:warning: Make sure that you do not commit any code focused test as this feature is only intended for local development!</p><p>Alternatively, a test can be triggered by specifying a ginkgo focus regex with the name of the test e.g.</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>go test -timeout=0 -mod=vendor ./test/suites/gardener \
      --v -ginkgo.v -ginkgo.progress -ginkgo.noColor \
      --report-file=/tmp/report.json \                     # write elasticsearch formatted output to a file
      -kubecfg=/path/to/gardener/kubeconfig \
      -project-namespace=&lt;gardener project namespace&gt; \
      -ginkgo.focus=&#34;my first test&#34;                        # regex to match test cases
</code></pre></div><h2 id=test-labels>Test Labels</h2><p>Every test should be labeled by using the predefined labels available with every framework to have consistent labeling across
all gardener integration tests.
The labels are applied to every new <code>It()/CIt()</code> definition by:</p><div class=highlight><pre class=chroma><code class=language-golang data-lang=golang><span class=nx>f</span> <span class=o>:=</span> <span class=nx>framework</span><span class=p>.</span><span class=nf>NewCommonFramework</span><span class=p>()</span>
<span class=nx>f</span><span class=p>.</span><span class=nf>Default</span><span class=p>().</span><span class=nf>Serial</span><span class=p>().</span><span class=nf>It</span><span class=p>(</span><span class=s>&#34;my test&#34;</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=s>&#34;[DEFAULT] [SERIAL] my test&#34;</span>

<span class=nx>f</span> <span class=o>:=</span> <span class=nx>framework</span><span class=p>.</span><span class=nf>NewShootFramework</span><span class=p>()</span>
<span class=nx>f</span><span class=p>.</span><span class=nf>Default</span><span class=p>().</span><span class=nf>Serial</span><span class=p>().</span><span class=nf>It</span><span class=p>(</span><span class=s>&#34;my test&#34;</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=s>&#34;[DEFAULT] [SERIAL] [SHOOT] my test&#34;</span>

<span class=nx>f</span> <span class=o>:=</span> <span class=nx>framework</span><span class=p>.</span><span class=nf>NewGardenerFramework</span><span class=p>()</span>
<span class=nx>f</span><span class=p>.</span><span class=nf>Default</span><span class=p>().</span><span class=nf>Serial</span><span class=p>().</span><span class=nf>It</span><span class=p>(</span><span class=s>&#34;my test&#34;</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=s>&#34;[DEFAULT] [GARDENER] [SERIAL] my test&#34;</span>
</code></pre></div><p>Labels:</p><ul><li><em>Beta</em>: Newly created tests with no experience on stableness should be first labeled as beta tests.
They should be watched (and probably improved) until stable enough to be promoted to <em>Default</em>.</li><li><em>Default</em>: Tests that were <em>Beta</em> before and proved to be stable are promoted to <em>Default</em> eventually.
<em>Default</em> tests run more often, produce alerts and are <em>considered</em> during the release decision although they don&rsquo;t necessarily block a release.</li><li><em>Release</em>: Test are release relevant. A failing <em>Release</em> test blocks the release pipeline.
Therefore these tests need to be stable. Only tests proven to be stable will eventually be promoted to <em>Release</em>.</li></ul><p>Behavior Labels:</p><ul><li><em>Serial</em>: The test should always be executed in serial with no other tests running as it may impact other tests.</li><li><em>Destructive</em>: The test is destructive. Which means that is runs with no other tests and may break gardener or the shoot.
Only create such tests if really necessary as the execution will be expensive (neither gardener nor the shoot can be reused in this case for other tests).</li></ul><h2 id=framework>Framework</h2><p>The framework directory contains all the necessary functions / utilities for running the integration test suite.
For example, there are methods for creation/deletion of shoots, waiting for shoot deletion/creation, downloading/installing/deploying helm charts, logging, etc.</p><p>The framework itself consists of 3 different framework that expect different prerequisites and offer context specific functionality.</p><ul><li><strong>CommonFramework</strong>: The common framework is the base framework that handles logging and setup of commonly needed resources like helm.
It also contains common functions for interacting with kubernetes clusters like <code>Waiting for resources to be ready</code> or <code>Exec into a running pod</code>.</li><li><strong>GardenerFramework</strong> contains all functions of the common framework and expects a running gardener instance with the provided gardener kubeconfig and a project namespace.
It also contains functions to interact with gardener like <code>Waiting for a shoot to be reconciled</code> or <code>Patch a shoot</code> or <code>Get a seed</code>.</li><li><strong>ShootFramework</strong>: contains all functions of the common and the gardener framework.
It expects a running shoot cluster defined by the shoot&rsquo;s name and namespace(project namespace).
This framework contains functions to directly interact with the specific shoot.</li></ul><p>The whole framework also includes commonly used checks, ginkgo wrapper, etc. as well as commonly used tests.
Theses common application tests (like the guestbook test) can be used within multiple tests to have a default application (with ingress, deployment, stateful backend) to test external factors.</p><p><strong>Config</strong></p><p>Every framework commandline flag can also be defined by a configuration file (the value of the configuration file is only used if flag is not specified by commandline).
The test suite searches for a configuration file (yaml is preferred) if the command line flag <code>--config=/path/to/config/file</code> is provided.
A framework can be defined in the configuration file by just using the flag name as root key e.g.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>verbose</span><span class=p>:</span><span class=w> </span><span class=l>debug</span><span class=w>
</span><span class=w></span><span class=nt>kubecfg</span><span class=p>:</span><span class=w> </span><span class=l>/kubeconfig/path</span><span class=w>
</span><span class=w></span><span class=nt>project-namespace</span><span class=p>:</span><span class=w> </span><span class=l>garden-it</span><span class=w>
</span></code></pre></div><p><strong>Report</strong></p><p>The framework automatically writes the default ginkgo default report to stdout and a specifically structured elastichsearch bulk report file to a specified location.
The elastichsearch bulk report will write one json document per testcase and injects metadata of the whole testsuite.
An example document for one test case would look like the following document:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>{
    &#34;suite&#34;: {
        &#34;name&#34;: &#34;Shoot Test Suite&#34;,
        &#34;phase&#34;: &#34;Succeeded&#34;,
        &#34;tests&#34;: 3,
        &#34;failures&#34;: 1,
        &#34;errors&#34;: 0,
        &#34;time&#34;: 87.427
    },
    &#34;name&#34;: &#34;Shoot application testing  [DEFAULT] [RELEASE] [SHOOT] should download shoot kubeconfig successfully&#34;,
    &#34;shortName&#34;: &#34;should download shoot kubeconfig successfully&#34;,
    &#34;labels&#34;: [
        &#34;DEFAULT&#34;,
        &#34;RELEASE&#34;,
        &#34;SHOOT&#34;
    ],
    &#34;phase&#34;: &#34;Succeeded&#34;,
    &#34;time&#34;: 0.724512057
}
</code></pre></div><p><strong>Resources</strong></p><p>The resources directory contains all the templates, helm config files (e.g., repositories.yaml, charts, and cache index which are downloaded upon the start of the test), shoot configs, etc.</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>resources
├── charts
├── repository
│   └── repositories.yaml
└── templates
    ├── guestbook-app.yaml.tpl
    └── logger-app.yaml.tpl
</code></pre></div><p>There are two special directories that are dynamically filled with the correct test files:</p><ul><li><strong>charts:</strong> the charts will be downloaded and saved in this directory</li><li><strong>repository</strong> contains the repository.yaml file that the target helm repos will be read from and the cache where the <code>stable-index.yaml</code> file will be created</li></ul><h3 id=system-tests>System Tests</h3><p>This directory contains the system tests that have a special meaning for the testmachinery with their own Test Definition.
Currently these system tests consists of:</p><ul><li>Shoot creation</li><li>Shoot deletion</li><li>Shoot Kubernetes update</li><li>Gardener Full reconcile check</li></ul><h4 id=shoot-creation-test>Shoot Creation test</h4><p>Create Shoot test is meant to test shoot creation.</p><p><strong>Example Run</strong></p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>go test -mod=vendor -timeout=0 ./test/system/shoot_creation \
  --v -ginkgo.v -ginkgo.progress \
  -kubecfg=$HOME/.kube/config \
  -shoot-name=$SHOOT_NAME \
  -cloud-profile=$CLOUDPROFILE \
  -seed=$SEED \
  -secret-binding=$SECRET_BINDING \
  -provider-type=$PROVIDER_TYPE \
  -region=$REGION \
  -k8s-version=$K8S_VERSION \
  -project-namespace=$PROJECT_NAMESPACE \
  -annotations=$SHOOT_ANNOTATIONS \
  -infrastructure-provider-config-filepath=$INFRASTRUCTURE_PROVIDER_CONFIG_FILEPATH \
  -controlplane-provider-config-filepath=$CONTROLPLANE_PROVIDER_CONFIG_FILEPATH \
  -workers-config-filepath=$$WORKERS_CONFIG_FILEPATH \
  -worker-zone=$ZONE \
  -networking-pods=$NETWORKING_PODS \
  -networking-services=$NETWORKING_SERVICES \
  -networking-nodes=$NETWORKING_NODES \
  -start-hibernated=$START_HIBERNATED
</code></pre></div><h4 id=shoot-deletion-test>Shoot Deletion test</h4><p>Delete Shoot test is meant to test the deletion of a shoot.</p><p><strong>Example Run</strong></p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>go test -mod=vendor -timeout=0 -ginkgo.v -ginkgo.progress \
  ./test/system/shoot_deletion \
  -kubecfg=$HOME/.kube/config \
  -shoot-name=$SHOOT_NAME \
  -project-namespace=$PROJECT_NAMESPACE
</code></pre></div><h4 id=shoot-update-test>Shoot Update test</h4><p>The Update Shoot test is meant to test the kubernetes version update of a existing shoot.
If no specific version is provided the next patch version is automatically selected.
If there is no available newer version this test is a noop.</p><p><strong>Example Run</strong></p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>go test -mod=vendor -timeout=0 ./test/system/shoot_update \
  --v -ginkgo.v -ginkgo.progress \
  -kubecfg=$HOME/.kube/config \
  -shoot-name=$SHOOT_NAME \
  -project-namespace=$PROJECT_NAMESPACE \
  -version=$K8S_VERSION
</code></pre></div><h4 id=gardener-full-reconcile-test>Gardener Full Reconcile test</h4><p>The Gardener Full Reconcile test is meant to test if all shoots of a gardener instance are successfully reconciled.</p><p><strong>Example Run</strong></p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>go test -mod=vendor -timeout=0 ./test/system/complete_reconcile \
  --v -ginkgo.v -ginkgo.progress \
  -kubecfg=$HOME/.kube/config \
  -project-namespace=$PROJECT_NAMESPACE \
  -gardenerVersion=$GARDENER_VERSION # needed to validate the last acted gardener version of a shoot
</code></pre></div></div></main></div></div><footer class="footer row d-print-none"><div class="container-fluid footer-wrapper"><ul class=nav><li><a href=/blog/>Blogs</a></li><li><a href=/community/>Community</a></li><li><a href=/adopter/>Adopters</a></li><li><a href=/docs/>Documentation</a></li></ul><img src=/images/lp/gardener-logo.svg alt="Logo Gardener" class=logo><ul class=media-wr><li><a target=_blank href=https://kubernetes.slack.com/archives/CB57N0BFG><img src=/images/branding/slack-logo-white.svg class=media-icon><div class=media-text>Slack</div></a></li><li><a target=_blank href=https://github.com/gardener><img src=/images/branding/github-mark-logo.png class=media-icon><div class=media-text>GitHub</div></a></li><li><a target=_blank href=https://www.youtube.com/channel/UCwUhwKFREV8Su0gwAJQX7tw><img src=/images/branding/youtube-logo-dark.svg class=media-icon><div class=media-text>YouTube</div></a></li><li><a target=_blank href=https://twitter.com/GardenerProject><img src=/images/branding/twitter-logo-white.svg class=media-icon><div class=media-text>Twitter</div></a></li></ul><span class=copyright>Copyright 2019-2021 Gardener project authors. <a href=https://www.sap.com/corporate/en/legal/privacy.html>Privacy policy
<i class="fa fa-external-link" aria-hidden=true></i></a></span></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>