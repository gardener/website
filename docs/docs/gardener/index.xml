<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Gardener â€“ Gardener</title><link>https://gardener.cloud/docs/gardener/</link><description>Recent content on Gardener</description><generator>Hugo -- gohugo.io</generator><language>en-US</language><lastBuildDate>Thu, 19 Nov 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://gardener.cloud/docs/gardener/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: API Reference</title><link>https://gardener.cloud/docs/gardener/api-reference/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/gardener/api-reference/</guid><description>
&lt;h1 id="gardener-api-reference">Gardener API Reference&lt;/h1>
&lt;ul>
&lt;li>&lt;a href="https://gardener.cloud/docs/gardener/api-reference/authentication/">&lt;code>authentication.gardener.cloud&lt;/code> API Group&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/">&lt;code>core.gardener.cloud&lt;/code> API Group&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/gardener/api-reference/extensions/">&lt;code>extensions.gardener.cloud&lt;/code> API Group&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/gardener/api-reference/operations/">&lt;code>operations.gardener.cloud&lt;/code> API Group&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/gardener/api-reference/resources/">&lt;code>resources.gardener.cloud&lt;/code> API Group&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/gardener/api-reference/seedmanagement/">&lt;code>seedmanagement.gardener.cloud&lt;/code> API Group&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/gardener/api-reference/settings/">&lt;code>settings.gardener.cloud&lt;/code> API Group&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Concepts</title><link>https://gardener.cloud/docs/gardener/concepts/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/gardener/concepts/</guid><description/></item><item><title>Docs: Deployment</title><link>https://gardener.cloud/docs/gardener/deployment/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/gardener/deployment/</guid><description/></item><item><title>Docs: Development</title><link>https://gardener.cloud/docs/gardener/development/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/gardener/development/</guid><description/></item><item><title>Docs: Extensions</title><link>https://gardener.cloud/docs/gardener/extensions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/gardener/extensions/</guid><description/></item><item><title>Docs: Monitoring</title><link>https://gardener.cloud/docs/gardener/monitoring/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/gardener/monitoring/</guid><description>
&lt;h1 id="monitoring">Monitoring&lt;/h1>
&lt;h2 id="roles-of-the-different-prometheus-instances">Roles of the different Prometheus instances&lt;/h2>
&lt;p>&lt;img src="https://gardener.cloud/__resources/monitoring_06c124.png" alt="monitoring">&lt;/p>
&lt;h3 id="prometheus">Prometheus&lt;/h3>
&lt;p>Deployed in the &lt;code>garden&lt;/code> namespace. Important scrape targets:&lt;/p>
&lt;ul>
&lt;li>cadvisor&lt;/li>
&lt;li>node-exporter&lt;/li>
&lt;li>kube-state-metrics&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Purpose&lt;/strong>: Acts as a cache for other Prometheus instances. The metrics are kept for a short amount of time (~2 hours) due to the high cardinality. For example if another Prometheus needs access to cadvisor metrics it will query this Prometheus instead of the cadvisor. This also reduces load on the kubelets and API Server.&lt;/p>
&lt;p>Some of the high cardinality metrics are aggregated with recording rules. These &lt;em>pre-aggregated&lt;/em> metrics are scraped by the &lt;a href="#aggregate-prometheus">Aggregate Prometheus&lt;/a>.&lt;/p>
&lt;p>This Prometheus is not used for alerting.&lt;/p>
&lt;h3 id="aggregate-prometheus">Aggregate Prometheus&lt;/h3>
&lt;p>Deployed in the &lt;code>garden&lt;/code> namespace. Important scrape targets:&lt;/p>
&lt;ul>
&lt;li>other prometheus instances&lt;/li>
&lt;li>logging components&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Purpose&lt;/strong>: Store pre-aggregated data from &lt;a href="#prometheus">prometheus&lt;/a> and &lt;a href="#shoot-prometheus">shoot prometheus&lt;/a>. An ingress exposes this Prometheus allowing it to be scraped from another cluster.&lt;/p>
&lt;h3 id="seed-prometheus">Seed Prometheus&lt;/h3>
&lt;p>Deployed in the &lt;code>garden&lt;/code> namespace. Important scrape targets:&lt;/p>
&lt;ul>
&lt;li>pods in extension namespaces annotated with:&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>prometheus.io/scrape=true
prometheus.io/port=&amp;lt;port&amp;gt;
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>cadvisor metrics from pods in the garden and extension namespaces&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Purpose&lt;/strong>: Entrypoint for operators when debugging issues with extensions or other garden components.&lt;/p>
&lt;h3 id="shoot-prometheus">Shoot Prometheus&lt;/h3>
&lt;p>Deployed in the shoot control plane namespace. Important scrape targets:&lt;/p>
&lt;ul>
&lt;li>control plane components&lt;/li>
&lt;li>shoot nodes (node-exporter)&lt;/li>
&lt;li>blackbox-exporter used to measure &lt;a href="https://gardener.cloud/docs/gardener/monitoring/connectivity/">connectivity&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Purpose&lt;/strong>: Monitor all relevant components belonging to a shoot cluster managed by Gardener. Shoot owners can view the metrics in Grafana dashboards and receive &lt;a href="https://gardener.cloud/docs/gardener/monitoring/user_alerts/">alerts&lt;/a> based on these metrics. Gardener operators will receive a different set of &lt;a href="https://gardener.cloud/docs/gardener/monitoring/operator_alerts/">alerts&lt;/a>. For alerting internals refer to &lt;a href="https://gardener.cloud/docs/gardener/monitoring/alerting/">this&lt;/a> document.&lt;/p>
&lt;h2 id="collect-all-shoot-prometheus-with-remote-write">Collect all Shoot Prometheus with remote write&lt;/h2>
&lt;p>An optional collection of all Shoot Prometheus metrics to a central prometheus (or cortex) instance is possible with the &lt;code>monitoring.shoot&lt;/code> setting in &lt;code>GardenletConfiguration&lt;/code>:&lt;/p>
&lt;pre tabindex="0">&lt;code>monitoring:
shoot:
remoteWrite:
url: https://remoteWriteUrl # remote write URL
keep:# metrics that should be forwarded to the external write endpoint. If empty all metrics get forwarded
- kube_pod_container_info
queueConfig: | # queue_config of prometheus remote write as multiline string
max_shards: 100
batch_send_deadline: 20s
min_backoff: 500ms
max_backoff: 60s
externalLabels: # add additional labels to metrics to identify it on the central instance
additional: label
&lt;/code>&lt;/pre>&lt;p>If basic auth is needed it can be set via secret in garden namespace (Gardener API Server). &lt;a href="https://github.com/gardener/gardener/blob/master/example/10-secret-remote-write.yaml">Example secret&lt;/a>&lt;/p></description></item><item><title>Docs: Proposals</title><link>https://gardener.cloud/docs/gardener/proposals/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/gardener/proposals/</guid><description>
&lt;h1 id="gardener-enhancement-proposal-gep">Gardener Enhancement Proposal (GEP)&lt;/h1>
&lt;p>Changes to the Gardener code base are often incorporated directly via pull requests which either themselves contain a description about the motivation and scope of a change or a linked GitHub issue does.&lt;/p>
&lt;p>If a perspective feature has a bigger extent, requires the involvement of several parties or more discussion is needed before the actual implementation can be started, you may consider filing a pull request with a Gardener Enhancement Proposal (GEP) first.&lt;/p>
&lt;p>GEPs are a measure to propose a change or to add a feature to Gardener, help you to describe the change(s) conceptionally, and to list the steps that are necessary to reach this goal. It helps the Gardener maintainers as well as the community to understand the motivation and scope around your proposed change(s) and encourages their contribution to discussions and future pull requests. If you are familiar with the Kubernetes community, GEPs are analogue to Kubernetes Enhancement Proposals (&lt;a href="https://github.com/kubernetes/enhancements/tree/master/keps">KEPs&lt;/a>).&lt;/p>
&lt;h2 id="reasons-for-a-gep">Reasons for a GEP&lt;/h2>
&lt;p>You may consider filing a GEP for the following reasons:&lt;/p>
&lt;ul>
&lt;li>A Gardener architectural change is intended / necessary&lt;/li>
&lt;li>Major changes to the Gardener code base&lt;/li>
&lt;li>A phased implementation approach is expected because of the widespread scope of the change&lt;/li>
&lt;li>Your proposed changes may be controversial&lt;/li>
&lt;/ul>
&lt;p>We encourage you to take a look at already merged &lt;a href="https://github.com/gardener/gardener/tree/master/docs/proposals">GEPs&lt;/a> since they give you a sense of what a typical GEP comprises.&lt;/p>
&lt;h2 id="before-creating-a-gep">Before creating a GEP&lt;/h2>
&lt;p>Before starting your work and creating a GEP, please take some time to familiarize yourself with our
general &lt;a href="https://gardener.cloud/docs/contribute/">Gardener Contribution Guidelines&lt;/a>.&lt;/p>
&lt;p>It is recommended to discuss and outline the motivation of your prospective GEP as a draft with the community before you take the investment of creating the actual GEP. This early briefing supports the understanding for the broad community and leads to a fast feedback for your proposal from the respective experts in the community.
An appropriate format for this may be the regular &lt;a href="https://gardener.cloud/docs/contribute/#bi-weekly-meetings">Gardener community meetings&lt;/a>.&lt;/p>
&lt;h2 id="how-to-file-a-gep">How to file a GEP&lt;/h2>
&lt;p>GEPs should be created as Markdown &lt;code>.md&lt;/code> files and are submitted through a GitHub pull request to their current home in &lt;a href="https://github.com/gardener/gardener/tree/master/docs/proposals">docs/proposals&lt;/a>. Please use the provided &lt;a href="https://gardener.cloud/docs/gardener/proposals/00-template/">template&lt;/a> or follow the structure of existing &lt;a href="https://github.com/gardener/gardener/tree/master/docs/proposals">GEPs&lt;/a> which makes reviewing easier and faster. Additionally, please link the new GEP in our documentation &lt;a href="https://github.com/gardener/gardener/blob/master/docs/README.md#Proposals">index&lt;/a>.&lt;/p>
&lt;p>If not already done, please present your GEP in the &lt;a href="https://gardener.cloud/docs/contribute/#bi-weekly-meetings">regular community meetings&lt;/a> to brief the community about your proposal (we strive for personal communication :) ). Also consider that this may be an important step to raise awareness and understanding for everyone involved.&lt;/p>
&lt;p>The GEP template contains a small set of metadata, which is helpful for keeping track of the enhancement
in general and especially of who is responsible for implementing and reviewing PRs that are part of
the enhancement.&lt;/p>
&lt;h3 id="main-reviewers">Main Reviewers&lt;/h3>
&lt;p>Apart from general metadata, the GEP should name at least one &amp;ldquo;main reviewer&amp;rdquo;.
You can find a main reviewer for your GEP either when discussing the proposal in the community meeting, by asking in our
&lt;a href="https://gardener.cloud/docs/contribute/#slack-channel">Slack Channel&lt;/a> or at latest during the GEP PR review.
New GEPs should only be accepted once at least one main reviewer is nominated/assigned.&lt;/p>
&lt;p>The main reviewers are charged with the following tasks:&lt;/p>
&lt;ul>
&lt;li>familiarizing themselves with the details of the proposal&lt;/li>
&lt;li>reviewing the GEP PR itself and any further updates to the document&lt;/li>
&lt;li>discussing design details and clarifying implementation questions with the author before and after
the proposal was accepted&lt;/li>
&lt;li>reviewing PRs related to the GEP in-depth&lt;/li>
&lt;/ul>
&lt;p>Other community members are of course also welcome to help the GEP author, review his work and raise
general concerns with the enhancement. Nevertheless, the main reviewers are supposed to focus on more
in-depth reviews and accompaning the whole GEP process end-to-end, which helps with getting more
high-quality reviews and faster feedback cycles instead of having more people looking at the process
with lower priority and less focus.&lt;/p>
&lt;h2 id="gep-process">GEP Process&lt;/h2>
&lt;ol>
&lt;li>Pre-discussions about GEP (if necessary)&lt;/li>
&lt;li>Find a main reviewer for your enhancement&lt;/li>
&lt;li>GEP is filed through GitHub PR&lt;/li>
&lt;li>Presentation in Gardener community meeting (if possible)&lt;/li>
&lt;li>Review of GEP from maintainers/community&lt;/li>
&lt;li>GEP is merged if accepted&lt;/li>
&lt;li>Implementation of GEP&lt;/li>
&lt;li>Consider keeping GEP up-to-date in case implementation differs essentially&lt;/li>
&lt;/ol></description></item><item><title>Docs: Usage</title><link>https://gardener.cloud/docs/gardener/usage/</link><pubDate>Thu, 19 Nov 2020 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/gardener/usage/</guid><description/></item></channel></rss>