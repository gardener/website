<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Proposals on Gardener</title><link>https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/</link><description>Recent content in Proposals on Gardener</description><generator>Hugo</generator><language>en-US</language><atom:link href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/index.xml" rel="self" type="application/rss+xml"/><item><title>Excess Reserve Capacity</title><link>https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/excess_reserve_capacity/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/excess_reserve_capacity/</guid><description>&lt;h1 id="excess-reserve-capacity">Excess Reserve Capacity&lt;a class="td-heading-self-link" href="#excess-reserve-capacity" aria-label="Heading self-link">&lt;/a>&lt;/h1>&lt;!-- TOC -->
&lt;ul>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/excess_reserve_capacity/#excess-reserve-capacity">Excess Reserve Capacity&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/excess_reserve_capacity/#goal">Goal&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/excess_reserve_capacity/#note">Note&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/excess_reserve_capacity/#possible-approaches">Possible Approaches&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/excess_reserve_capacity/#approach-1-enhance-machine-controller-manager-to-also-entertain-the-excess-machines">Approach 1: Enhance Machine-controller-manager to also entertain the excess machines&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/excess_reserve_capacity/#approach-2-enhance-cluster-autoscaler-by-simulating-fake-pods-in-it">Approach 2: Enhance Cluster-autoscaler by simulating fake pods in it&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/excess_reserve_capacity/#approach-3-enhance-cluster-autoscaler-to-support-pluggable-scaling-events">Approach 3: Enhance cluster-autoscaler to support pluggable scaling-events&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/excess_reserve_capacity/#approach-4-make-intelligent-use-of-low-priority-pods">Approach 4: Make intelligent use of Low-priority pods&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;!-- /TOC -->
&lt;h2 id="goal">Goal&lt;a class="td-heading-self-link" href="#goal" aria-label="Heading self-link">&lt;/a>&lt;/h2>&lt;p>Currently, autoscaler optimizes the number of machines for a given application-workload. Along with effective resource utilization, this feature brings concern where, many times, when new application instances are created - they don&amp;rsquo;t find space in existing cluster. This leads the cluster-autoscaler to create new machines via MachineDeployment, which can take from 3-4 minutes to ~10 minutes, for the machine to really come-up and join the cluster. In turn, application-instances have to wait till new machines join the cluster.&lt;/p></description></item><item><title>GRPC Based Implementation of Cloud Providers</title><link>https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/external_providers_grpc/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/external_providers_grpc/</guid><description>&lt;h1 id="grpc-based-implementation-of-cloud-providers---wip">GRPC based implementation of Cloud Providers - WIP&lt;a class="td-heading-self-link" href="#grpc-based-implementation-of-cloud-providers---wip" aria-label="Heading self-link">&lt;/a>&lt;/h1>&lt;h2 id="goal">Goal:&lt;a class="td-heading-self-link" href="#goal" aria-label="Heading self-link">&lt;/a>&lt;/h2>&lt;p>Currently the Cloud Providers&amp;rsquo; (CP) functionalities ( Create(), Delete(), List() ) are part of the Machine Controller Manager&amp;rsquo;s (MCM)repository. Because of this, adding support for new CPs into MCM requires merging code into MCM which may not be required for core functionalities of MCM itself. Also, for various reasons it may not be feasible for all CPs to merge their code with MCM which is an Open Source project.&lt;/p></description></item><item><title>Hotupdate Instances</title><link>https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/</guid><description>&lt;h1 id="hot-update-virtualmachine-tags-without-triggering-a-rolling-update">Hot-Update VirtualMachine tags without triggering a rolling-update&lt;a class="td-heading-self-link" href="#hot-update-virtualmachine-tags-without-triggering-a-rolling-update" aria-label="Heading self-link">&lt;/a>&lt;/h1>&lt;ul>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#hot-update-virtualmachine-tags-without-triggering-a-rolling-update">Hot-Update VirtualMachine tags without triggering a rolling-update&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#motivation">Motivation&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#boundary-condition">Boundary Condition&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#what-is-available-today">What is available today?&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#what-are-the-problems-with-the-current-approach">What are the problems with the current approach?&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#machineclass-update-and-its-impact">MachineClass Update and its impact&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#proposal">Proposal&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#shoot-yaml-changes">Shoot YAML changes&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#provider-specific-workerconfig-api-changes">Provider specific WorkerConfig API changes&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#gardener-provider-extension-changes">Gardener provider extension changes&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#driver-interface-changes">Driver interface changes&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#machine-class-reconciliation">Machine Class reconciliation&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/hotupdate-instances/#reconciliation-changes">Reconciliation Changes&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="motivation">Motivation&lt;a class="td-heading-self-link" href="#motivation" aria-label="Heading self-link">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://github.com/gardener/machine-controller-manager/issues/750">MCM Issue#750&lt;/a> There is a requirement to provide a way for consumers to add tags which can be hot-updated onto VMs. This requirement can be generalized to also offer a convenient way to specify tags which can be applied to VMs, NICs, Devices etc.&lt;/p></description></item><item><title>Initialize Machine</title><link>https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/initialize-machine/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/other-components/machine-controller-manager/proposals/initialize-machine/</guid><description>&lt;h1 id="post-create-initialization-of-machine-instance">Post-Create Initialization of Machine Instance&lt;a class="td-heading-self-link" href="#post-create-initialization-of-machine-instance" aria-label="Heading self-link">&lt;/a>&lt;/h1>&lt;h2 id="background">Background&lt;a class="td-heading-self-link" href="#background" aria-label="Heading self-link">&lt;/a>&lt;/h2>&lt;p>Today the &lt;a href="https://github.com/gardener/machine-controller-manager/blob/rel-v0.49/pkg/util/provider/driver/driver.go#L28">driver.Driver&lt;/a> facade represents the boundary between the the &lt;code>machine-controller&lt;/code> and its various provider specific implementations.&lt;/p>
&lt;p>We have abstract operations for creation/deletion and listing of machines (actually compute instances) but we do not correctly handle post-creation initialization logic. Nor do we provide an abstract operation to represent the hot update of an instance after creation.&lt;/p>
&lt;p>We have found this to be necessary for several use cases. Today in the MCM AWS Provider, we already misuse &lt;code>driver.GetMachineStatus&lt;/code> which is supposed to be a read-only operation obtaining the status of an instance.&lt;/p></description></item></channel></rss>