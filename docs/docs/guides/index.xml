<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Gardener – Guides</title><link>https://gardener.cloud/docs/guides/</link><description>Recent content in Guides on Gardener</description><generator>Hugo -- gohugo.io</generator><language>en-US</language><lastBuildDate>Tue, 10 Oct 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://gardener.cloud/docs/guides/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Set Up Client Tools</title><link>https://gardener.cloud/docs/guides/client-tools/</link><pubDate>Tue, 01 Jan 2019 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/guides/client-tools/</guid><description/></item><item><title>Docs: High Availability</title><link>https://gardener.cloud/docs/guides/high-availability/</link><pubDate>Fri, 17 Mar 2023 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/guides/high-availability/</guid><description/></item><item><title>Docs: Administer Client (Shoot) Clusters</title><link>https://gardener.cloud/docs/guides/administer-shoots/</link><pubDate>Tue, 23 May 2023 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/guides/administer-shoots/</guid><description/></item><item><title>Docs: Networking</title><link>https://gardener.cloud/docs/guides/networking/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/guides/networking/</guid><description/></item><item><title>Docs: Monitor and Troubleshoot</title><link>https://gardener.cloud/docs/guides/monitoring-and-troubleshooting/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/guides/monitoring-and-troubleshooting/</guid><description/></item><item><title>Docs: Applications</title><link>https://gardener.cloud/docs/guides/applications/</link><pubDate>Tue, 21 Jun 2022 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/guides/applications/</guid><description/></item><item><title>Docs: Kubernetes Cluster Hardening Procedure for Cluster Admins</title><link>https://gardener.cloud/docs/guides/kubernetes-hardening/</link><pubDate>Tue, 10 Oct 2023 00:00:00 +0000</pubDate><guid>https://gardener.cloud/docs/guides/kubernetes-hardening/</guid><description>
&lt;h2 id="overview">Overview&lt;/h2>
&lt;p>The Gardener team takes security seriously, which is why we mandate the Security Technical Implementation Guide (STIG) for Kubernetes as published by the Defense Information Systems Agency (DISA) &lt;a href="https://public.cyber.mil/stigs/downloads/">here&lt;/a>. We offer Gardener adopters the opportunity to show compliance with DISA Kubernetes STIG via the compliance checker tool &lt;a href="https://github.com/gardener/diki">diki&lt;/a>. The latest release in machine readable format can be found in the &lt;a href="https://public.cyber.mil/stigs/downloads/?_dl_facet_stigs=container-platform">STIGs Document Library&lt;/a> by searching for Kubernetes.&lt;/p>
&lt;h2 id="kubernetes-clusters-security-requirements">Kubernetes Clusters Security Requirements&lt;/h2>
&lt;p>&lt;a href="https://cyber.trackr.live/stig/Kubernetes/1/10">DISA Kubernetes STIG version 1 release 10&lt;/a> contains 93 rules overall. &lt;strong>Only the following 25 rules, however, apply to you as a Gardener Stakeholder/Cluster Admin&lt;/strong>. Some of them are secure-by-default, so your responsibility is to make sure that they are not changed. The requirements are grouped logically for your convenience:&lt;/p>
&lt;h3 id="control-plane-configuration">Control Plane Configuration&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ID&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Secure By Default&lt;/th>
&lt;th>Comments&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>242390&lt;/td>
&lt;td>Kubernetes API server must have anonymous authentication disabled&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>Disabled unless you enable it via &lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/#kubeapiserverconfig">enableAnnonymousAuthentication&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>245543&lt;/td>
&lt;td>Kubernetes API Server must disable token authentication to protect information in transit&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>Disabled unless you enable it via &lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/#kubernetes">enableStaticTokenKubeconfig&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242400&lt;/td>
&lt;td>Kubernetes API server must have Alpha APIs disabled&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>Disabled unless you enable it via &lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/#kubernetesconfig">featureGates&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242436&lt;/td>
&lt;td>Kubernetes API server must have the ValidatingAdmissionWebhook enabled&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>Enabled unless you disable it explicitly via &lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/#kubeapiserverconfig">admissionPlugins&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242398&lt;/td>
&lt;td>Kubernetes DynamicAuditing must not be enabled&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>Disabled unless you enable it via &lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/#kubernetesconfig">featureGates&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242399&lt;/td>
&lt;td>Kubernetes DynamicKubeletConfig must not be enabled&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>Disabled unless you enable it via &lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/#kubernetesconfig">featureGates&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242393&lt;/td>
&lt;td>Kubernetes Worker Nodes must not have sshd service running&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>Active to allow debugging of network issues, but it is possible to deactivate via the &lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/#core.gardener.cloud/v1beta1.SSHAccess">sshAccess&lt;/a> setting&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242394&lt;/td>
&lt;td>Kubernetes Worker Nodes must not have the sshd service enabled&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>Enabled to allow debugging of network issues, but it is possible to deactivate via the &lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/#core.gardener.cloud/v1beta1.SSHAccess">sshAccess&lt;/a> setting&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242434&lt;/td>
&lt;td>Kubernetes Kubelet must enable kernel protection&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>Enabled for Kubernetes v1.26 or later unless disabled explicitly via &lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/#kubeletconfig">protectKernalDefaults&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>245541&lt;/td>
&lt;td>Kubernetes Kubelet must not disable timeouts&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>Enabled for Kubernetes v1.26 or later unless disabled explicitly via &lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/#kubeletconfig">streamingConnectionIdleTimeout&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="end-user-workload">End User Workload&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ID&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Secure By Default&lt;/th>
&lt;th>Comments&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>242395&lt;/td>
&lt;td>Kubernetes dashboard must not be enabled&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>Not installed unless you install it via &lt;a href="https://gardener.cloud/docs/gardener/api-reference/core/#addon">kubernetesDashboard&lt;/a>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242414&lt;/td>
&lt;td>Kubernetes cluster must use non-privileged host ports for user pods&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>Do not use any ports below 1024 for your own workload.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242415&lt;/td>
&lt;td>Secrets in Kubernetes must not be stored as environment variables&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>Always mount secrets as volumes and never as environment variables.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242383&lt;/td>
&lt;td>User-managed resources must be created in dedicated namespaces&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>Create and use your own/dedicated namespaces and never place anything into the default, kube-system, kube-public, or kube-node-lease namespace. The default namespace is never to be used while the other above listed namespaces are only to be used by the Kubernetes provider (here Gardener).&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242417&lt;/td>
&lt;td>Kubernetes must separate user functionality&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>While 242383 is about all resources, this rule is specifically about pods. Create and use your own/dedicated namespaces and never place pods into the default, kube-system, kube-public, or kube-node-lease namespace. The default namespace is never to be used while the other above listed namespaces are only to be used by the Kubernetes provider (here Gardener).&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242437&lt;/td>
&lt;td>Kubernetes must have a pod security policy set&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>Set, but Gardener can only set default pod security policies (PSP) and does so only until v1.24 as with v1.25 PSPs were removed (deprecated since v1.21) and replaced with &lt;a href="https://kubernetes.io/docs/concepts/security/pod-security-standards">Pod Security Standards&lt;/a> (see &lt;a href="https://kubernetes.io/blog/2021/04/06/podsecuritypolicy-deprecation-past-present-and-future">this blog&lt;/a> for more information). Whatever the technology, you are responsible to configure custom-tailured appropriate PSPs respectively use them or PSSs, depending on your own workload and security needs (only you know what a pod should be allowed to do).&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>242442&lt;/td>
&lt;td>Kubernetes must remove old components after updated versions have been installed&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>While Gardener manages all its components in its system namespaces (automated), you are naturally responsible for your own workload.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>254800&lt;/td>
&lt;td>Kubernetes must have a Pod Security Admission control file configured&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>Gardener ensures that the pod security configuration allows system components to be deployed in the kube-system namespace but does not set configurations that can affect user namespaces. It is recommended that users enforce a minimum of &lt;a href="https://kubernetes.io/docs/concepts/security/pod-security-admission/#pod-security-levels">baseline pod security level for their workload&lt;/a> via &lt;a href="https://gardener.cloud/docs/gardener/pod-security/#admission-configuration-for-the-podsecurity-admission-plugin">PodSecurity admission plugin&lt;/a>.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item></channel></rss>