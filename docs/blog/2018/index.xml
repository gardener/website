<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>2018 on Gardener</title><link>https://gardener.cloud/blog/2018/</link><description>Recent content in 2018 on Gardener</description><generator>Hugo</generator><language>en-US</language><lastBuildDate>Tue, 25 Dec 2018 00:00:00 +0000</lastBuildDate><atom:link href="https://gardener.cloud/blog/2018/index.xml" rel="self" type="application/rss+xml"/><item><title>Gardener Cookies</title><link>https://gardener.cloud/blog/2018/12.25-gardener_cookies/</link><pubDate>Tue, 25 Dec 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/12.25-gardener_cookies/</guid><description>&lt;h1 id="green-tea-matcha-cookies">Green Tea Matcha Cookies&lt;a class="td-heading-self-link" href="#green-tea-matcha-cookies" aria-label="Heading self-link">&lt;/a>&lt;/h1>&lt;p>For a team event during the Christmas season we decided to completely reinterpret the topic &lt;code>cookies&lt;/code>. :-)&lt;/p>
&lt;img style="width: 50%; height: auto; margin: 0, auto" src="https://gardener.cloud/__resources/cookie-00_d79655.jpg"/>
&lt;p>Matcha cookies have the delicate flavor and color of green tea. These soft, pillowy and chewy green tea cookies
are perfect with tea. And of course they fit perfectly to our logo.&lt;/p>
&lt;h2 id="ingredients">Ingredients&lt;a class="td-heading-self-link" href="#ingredients" aria-label="Heading self-link">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>1 stick butter, softened&lt;/li>
&lt;li>⅞ cup of granulated sugar&lt;/li>
&lt;li>1 cup + 2 tablespoons all-purpose flour&lt;/li>
&lt;li>2 eggs&lt;/li>
&lt;li>1¼ tablespoons culinary grade matcha powder&lt;/li>
&lt;li>1 teaspoon baking powder&lt;/li>
&lt;li>pinch of salt&lt;/li>
&lt;/ul>
&lt;h2 id="instructions">Instructions&lt;a class="td-heading-self-link" href="#instructions" aria-label="Heading self-link">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>Cream together the butter and sugar in a large mixing bowl - it should be creamy colored and airy. A hand blender or stand mixer works well for this. This helps the cookie become fluffy and chewy.&lt;/li>
&lt;li>Gently incorporate the eggs to the butter mixture one at a time.&lt;/li>
&lt;li>In a separate bowl, sift together all the dry ingredients.&lt;/li>
&lt;li>Add the dry ingredients to the wet by adding a little at a time and folding or gently mixing the batter together. Keep going until you&amp;rsquo;ve incorporated all the remaining flour mixture. The dough should be a beautiful green color.&lt;/li>
&lt;li>Chill the dough for at least an hour - up to overnight. The longer the better!&lt;/li>
&lt;li>Preheat your oven to 325 F.&lt;/li>
&lt;li>Roll the dough into balls the size of ping pong balls and place them on a non-stick cookie sheet.&lt;/li>
&lt;li>Bake them for 12-15 minutes until the bottoms just start to become golden brown and the cookie no longer looks wet in the middle. Note: you can always bake them at 350 F for a less moist, fluffy cookie. It will bake faster by about 2-4 minutes 350 F so watch them closely.&lt;/li>
&lt;li>Remove and let cool on a rack and enjoy!&lt;/li>
&lt;/ol>
&lt;h2 id="note">Note&lt;a class="td-heading-self-link" href="#note" aria-label="Heading self-link">&lt;/a>&lt;/h2>&lt;p>Make sure you get culinary grade matcha powder. You should be able to find this in Asian or natural grocers.&lt;/p></description></item><item><title>Cookies Are Dangerous...</title><link>https://gardener.cloud/blog/2018/12.22-cookies-are-dangerous/</link><pubDate>Sat, 22 Dec 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/12.22-cookies-are-dangerous/</guid><description>&lt;p>&lt;strong>&amp;hellip;they mess up the figure.&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://gardener.cloud/__resources/cookie_8fffdf.jpg" alt="cookie">&lt;/p>
&lt;p>For a team event during the Christmas season we decided to completely reinterpret the topic &lt;code>cookies&lt;/code>&amp;hellip; since the vegetables have gone on a well-deserved vacation. :-)&lt;/p>
&lt;p>Get the recipe at &lt;a href="https://gardener.cloud/blog/2018/12.25-gardener_cookies/">Gardener Cookies&lt;/a>.&lt;/p></description></item><item><title>Hibernate a Cluster to Save Money</title><link>https://gardener.cloud/blog/2018/07.11-hibernate-a-cluster-to-save-money/</link><pubDate>Wed, 11 Jul 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/07.11-hibernate-a-cluster-to-save-money/</guid><description>&lt;p>You want to experiment with Kubernetes or set up a customer scenario, but don&amp;rsquo;t want to run the cluster 24 / 7 due to cost reasons?&lt;/p>
&lt;p>&lt;img src="https://gardener.cloud/__resources/teaser-patched-1_a1e9aa.svg" alt="teaser-patched-1">&lt;/p>
&lt;p>Gardener gives you the possibility to scale your cluster down to &lt;strong>zero nodes&lt;/strong>.&lt;/p>
&lt;p>Learn more on &lt;a href="https://gardener.cloud/docs/gardener/shoot/shoot_hibernate/">Hibernate a Cluster&lt;/a>.&lt;/p></description></item><item><title>Anti Patterns</title><link>https://gardener.cloud/blog/2018/06.11-anti-patterns/</link><pubDate>Mon, 11 Jun 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/06.11-anti-patterns/</guid><description>&lt;p>&lt;img src="https://gardener.cloud/__resources/blog-antipattern_a45c50.png" alt="">&lt;/p>
&lt;h2 id="running-as-root-user">Running as Root User&lt;a class="td-heading-self-link" href="#running-as-root-user" aria-label="Heading self-link">&lt;/a>&lt;/h2>&lt;p>Whenever possible, do not run containers as root users. One could be tempted to say that in Kubernetes, the node and pods are well separated, however, the host and the container share the same kernel. If the container is compromised, a root user can damage the underlying node.&lt;/p>
&lt;p>Instead of running a root user, use &lt;code>RUN groupadd -r anygroup &amp;amp;&amp;amp; useradd -r -g anygroup myuser&lt;/code> to create a group and a user in it. Use the &lt;code>USER&lt;/code> command to switch to this user.&lt;/p></description></item><item><title>Auditing Kubernetes for Secure Setup</title><link>https://gardener.cloud/blog/2018/06.11-auditing-kubernetes-for-secure-setup/</link><pubDate>Mon, 11 Jun 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/06.11-auditing-kubernetes-for-secure-setup/</guid><description>&lt;p>In summer 2018, the &lt;a href="https://github.com/gardener/gardener">Gardener project team&lt;/a> asked &lt;a href="https://kinvolk.io/">Kinvolk&lt;/a> to execute several penetration tests in its role as a third-party contractor. The goal of this ongoing work is to increase the security of all Gardener stakeholders in the open source community. Following the Gardener architecture, the control plane of a Gardener managed shoot cluster resides in the corresponding seed cluster. This is a &lt;a href="https://kubernetes.io/blog/2018/05/17/gardener/#kubernetes-control-plane">Control-Plane-as-a-Service&lt;/a> with a &lt;a href="https://kubernetes.io/blog/2018/05/17/gardener/#network-air-gap">network air gap&lt;/a>.&lt;/p>
&lt;p>&lt;img src="https://gardener.cloud/__resources/teaser_593154.svg" alt="teaser">&lt;/p>
&lt;p>Along the way we found various kinds of security issues, for example, due to misconfiguration or missing isolation, as well as two special problems with upstream Kubernetes and its Control-Plane-as-a-Service architecture.&lt;/p></description></item><item><title>Big Things Come in Small Packages</title><link>https://gardener.cloud/blog/2018/06.11-big-things-come-in-small-packages/</link><pubDate>Mon, 11 Jun 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/06.11-big-things-come-in-small-packages/</guid><description>&lt;p>Microservices tend to use smaller runtimes but you can &lt;strong>use what you have&lt;/strong> today - and this can be a &lt;strong>problem in Kubernetes&lt;/strong>.&lt;/p>
&lt;p>Switching your architecture from a monolith to microservices has many advantages, both in the way you write software and the way it is used throughout its lifecycle. In this post, my attempt is to cover one problem which does not get as much attention and discussion - &lt;strong>size of the technology stack&lt;/strong>.&lt;/p></description></item><item><title>Hardening the Gardener Community Setup</title><link>https://gardener.cloud/blog/2018/06.11-hardening-the-gardener-community-setup/</link><pubDate>Mon, 11 Jun 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/06.11-hardening-the-gardener-community-setup/</guid><description>&lt;p>The &lt;a href="https://github.com/gardener/gardener">Gardener project team&lt;/a> has analyzed the impact of the Gardener &lt;a href="https://groups.google.com/forum/#!topic/gardener/Pom2Y70cDpw">CVE-2018-2475&lt;/a> and the &lt;a href="https://groups.google.com/forum/#!topic/kubernetes-announce/GVllWCg6L88">Kubernetes CVE-2018-1002105&lt;/a> on the Gardener Community Setup. Following some recommendations it is possible to mitigate both vulnerabilities.&lt;/p></description></item><item><title>Kubernetes is Available in Docker for Mac 17.12 CE</title><link>https://gardener.cloud/blog/2018/06.11-kubernetes-is-available-in-docker-for-mac-17-12-ce/</link><pubDate>Mon, 11 Jun 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/06.11-kubernetes-is-available-in-docker-for-mac-17-12-ce/</guid><description>&lt;table style="border:0">
&lt;tr>
 &lt;td> 
 &lt;img alt="Enabling Kubernetes in Docker image" src="https://gardener.cloud/__resources/blog-kubernetes-enable_09769e.png" title="Enabling Kubernetes in Docker image"/>
 &lt;/td>
 &lt;td valign="top">
 &lt;div>
 &lt;b>Kubernetes is only available in Docker for Mac 17.12 CE and higher&lt;/b> on the Edge channel. Kubernetes 
 support is not included in Docker for Mac Stable releases. To find out more about Stable and Edge channels 
 and how to switch between them, see 
 &lt;a href="https://docs.docker.com/docker-for-mac/#general">general configuration&lt;/a>.
 &lt;/div>
 &lt;/td>
&lt;/tr> 
&lt;/table>
Docker for Mac 17.12 CE (and higher) Edge includes a standalone Kubernetes server that runs on Mac, so that you can test deploying your Docker workloads on Kubernetes.
&lt;p>The Kubernetes client command, kubectl, is included and configured to connect to the local Kubernetes server. If you have kubectl already installed and pointing to some other environment, such as minikube or a GKE cluster, be sure to change the context so that kubectl is pointing to docker-for-desktop. Read more on &lt;a href="https://docs.docker.com/docker-for-mac/#kubernetes">Docker.com&lt;/a>.&lt;/p></description></item><item><title>Namespace Isolation</title><link>https://gardener.cloud/blog/2018/06.11-namespace-isolation/</link><pubDate>Mon, 11 Jun 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/06.11-namespace-isolation/</guid><description>&lt;p>&amp;hellip;or &lt;strong>DENY all traffic from other namespaces&lt;/strong>&lt;/p>
&lt;p>You can configure a &lt;strong>NetworkPolicy&lt;/strong> to deny all traffic from other namespaces while allowing all traffic coming from the same namespace the pod is deployed to. There are many reasons why you may choose to configure Kubernetes network policies:&lt;/p>
&lt;ul>
&lt;li>Isolate multi-tenant deployments&lt;/li>
&lt;li>Regulatory compliance&lt;/li>
&lt;li>Ensure containers assigned to different environments (e.g. dev/staging/prod) cannot interfere with each another&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://gardener.cloud/__resources/blog-namespaceisolation_78050f.png" alt="namespaceisolation">&lt;/p>
&lt;p>Learn more on &lt;a href="https://gardener.cloud/docs/guides/applications/network-isolation/">Namespace Isolation&lt;/a>.&lt;/p></description></item><item><title>Namespace Scope</title><link>https://gardener.cloud/blog/2018/06.11-namespace-scope/</link><pubDate>Mon, 11 Jun 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/06.11-namespace-scope/</guid><description>&lt;p>&lt;strong>Should I use:&lt;/strong>&lt;/p>
&lt;ul style="list-style:none">
 &lt;li>❌ one namespace per user/developer?&lt;/li>
 &lt;li>❌ one namespace per team?&lt;/li>
 &lt;li>❌ one per service type?&lt;/li>
 &lt;li>❌ one namespace per application type?&lt;/li>
 &lt;li>😄 &lt;b>one namespace per running instance of your application?&lt;/b>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Apply the &lt;a href="https://en.wikipedia.org/wiki/Principle_of_least_privilege">Principle of Least Privilege&lt;/a>&lt;/strong>&lt;/p>
&lt;p>All user accounts should run &lt;strong>as few privileges as possible&lt;/strong> at all times, and also launch applications with as few privileges as possible. If you share a cluster for a different user separated by a &lt;code>namespace&lt;/code>, &lt;strong>the user has access to all &lt;code>namespaces&lt;/code>&lt;/strong> and services per default. It can happen that a user &lt;strong>accidentally uses and destroys&lt;/strong> the &lt;code>namespace&lt;/code> of a productive application or the &lt;code>namespace&lt;/code> of another developer.&lt;/p></description></item><item><title>ReadWriteMany - Dynamically Provisioned Persistent Volumes Using Amazon EFS</title><link>https://gardener.cloud/blog/2018/06.11-readwritemany-dynamically-provisioned-persistent-volumes-using-amazon-efs/</link><pubDate>Mon, 11 Jun 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/06.11-readwritemany-dynamically-provisioned-persistent-volumes-using-amazon-efs/</guid><description>&lt;p>The efs-provisioner allows you to mount EFS storage as PersistentVolumes in Kubernetes. It consists of a container that has access to an AWS EFS resource. The container reads a configmap containing the EFS filesystem ID, the AWS region and the name identifying the efs-provisioner. This name will be used later when you create a storage class.&lt;/p>
&lt;p>&lt;img src="https://gardener.cloud/__resources/blog-aws-efs_1785a2.png" alt="">&lt;/p>
&lt;h2 id="why-efs">Why EFS&lt;a class="td-heading-self-link" href="#why-efs" aria-label="Heading self-link">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>When you have an application running on multiple nodes which require shared access to a file system.&lt;/li>
&lt;li>When you have an application that requires multiple virtual machines to access the same file system at the same time, AWS EFS is a tool that you can use.&lt;/li>
&lt;li>EFS supports encryption.&lt;/li>
&lt;li>EFS is SSD based storage and its storage capacity and pricing will scale in or out as needed, so there is no need for the system administrator to do additional operations. It can grow to a petabyte scale.&lt;/li>
&lt;li>EFS now supports NFSv4 lock upgrading and downgrading, so yes, you can use sqlite with EFS… even if it was possible before.&lt;/li>
&lt;li>EFS is easy to setup.&lt;/li>
&lt;/ol>
&lt;h2 id="why-not-efs">Why Not EFS&lt;a class="td-heading-self-link" href="#why-not-efs" aria-label="Heading self-link">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>Sometimes when you think about using a service like EFS, you may also think about &lt;strong>vendor lock-in&lt;/strong> and its negative sides.&lt;/li>
&lt;li>Making an EFS backup may decrease your production FS performance; the throughput used by backups counts towards your total file system throughput.&lt;/li>
&lt;li>EFS is expensive when compared to EBS (roughly twice the price of EBS storage).&lt;/li>
&lt;li>EFS is not the magical solution for all your distributed FS problems, it can be slow in many cases. Test, benchmark, and measure to ensure that EFS is a good solution for your use case.&lt;/li>
&lt;li>EFS distributed architecture results in a latency overhead for each file read/write operation.&lt;/li>
&lt;li>If you have the possibility to use a CDN, don’t use EFS, use it for the files which can&amp;rsquo;t be stored in a CDN.&lt;/li>
&lt;li>Don’t use EFS as a caching system, sometimes you could be doing this unintentionally.&lt;/li>
&lt;li>Last but not least, even if EFS is a fully managed NFS, you will face performance problems in many cases, resolving them takes time and needs effort.&lt;/li>
&lt;/ol></description></item><item><title>Shared Storage with S3 Backend</title><link>https://gardener.cloud/blog/2018/06.11-shared-storage-with-s3-backend/</link><pubDate>Mon, 11 Jun 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/06.11-shared-storage-with-s3-backend/</guid><description>&lt;p>The storage is definitely the most complex and important part of an application setup. Once this part is completed, one of the most problematic parts could be solved.&lt;/p>
&lt;p>Mounting an S3 bucket into a pod using &lt;a href="https://github.com/libfuse/libfuse">FUSE&lt;/a> allows you to access data stored in S3 via the filesystem. The mount is a pointer to an S3 location, so the data is never synced locally. Once mounted, any pod can read or even write from that directory without the need for explicit keys.&lt;/p></description></item><item><title>Watching Logs of Several Pods</title><link>https://gardener.cloud/blog/2018/06.11-watching-logs-of-several-pods/</link><pubDate>Mon, 11 Jun 2018 00:00:00 +0000</pubDate><guid>https://gardener.cloud/blog/2018/06.11-watching-logs-of-several-pods/</guid><description>&lt;p>One thing that always bothered me was that I couldn&amp;rsquo;t get the logs of several pods at once with &lt;code>kubectl&lt;/code>. A simple &lt;code>tail -f &amp;lt;path-to-logfile&amp;gt;&lt;/code> isn&amp;rsquo;t possible. Certainly, you can use &lt;code>kubectl logs -f &amp;lt;pod-id&amp;gt;&lt;/code>, but it doesn&amp;rsquo;t help if you want to monitor more than one pod at a time.&lt;/p>
&lt;p>This is something you really need a lot, at least if you run several instances of a pod behind a &lt;code>deployment&lt;/code>and you don&amp;rsquo;t have a log viewer service like Kibana set up.&lt;/p></description></item></channel></rss>