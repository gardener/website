<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=icon type=image/x-icon href=https://gardener.cloud/images/favicon.ico><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-16x16.png sizes=16x16><title>Landscape Setup | Gardener</title><meta name=description content="Project Gardener Website - A Managed Kubernetes Service Done Right"><meta property="og:title" content="Landscape Setup"><meta property="og:description" content="Install Gardener on your Kubernetes Landscape Gardener uses Kubernetes to manage Kubernetes clusters. This documentation describes how to install Gardener on an existing Kubernetes cluster of your IaaS provider.
 Where reference is made in this document to the base cluster, we are actually referring to the existing cluster where you will install Gardener. This helps to distinguish them from the clusters that you will create after the installation using Gardener."><meta property="og:type" content="article"><meta property="og:url" content="https://gardener.cloud/docs/guides/landscape-setup/"><meta property="article:section" content="docs"><meta itemprop=name content="Landscape Setup"><meta itemprop=description content="Install Gardener on your Kubernetes Landscape Gardener uses Kubernetes to manage Kubernetes clusters. This documentation describes how to install Gardener on an existing Kubernetes cluster of your IaaS provider.
 Where reference is made in this document to the base cluster, we are actually referring to the existing cluster where you will install Gardener. This helps to distinguish them from the clusters that you will create after the installation using Gardener."><meta itemprop=wordCount content="3901"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Landscape Setup"><meta name=twitter:description content="Install Gardener on your Kubernetes Landscape Gardener uses Kubernetes to manage Kubernetes clusters. This documentation describes how to install Gardener on an existing Kubernetes cluster of your IaaS provider.
 Where reference is made in this document to the base cluster, we are actually referring to the existing cluster where you will install Gardener. This helps to distinguish them from the clusters that you will create after the installation using Gardener."><link rel=preload href=/scss/main.min.122f9effc36493edf1f25030c2ce7965b16b3b0eaeb02528b9a50e0fa9110c15.css as=style><link href=/scss/main.min.122f9effc36493edf1f25030c2ce7965b16b3b0eaeb02528b9a50e0fa9110c15.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg width="90" height="90" viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>logo</title><desc>Created with Sketch.</desc><defs><path d="M41.8864954.994901575c.996545099999999-.479910833 2.6164002-.477918931 3.6088091.0L76.8159138 16.0781121C77.8124589 16.5580229 78.8208647 17.8257185 79.0659694 18.8995926l7.7355517 33.8916663C87.0476474 53.8696088 86.6852538 55.4484075 85.9984855 56.3095876L64.3239514 83.4885938C63.6343208 84.3533632 62.1740175 85.0543973 61.0725268 85.0543973H26.3092731c-1.1060816.0-2.5646564-.704623400000003-3.2514246-1.5658035L1.38331434 56.3095876C.693683723 55.4448182.335174016 53.865133.580278769 52.7912589L8.31583044 18.8995926C8.56195675 17.8212428 9.57347722 16.556031 10.5658861 16.0781121L41.8864954.994901575z" id="path-1"/><linearGradient x1="12.7542673%" y1="-18.6617048%" x2="88.2666158%" y2="84.6075483%" id="linearGradient-3"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="50%" y1="4.93673768%" x2="148.756007%" y2="175.514523%" id="linearGradient-4"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="19.1574381%" y1="-9.04800713%" x2="82.2203149%" y2="77.9084293%" id="linearGradient-5"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="57.4403751%" y1="26.3148481%" x2="137.966711%" y2="158.080556%" id="linearGradient-6"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="logo"><g id="Rectangle-2" transform="translate(1.000000, 0.000000)"><mask id="mask-2" fill="#fff"><use xlink:href="#path-1"/></mask><use id="Mask" fill="#009f76" xlink:href="#path-1"/><polygon fill="#000" opacity=".289628623" mask="url(#mask-2)" points="-17.6484375 54.5224609 30.8242188 25.0791016 63.4726562 58.5 24.7324219 92.6689453"/></g><path d="M56.8508631 39.260019C56.4193519 40.443987 55.6088085 41.581593 54.6736295 42.1938694l-8.0738997 5.2861089c-1.3854671.907087099999998-3.6247515.9116711-5.0172201.0L33.50861 42.1938694C32.123143 41.2867823 31 39.206345 31 37.545932V26.4150304c0-.725313.2131118-1.5301454.569268099999999-2.2825772L56.8508631 39.260019z" id="Combined-Shape" fill="url(#linearGradient-3)" transform="translate(43.925432, 36.147233) scale(-1, 1) translate(-43.925432, -36.147233)"/><path d="M56.0774672 25.1412464C56.4306829 25.8903325 56.6425556 26.6907345 56.6425556 27.4119019V38.5428034c0 1.6598979-1.1161415 3.73626640000001-2.50861 4.6479374l-8.0738997 5.286109c-1.3854671.907087000000004-3.6247516.911671000000005-5.0172201.0L32.9689261 43.1907408C32.2918101 42.7474223 31.6773514 42.0238435 31.2260376 41.206007L56.0774672 25.1412464z" id="Combined-Shape" fill="url(#linearGradient-4)" transform="translate(43.821278, 37.246598) scale(-1, 1) translate(-43.821278, -37.246598)"/><path d="M65.0702134 57.1846889C64.5985426 58.2007851 63.8367404 59.1236871 62.9788591 59.6189851L47.37497 68.6278947c-1.4306165.825966800000003-3.75236779999999.8246599-5.1807206.0L26.5903603 59.6189851C25.1597438 58.7930183 24 56.7816693 24 55.1323495V37.1145303C24 36.3487436 24.249712 35.5060005 24.6599102 34.7400631L65.0702134 57.1846889z" id="Combined-Shape" fill="url(#linearGradient-5)"/><path d="M65.0189476 34.954538C65.3636909 35.6617313 65.5692194 36.42021 65.5692194 37.1145303V55.1323495C65.5692194 56.7842831 64.4072119 58.7943252 62.9788591 59.6189851L47.37497 68.6278947c-1.4306165.825966800000003-3.75236779999999.8246599-5.1807206.0L26.5903603 59.6189851C25.9237304 59.2341061 25.3159155 58.5918431 24.8568495 57.8487596L65.0189476 34.954538z" id="Combined-Shape" fill="url(#linearGradient-6)"/></g></g></svg></span><span class=text-capitalize>Gardener</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/adopter><span>Adopters</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog><span>Blogs</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs><span>Documentation</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.5f371c401f791963897ccb3b47681da9.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.5f371c401f791963897ccb3b47681da9.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Docs</span></a><ul class="pr-md-3 ul-1"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconcepts-li><a href=/docs/concepts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconcepts><span>Concepts</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptsarchitecture-li><a href=/docs/concepts/architecture/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsarchitecture><span>Architecture</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentsdashboard-li><a href=/components/dashboard/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentsdashboard><span>Dashboard</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentsgardenctl-li><a href=/components/gardenctl/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentsgardenctl><span>gardenctl</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentsgardener-li><a href=/components/gardener/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentsgardener><span>Gardener</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentskubify-li><a href=/components/kubify/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentskubify><span>kubify</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptscore-components-li><a href=/docs/concepts/core-components/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptscore-components><span>Core Components</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-docsconceptscore-componentsapi-server-li><a href=/docs/concepts/core-components/api-server/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptscore-componentsapi-server><span>Gardener API Server</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsapi-serverapiserver_admission_plugins-li><a href=/docs/concepts/core-components/api-server/apiserver_admission_plugins/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsapi-serverapiserver_admission_plugins><span>In-Tree Admission Plugins</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsscheduler-li><a href=/docs/concepts/core-components/scheduler/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsscheduler><span>Gardener Scheduler</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsseed-admission-controller-li><a href=/docs/concepts/core-components/seed-admission-controller/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsseed-admission-controller><span>Gardener Seed Admission Controller</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsgardenlet-li><a href=/docs/concepts/core-components/gardenlet/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsgardenlet><span>gardenlet</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsbackup-restorebackup-restore-li><a href=/docs/concepts/backup-restore/backup-restore/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsbackup-restorebackup-restore><span>Backup and Restore</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptsextensions-li><a href=/docs/concepts/extensions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsextensions><span>Extensions</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsbackupbucket-li><a href=/docs/concepts/extensions/backupbucket/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsbackupbucket><span>BackupBucket resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsbackupentry-li><a href=/docs/concepts/extensions/backupentry/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsbackupentry><span>BackupEntry resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscluster-li><a href=/docs/concepts/extensions/cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscluster><span>Cluster resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsshoot-health-status-conditions-li><a href=/docs/concepts/extensions/shoot-health-status-conditions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsshoot-health-status-conditions><span>Contributing to shoot health status conditions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscontrolplane-webhooks-li><a href=/docs/concepts/extensions/controlplane-webhooks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrolplane-webhooks><span>Controlplane customization webhooks</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscontrolplane-li><a href=/docs/concepts/extensions/controlplane/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrolplane><span>ControlPlane resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscontrolplane-exposure-li><a href=/docs/concepts/extensions/controlplane-exposure/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrolplane-exposure><span>ControlPlane resource with purpose exposure</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsdns-li><a href=/docs/concepts/extensions/dns/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsdns><span>DNSProvider and DNSEntry resources</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsproject-roles-li><a href=/docs/concepts/extensions/project-roles/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsproject-roles><span>Extending project roles</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsoverview-li><a href=/docs/concepts/extensions/overview/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsoverview><span>Extensibility overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsextension-li><a href=/docs/concepts/extensions/extension/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsextension><span>Extension resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscontainerruntime-li><a href=/docs/concepts/extensions/containerruntime/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontainerruntime><span>Gardener Container Runtime Extension</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsnetwork-li><a href=/docs/concepts/extensions/network/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsnetwork><span>Gardener Network Extension</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsconventions-li><a href=/docs/concepts/extensions/conventions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsconventions><span>General conventions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionshealthcheck-library-li><a href=/docs/concepts/extensions/healthcheck-library/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionshealthcheck-library><span>Health Check Library</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsinfrastructure-li><a href=/docs/concepts/extensions/infrastructure/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsinfrastructure><span>Infrastructure resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionslogging-and-monitoring-li><a href=/docs/concepts/extensions/logging-and-monitoring/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionslogging-and-monitoring><span>Logging and Monitoring for Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsoperatingsystemconfig-li><a href=/docs/concepts/extensions/operatingsystemconfig/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsoperatingsystemconfig><span>OperatingSystemConfig resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsreferenced-resources-li><a href=/docs/concepts/extensions/referenced-resources/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsreferenced-resources><span>Referenced Resources</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionscontrollerregistration-li><a href=/docs/concepts/extensions/controllerregistration/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrollerregistration><span>Registering Extension Controllers</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsshoot-maintenance-li><a href=/docs/concepts/extensions/shoot-maintenance/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsshoot-maintenance><span>Shoot maintenance</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsshoot-webhooks-li><a href=/docs/concepts/extensions/shoot-webhooks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsshoot-webhooks><span>Shoot resource customization webhooks</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsextensionsworker-li><a href=/docs/concepts/extensions/worker/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsworker><span>Worker resource</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptsnetworking-li><a href=/docs/concepts/networking/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsnetworking><span>Networking</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsnetworkingdns-managment-li><a href=/docs/concepts/networking/dns-managment/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsnetworkingdns-managment><span>DNS Management</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsnetworkingcert-managment-li><a href=/docs/concepts/networking/cert-managment/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsnetworkingcert-managment><span>Certificates Management</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsnetworkingnetwork_policies-li><a href=/docs/concepts/networking/network_policies/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsnetworkingnetwork_policies><span>Network Policies</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptsmonitoring-li><a href=/docs/concepts/monitoring/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsmonitoring><span>Monitoring</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringalerting-li><a href=/docs/concepts/monitoring/alerting/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringalerting><span>Alerting</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringextending-li><a href=/docs/concepts/monitoring/extending/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringextending><span>Extending the Monitoring Stack</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringoperator_alerts-li><a href=/docs/concepts/monitoring/operator_alerts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringoperator_alerts><span>Operator Alerts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringuser_alerts-li><a href=/docs/concepts/monitoring/user_alerts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringuser_alerts><span>User Alerts</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentdeploy_gardenlet_automatically-li><a href=/docs/concepts/deployment/deploy_gardenlet_automatically/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentdeploy_gardenlet_automatically><span>Automatic Deployment of Gardenlets</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentdeploy_gardenlet_manually-li><a href=/docs/concepts/deployment/deploy_gardenlet_manually/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentdeploy_gardenlet_manually><span>Deploy a Gardenlet Manually</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentdeploy_gardenlet-li><a href=/docs/concepts/deployment/deploy_gardenlet/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentdeploy_gardenlet><span>Deploying Gardenlets</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentsetup_gardener-li><a href=/docs/concepts/deployment/setup_gardener/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentsetup_gardener><span>Deploying the Gardener into a Kubernetes cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentfeature_gates-li><a href=/docs/concepts/deployment/feature_gates/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentfeature_gates><span>Feature Gates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentimage_vector-li><a href=/docs/concepts/deployment/image_vector/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentimage_vector><span>Image Vector</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsmcm-li><a href=/docs/concepts/mcm/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmcm><span>Machine Controller Manager</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsguides-li><a href=/docs/guides/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguides><span>How-To Guides</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesclient_tools-li><a href=/docs/guides/client_tools/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_tools><span>Set Up Client Tools</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolskubectl-apiserver-li><a href=/docs/guides/client_tools/kubectl-apiserver/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolskubectl-apiserver><span>Automated deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolsbash_kubeconfig-li><a href=/docs/guides/client_tools/bash_kubeconfig/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolsbash_kubeconfig><span>Kubeconfig context as bash prompt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolsworking-with-kubeconfig-li><a href=/docs/guides/client_tools/working-with-kubeconfig/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolsworking-with-kubeconfig><span>Organizing Access Using kubeconfig Files</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolshelm-li><a href=/docs/guides/client_tools/helm/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolshelm><span>Use a Helm chart to deploy some application or service</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesinstall_gardener-li><a href=/docs/guides/install_gardener/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardener><span>Install Gardener</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenercertificate_management-li><a href=/docs/guides/install_gardener/certificate_management/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesinstall_gardenercertificate_management><span>Gardener Certificate Management</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenerdns_management-li><a href=/docs/guides/install_gardener/dns_management/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesinstall_gardenerdns_management><span>Gardener DNS Management for Shoots</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenersecure-setup-li><a href=/docs/guides/install_gardener/secure-setup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardenersecure-setup><span>Hardening the Gardener Community Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardeneradd-node-to-cluster-li><a href=/docs/guides/install_gardener/add-node-to-cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardeneradd-node-to-cluster><span>Manually adding a node to an existing cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenersetup-seed-li><a href=/docs/guides/install_gardener/setup-seed/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardenersetup-seed><span>Setting up a Seed Cluster</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesadminister_shoots-li><a href=/docs/guides/administer_shoots/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shoots><span>Administer Client (Shoot) Clusters</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootshibernate-cluster-li><a href=/docs/guides/administer_shoots/hibernate-cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootshibernate-cluster><span>Hibernate a Cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootscreate-delete-shoot-li><a href=/docs/guides/administer_shoots/create-delete-shoot/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootscreate-delete-shoot><span>Create / Delete a Shoot cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener_aws-li><a href=/docs/guides/administer_shoots/gardener_aws/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsgardener_aws><span>Create a kubernetes cluster in AWS with Gardener</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener_gcp-li><a href=/docs/guides/administer_shoots/gardener_gcp/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsgardener_gcp><span>Create a kubernetes cluster on GCP with Gardener</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootscreate-shoot-into-existing-aws-vpc-li><a href=/docs/guides/administer_shoots/create-shoot-into-existing-aws-vpc/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootscreate-shoot-into-existing-aws-vpc><span>Create a Shoot cluster into existing AWS VPC</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener-alibaba-li><a href=/docs/guides/administer_shoots/gardener-alibaba/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsgardener-alibaba><span>Create Shoot Clusters in Alibaba Cloud</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener_azure-li><a href=/docs/guides/administer_shoots/gardener_azure/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsgardener_azure><span>Create shoot clusters in Azure</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsdns_providers-li><a href=/docs/guides/administer_shoots/dns_providers/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootsdns_providers><span>Manage DNS Providers</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsdns_names-li><a href=/docs/guides/administer_shoots/dns_names/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootsdns_names><span>Request DNS Names</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsrequest_cert-li><a href=/docs/guides/administer_shoots/request_cert/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootsrequest_cert><span>Request X.509 Certificates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsmaintain-shoot-li><a href=/docs/guides/administer_shoots/maintain-shoot/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsmaintain-shoot><span>Shoot Cluster Maintenance</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootstrigger-shoot-operations-li><a href=/docs/guides/administer_shoots/trigger-shoot-operations/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootstrigger-shoot-operations><span>Trigger Shoot operations</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesmonitoring_and_troubleshooting-li><a href=/docs/guides/monitoring_and_troubleshooting/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshooting><span>Monitor and Troubleshoot</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesmonitoring_and_troubleshootingshell-to-node-li><a href=/docs/guides/monitoring_and_troubleshooting/shell-to-node/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshootingshell-to-node><span>Get a Shell to a Gardener Shoot Worker Node</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesmonitoring_and_troubleshootingdebug-a-pod-li><a href=/docs/guides/monitoring_and_troubleshooting/debug-a-pod/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshootingdebug-a-pod><span>How to debug a pod</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesmonitoring_and_troubleshootingtail-logfile-li><a href=/docs/guides/monitoring_and_troubleshooting/tail-logfile/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshootingtail-logfile><span>tail -f /var/log/my-application.log</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesapplications-li><a href=/docs/guides/applications/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplications><span>Applications</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsaccess_pod_from_local-li><a href=/docs/guides/applications/access_pod_from_local/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsaccess_pod_from_local><span>Access a port of a pod locally</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsservice-access-li><a href=/docs/guides/applications/service-access/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsservice-access><span>Access service from outside Kubernetes cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsinsecure-configuration-li><a href=/docs/guides/applications/insecure-configuration/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsinsecure-configuration><span>Auditing Kubernetes for Secure Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsmissing-registry-permission-li><a href=/docs/guides/applications/missing-registry-permission/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsmissing-registry-permission><span>Container image not pulled</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsimage-pull-policy-li><a href=/docs/guides/applications/image-pull-policy/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsimage-pull-policy><span>Container image not updating</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationssecure-seccomp-li><a href=/docs/guides/applications/secure-seccomp/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationssecure-seccomp><span>Custom Seccomp profile</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsdockerfile_pitfall-li><a href=/docs/guides/applications/dockerfile_pitfall/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsdockerfile_pitfall><span>Dockerfile pitfalls</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationshttps-li><a href=/docs/guides/applications/https/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesapplicationshttps><span>HTTPS with self Signed Certificate</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationscontent_trust-li><a href=/docs/guides/applications/content_trust/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationscontent_trust><span>Integrity and Immutability</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsantipattern-li><a href=/docs/guides/applications/antipattern/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsantipattern><span>Kubernetes Antipatterns</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsnetwork-isolation-li><a href=/docs/guides/applications/network-isolation/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsnetwork-isolation><span>Namespace Isolation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationscontainer-startup-li><a href=/docs/guides/applications/container-startup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationscontainer-startup><span>Orchestration of container startup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsservice-cache-control-li><a href=/docs/guides/applications/service-cache-control/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsservice-cache-control><span>Out-Dated HTML and JS files delivered</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationscommit_secret_fail-li><a href=/docs/guides/applications/commit_secret_fail/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationscommit_secret_fail><span>Storing secrets in git 💀</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsprometheus-li><a href=/docs/guides/applications/prometheus/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsprometheus><span>Using Prometheus and Grafana to monitor K8s</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docsguideslandscape-setup-li><a href=/docs/guides/landscape-setup/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__page" id=m-docsguideslandscape-setup><span class=td-sidebar-nav-active-item>Landscape Setup</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docstutorials-li><a href=/docs/tutorials/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorials><span>Tutorials</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsoidc-login-li><a href=/docs/tutorials/oidc-login/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsoidc-login><span>Authenticating with an Identity Provider</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsdynamic-pvc-li><a href=/docs/tutorials/dynamic-pvc/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsdynamic-pvc><span>Dynamic Volume Provisioning</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsshoot_istio_dns_certs-li><a href=/docs/tutorials/shoot_istio_dns_certs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsshoot_istio_dns_certs><span>Gardener yourself a Shoot with Istio, custom Domains, and Certificates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsgpu-li><a href=/docs/tutorials/gpu/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsgpu><span>GPU Enabled Cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsknative-install-li><a href=/docs/tutorials/knative-install/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsknative-install><span>Install Knative in Gardener clusters</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialss3-li><a href=/docs/tutorials/s3/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docstutorialss3><span>Shared storage with S3 backend</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreferences-li><a href=/docs/references/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferences><span>API Reference</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreferencescore-li><a href=/docs/references/core/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferencescore><span>Core</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreferencesextensions-li><a href=/docs/references/extensions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferencesextensions><span>Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreferencessettings-li><a href=/docs/references/settings/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferencessettings><span>Settings</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscontribute-li><a href=/docs/contribute/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute><span>Contribute</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-contributecode-li><a href=/contribute/code/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-contributecode><span>Code</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code14_cicd-li><a href=/docs/contribute/10_code/14_cicd/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code14_cicd><span>CI/CD</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code15_conf_secrets-li><a href=/docs/contribute/10_code/15_conf_secrets/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code15_conf_secrets><span>Configuration and Usage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code10-contribution_guide-li><a href=/docs/contribute/10_code/10-contribution_guide/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code10-contribution_guide><span>Contribution Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code20_dependencies-li><a href=/docs/contribute/10_code/20_dependencies/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code20_dependencies><span>Dependencies</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code27_deploy_into_cluster-li><a href=/docs/contribute/10_code/27_deploy_into_cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code27_deploy_into_cluster><span>Deploy into a Cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code30_deploy_seed_into_aks-li><a href=/docs/contribute/10_code/30_deploy_seed_into_aks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code30_deploy_seed_into_aks><span>Deploy into AKS</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code13_env-li><a href=/docs/contribute/10_code/13_env/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code13_env><span>Environment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code37_process-li><a href=/docs/contribute/10_code/37_process/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code37_process><span>Process</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code40_repositories-li><a href=/docs/contribute/10_code/40_repositories/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code40_repositories><span>Repositories</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code12-security_guide-li><a href=/docs/contribute/10_code/12-security_guide/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code12-security_guide><span>Security Release Process</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-contributedocs-li><a href=/contribute/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-contributedocs><span>Documentation</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute20_documentation25_markup-li><a href=/docs/contribute/20_documentation/25_markup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute20_documentation25_markup><span>Markdown</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute20_documentation10_organisation-li><a href=/docs/contribute/20_documentation/10_organisation/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute20_documentation10_organisation><span>Organization</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute20_documentation30_shortcodes-li><a href=/docs/contribute/20_documentation/30_shortcodes/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute20_documentation30_shortcodes><span>Shortcodes</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute20_documentation20_style-li><a href=/docs/contribute/20_documentation/20_style/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute20_documentation20_style><span>Style Guide</span></a></li></ul></li></ul></li></ul></li></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><div class=git-wr><div class=page-contributors>Contributors to this page<div class=contributors-list><a href=mailto:martin.weindel@sap.com><img class=user-icon src="https://avatars.githubusercontent.com/u/3703277?v=4" title="Martin Weindel"><a href=mailto:johannes.aubart@sap.com><img class=user-icon src="https://avatars.githubusercontent.com/u/28540014?v=4" title="Johannes Aubart"><a href=mailto:berendt@23technologies.cloud><img class=user-icon src="https://avatars.githubusercontent.com/u/419091?v=4" title="Christian Berendt"><a href=mailto:bertram.hass@mercedes-benz.io><img class=user-icon src="https://avatars.githubusercontent.com/u/45389730?v=4" title="Bertram Hass"><a href=mailto:tobias.hinz@gmail.com><img class=user-icon src="https://avatars.githubusercontent.com/u/11093419?v=4" title="Herrmann Hinz"><a href=mailto:sayak@beezlabs.com><img class=user-icon src="https://avatars.githubusercontent.com/u/13748882?v=4" title="Sayak Mukhopadhyay"><a href=mailto:mukhopadhyaysayak@gmail.com><img class=user-icon src="https://avatars.githubusercontent.com/u/13748882?v=4" title="Sayak Mukhopadhyay"><a href=mailto:dakechi@suse.com><img class=user-icon src="https://avatars.githubusercontent.com/u/8420718?v=4" title="Diego Akechi"><a href=mailto:johannes.aubart@yahoo.de><img class=user-icon src="https://avatars.githubusercontent.com/u/28540014?v=4" title="Johannes Aubart"></div></div></div><a href=https://github.com/gardener/garden-setup/edit/master/README.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/gardener/garden-setup/issues/new?title=Landscape%20Setup" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/gardener/website-generator/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=https://gardener.cloud/docs/guides/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><p>Page Content</p><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#procedure>Procedure</a></li><li><a href=#concept-the-virtual-cluster>Concept: The &lsquo;Virtual&rsquo; Cluster</a><ul><li><a href=#reasoning>Reasoning</a></li><li><a href=#disadvantage-two-kubeconfigs>Disadvantage: Two kubeconfigs</a></li><li><a href=#tldr>TL;DR</a></li></ul></li><li><a href=#configuration-file-acreyaml>Configuration File acre.yaml</a><ul><li><a href=#landscapename>landscape.name</a></li><li><a href=#landscapedomain>landscape.domain</a></li><li><a href=#landscapecluster>landscape.cluster</a></li><li><a href=#landscapeiaas>landscape.iaas</a></li><li><a href=#landscapeetcd>landscape.etcd</a></li><li><a href=#landscapedns>landscape.dns</a></li><li><a href=#landscapeidentity>landscape.identity</a></li><li><a href=#landscapeingress>landscape.ingress</a></li><li><a href=#landscapecert-manager>landscape.cert-manager</a></li></ul></li><li><a href=#uninstall-gardener>Uninstall Gardener</a></li><li><a href=#most-important-commands-and-directories>Most Important Commands and Directories</a><ul><li><a href=#commands>Commands</a></li><li><a href=#directories>Directories</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://gardener.cloud/docs/>Docs</a></li><li class=breadcrumb-item><a href=https://gardener.cloud/docs/guides/>How-To Guides</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://gardener.cloud/docs/guides/landscape-setup/>Landscape Setup</a></li></ol></nav><div class=td-content><p class=reading-time><i class="fa fa-clock" aria-hidden=true></i> 19 minute read</p><h1 id=install-gardener-on-your-kubernetes-landscape>Install Gardener on your Kubernetes Landscape</h1><p>Gardener uses Kubernetes to manage Kubernetes clusters. This documentation describes how to install Gardener on an existing Kubernetes cluster of your IaaS provider.</p><blockquote><p>Where reference is made in this document to the <em>base cluster</em>, we are actually referring to the existing cluster where you will install Gardener. This helps to distinguish them from the clusters that you will create after the installation using Gardener. Once it&rsquo;s installed, it is also referred to as <em>garden cluster</em>. Whenever you create clusters, Gardener will create <em>seed clusters</em> and <em>shoot clusters</em>. In this documentation we will only cover the installation of clusters in one region of one IaaS provider. More information: <a href=https://gardener.cloud/documentation/030-architecture/>Architecture</a>.</p></blockquote><h2 id=prerequisites>Prerequisites</h2><ul><li>The installation was tested on Linux and MacOS</li><li>You need to have the following tools installed:<ul><li><a href=https://docs.docker.com/install/>Docker</a></li><li><a href=https://git-scm.com/downloads>git</a></li><li><a href=https://kubernetes.io/docs/tasks/tools/install-kubectl/>kubectl</a></li></ul></li><li>You need a <em>base cluster</em>. Currently, the installation tools supports to install Gardener on the following Kubernetes clusters:<ul><li>Kubernetes version >= 1.11 or enable the feature gate <code>CustomResourceSubresources</code> for 1.10 clusters</li><li><a href=https://cloud.google.com/kubernetes-engine/docs/how-to/creating-a-cluster>Google Kubernetes Engine (GKE)</a> on Google Cloud Platform (GCP)</li><li><a href=https://docs.aws.amazon.com/eks/>Elastic Container Service for Kubernetes (EKS)</a> or <a href=https://github.com/kubernetes/kops>Kubernetes Operations (kops)</a> on Amazon Web Services (AWS)<ul><li>Standard EKS clusters impose some additional difficulties for deploying a Gardener, one example being the EKS networking plugin that uses the same CIDR for nodes and pods, which Gardener can&rsquo;t handle. We are working on an improved documentation for this case. In the meantime, it is recommended to use other means for getting the initial cluster to avoid additional efforts.</li></ul></li><li><a href=https://docs.microsoft.com/en-us/azure/aks/>Azure Kubernetes Service (AKS)</a> on Microsoft Azure</li></ul></li><li>Your base cluster needs at least 4 nodes with a size of 8GB for each node<ul><li>This is only a rough estimate for the required resources, you can also use fewer or more nodes if the node size is adjusted accordingly</li><li>If you don&rsquo;t create additional seeds, all shoots' controlplanes will be hosted on your base cluster and these minimal requirements won&rsquo;t hold</li></ul></li><li>You need a service account for the virtual machine instance of your IaaS provider where your Kubernetes version runs</li><li>You need to have permissions to access your base cluster&rsquo;s private key</li><li>You are connected to your Kubernetes cluster (environment variable <code>KUBECONFIG</code> is set)<ul><li><a href=https://cloud.google.com/kubernetes-engine/docs/how-to/cluster-access-for-kubectl#viewing_kubeconfig>Viewing kubeconfig (GKE)</a></li><li><a href=https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html>Create a kubeconfig for Amazon EKS</a></li><li><a href=https://docs.microsoft.com/en-us/azure/aks/control-kubeconfig-access>Use Azure role-based access controls to define access to the Kubernetes configuration file in Azure Kubernetes Service (AKS)</a></li></ul></li><li>You need to have the <a href=https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler>Vertical Pod Autoscaler (VPA)</a> installed on the base cluster and each seed cluster (Gardener deploys it on <a href=https://github.com/gardener/garden-setup/blob/master/docs/extended/iaas.md#shooted-seeds>shooted seeds</a> automatically).</li></ul><h2 id=procedure>Procedure</h2><p>To install Gardener in your base cluster, a command line tool <a href=https://github.com/gardener/sow>sow</a> is used. It depends on other tools to be installed. To make it simple, we have created a Docker image that already contains <code>sow</code> and all required tools. To execute <code>sow</code> you call a <a href=https://github.com/gardener/sow/tree/master/docker/bin>wrapper script</a> which starts <code>sow</code> in a Docker container (Docker will download the image from <a href=http://eu.gcr.io/gardener-project/sow>eu.gcr.io/gardener-project/sow</a> if it is not available locally yet). Docker executes the sow command with the given arguments, and mounts parts of your file system into that container so that <code>sow</code> can read configuration files for the installation of Gardener components, and can persist the state of your installation. After <code>sow</code>&rsquo;s execution Docker removes the container again.</p><p>Which version of <code>sow</code> is compatible with this version of garden-setup is specified in the <a href=https://github.com/gardener/garden-setup/blob/master/SOW_VERSION>SOW_VERSION</a> file. Other versions might work too, but especially older versions of <code>sow</code> are probably incompatible with newer versions of garden-setup.</p><ol><li><p>Clone the <code>sow</code> repository and add the path to our <a href=https://github.com/gardener/sow/tree/master/docker/bin>wrapper script</a> to your <code>PATH</code> variable so you can call <code>sow</code> on the command line.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=c1># setup for calling sow via the wrapper</span>
git clone <span class=s2>&#34;https://github.com/gardener/sow&#34;</span>
<span class=nb>cd</span> sow
<span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=nv>$PATH</span>:<span class=nv>$PWD</span>/docker/bin
</code></pre></div></li><li><p>Create a directory <code>landscape</code> for your Gardener landscape and clone this repository into a subdirectory called <code>crop</code>:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=nb>cd</span> ..
mkdir landscape
<span class=nb>cd</span> landscape
git clone <span class=s2>&#34;https://github.com/gardener/garden-setup&#34;</span> crop
</code></pre></div></li><li><p>If you don&rsquo;t have your <code>kubekonfig</code> stored locally somewhere yet, download it. For example, for GKE you would use the following command:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>gcloud container clusters get-credentials &lt;your_cluster&gt; --zone &lt;your_zone&gt; --project &lt;your_project&gt;
</code></pre></div></li><li><p>Save your <code>kubeconfig</code> somewhere in your <code>landscape</code> directory. For the remaining steps we will assume that you saved it using file path <code>landscape/kubeconfig</code>.</p></li><li><p>In your <code>landscape</code> directory, create a configuration file called <code>acre.yaml</code>. The structure of the configuration file is described <a href=#configuration-file-acreyaml>below</a>. Note that the relative file path <code>./kubeconfig</code> file must be specified in field <code>landscape.cluster.kubeconfig</code> in the configuration file.</p><blockquote><p>Do not use file <code>acre.yaml</code> in directory <code>crop</code>. This file is used internally by the installation tool.</p></blockquote></li><li><p>The Gardener itself, but also garden-setup can only handle kubeconfigs with standard authentication methods (basic auth, token, &mldr;). Authentication methods that require a third party tool, e.g. the <code>aws</code> or <code>gcloud</code> CLI, are not supported.</p><ul><li><p>If you created the base cluster using GKE, you can convert your <code>kubeconfig</code> file to one that uses basic authentication by using the <code>sow convertkubeconfig</code> command:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>sow convertkubeconfig
</code></pre></div><p>When asked for credentials, enter the ones that the GKE dashboard shows when clicking on <code>show credentials</code>.</p><p><code>sow</code> will replace the file specified in <code>landscape.cluster.kubeconfig</code> of your <code>acre.yaml</code> file by a kubeconfig file that uses basic authentication.</p><p>The basic autentication is disabled by default starting with Kubernetes <code>1.12</code>, <a href=https://cloud.google.com/kubernetes-engine/docs/how-to/hardening-your-cluster#restrict_authn_methods>see more details here</a>.</p><p>In case it is disabled on your cluster, the following command can be used to enable it:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>gcloud container clusters update &lt;your-cluster&gt; --enable-basic-auth
</code></pre></div></li><li><p>If you are not using GKE and don&rsquo;t know how to get a kubeconfig with standard authentication, you can also create a serviceaccount, grant it cluster-admin privileges by adding it to the corresponding <code>ClusterRoleBinding</code>, and construct a kubeconfig using that serviceaccount&rsquo;s token.</p></li></ul></li><li><p>Open a second terminal window which current directory is your <code>landscape</code> directory. Set the <code>KUBECONFIG</code> environment variable as specified in <code>landscape.cluster.kubeconfig</code>, and watch the progress of the Gardener installation:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=nb>export</span> <span class=nv>KUBECONFIG</span><span class=o>=</span>./kubeconfig
watch -d kubectl -n garden get pods,ingress,sts,svc
</code></pre></div></li><li><p>In your first terminal window, use the following command to check in which order the components will be installed. Nothing will be deployed yet and you can test this way if your syntax in <code>acre.yaml</code> is correct:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>sow order -A
</code></pre></div></li><li><p>If there are no error messages, use the following command to deploy Gardener on your base cluster:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>sow deploy -A
</code></pre></div></li><li><p><code>sow</code> now starts to install Gardener in your base cluster. The installation can take about 30 minutes. <code>sow</code> prints out status messages to the terminal window so that you can check the status of the installation. The other terminal window will show the newly created Kubernetes resources after a while and if their deployment was successful. Wait until the last component is deployed and all created Kubernetes resources are in status <code>Running</code>.</p></li><li><p>Use the following command to find out the URL of the Gardener dashboard.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>sow url
</code></pre></div></li></ol><p>More information: <a href=#most-important-commands-and-directories>Most Important Commands and Directories</a></p><h2 id=concept-the-virtual-cluster>Concept: The &lsquo;Virtual&rsquo; Cluster</h2><p>As a part of garden-setup, a <code>kube-apiserver</code> and <code>kube-controller-manager</code> will be deployed into your base cluster, creating the so-called &lsquo;virtual&rsquo; cluster. The name comes from the fact that it behaves like a kubernetes cluster, but there aren&rsquo;t any nodes behind this kube-apiserver and thus no workload will actually run on this cluster. This kube-apiserver is then extended by the Gardener apiserver.</p><h3 id=reasoning>Reasoning</h3><p>At first glance, this feels unintuitive. Why do we create another kube-apiserver which needs its own kubeconfig? However, there are two major reasons for this approach:</p><h4 id=full-control>Full Control</h4><p>The kube-apiserver needs to be configured in a certain way so that it can be used for a Gardener landscape. For example, the Gardener dashboard needs some OIDC configuration to be set on the kube-apiserver, otherwise authentication at the dashboard won&rsquo;t work. However, since garden-setup relies on a base cluster created by other means, many people will probably use a managed kubernetes service (like GKE) to create the initial cluster - but most of the managed services do not grant access to the kube-apiserver to the end-users.
By deploying an own kube-apiserver, garden-setup ensures full control over its configuration, which improves stability and reduces complexity of the landscape setup.</p><h4 id=disaster-recovery>Disaster Recovery</h4><p>Garden-setup also deploys an own etcd for the kube-apiserver. Because the kube-apiserver - and thus its etcd - is only being used for Gardener resources, restoring the state of a Gardener landscape from an etcd backup is significantly easier than it would be if the Gardener resources were mixed with other resources in the etcd.</p><h3 id=disadvantage-two-kubeconfigs>Disadvantage: Two kubeconfigs</h3><p>The major disadvantage of this approach is that two kubeconfigs are needed to operate the Gardener: one for the base cluster, where all the pods are running, and one for the &lsquo;virtual&rsquo; cluster where the Gardener resources - <code>shoot</code>, <code>seed</code>, <code>cloudprofile</code>, &mldr; - are maintained. The kubeconfig for the &lsquo;virtual&rsquo; cluster can be found in the landscape folder at <code>export/kube-apiserver/kubeconfig</code> or it can be pulled from the secret <code>garden-kubeconfig-for-admin</code> in the <code>garden</code> namespace of the base cluster after the <code>kube-apiserver</code> component of garden-setup has been deployed.</p><h3 id=tldr>TL;DR</h3><p>Use the kubeconfig at <code>export/kube-apiserver/kubeconfig</code> to access the cluster where the Gardener resources - <code>shoot</code>, <code>seed</code>, <code>cloudprofile</code>, and so on - are maintained.</p><h2 id=configuration-file-acreyaml>Configuration File acre.yaml</h2><p>This file will be evaluated using <code>spiff</code>, a dynamic templating language for yaml files. For example, this simplifies the specification of field values that are used multiple times in the yaml file. For more information, see the <a href=https://github.com/mandelsoft/spiff/blob/master/README.md>spiff repository</a>.</p><blockquote><p>Please note that, for the sake of clarity, not all configuration options are listed in this readme. Instead, the more advanced configuration options have been moved into a set of additional documentation files. You can access these pages via their <a href=https://github.com/gardener/garden-setup/blob/master/docs/extended/README.md>index</a> and they are usually linked in their corresponding sections below.</p></blockquote><pre>
landscape:
  <a href=#landscapename>name</a>: &lt;Identifier&gt;                       # general Gardener landscape identifier, for example, `my-gardener`
  <a href=#landscapedomain>domain</a>: &lt;prefix&gt;.&lt;cluster domain&gt;        # unique basis domain for DNS entries

  <a href=#landscapecluster>cluster</a>:                                          # information about your base cluster
    kubeconfig: &lt;relative path + filename&gt;          # path to your `kubeconfig` file, rel. to directory `landscape` (defaults to `./kubeconfig`)
    <a href=#landscapenetworks>networks</a>:                                       # <a target=_blank rel="noopener noreferrer" href=https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing>CIDR IP ranges</a> of base cluster
      nodes: &lt;CIDR IP range&gt;
      pods: &lt;CIDR IP range&gt;
      services: &lt;CIDR IP range&gt;

  <a href=#landscapeiaas>iaas</a>:
    - name: (( iaas[0].type ))                   # name of the seed
      type: &lt;gcp|aws|azure|openstack|vsphere&gt;    # iaas provider
      region: &lt;major region&gt;-&lt;minor region&gt;      # region for initial seed
      zones:                                     # remove zones block for Azure
        - &lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # example: europe-west1-b
        - &lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # example: europe-west1-c
        - &lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # example: europe-west1-d
      credentials:                               # provide access to IaaS layer used for creating resources for shoot clusters
    - name:                                      # see above
      type: &lt;gcp|aws|azure|openstack&gt;            # see above
      region: &lt;major region&gt;-&lt;minor region&gt;      # region for seed
      zones:                                     # remove zones block for Azure
        - &lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # Example: europe-west1-b
        - &lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # Example: europe-west1-c
        - &lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # Example: europe-west1-d
      cluster:                                   # information about your seed's base cluster
        networks:                                # CIDR IP ranges of seed cluster
          nodes: &lt;CIDR IP range&gt;
          pods: &lt;CIDR IP range&gt;
          services: &lt;CIDR IP range&gt;
        kubeconfig:                              # kubeconfig for seed cluster
          apiVersion: v1
          kind: Config
          ...
      credentials:

  <a href=#landscapeetcd>etcd</a>:                                       # optional for gcp/aws/azure/openstack, default values based on `landscape.iaas`
    backup:
      type: &lt;gcs|s3|abs|swift&gt;                # type of blob storage
      resourceGroup:                          # Azure resource group you would like to use for your backup
      region: (( iaas.region ))               # region of blob storage (default: same as above)
      credentials: (( iaas.credentials ))     # credentials for the blob storage's IaaS provider (default: same as above)

  <a href=#landscapedns>dns</a>:                                    # optional for gcp/aws/azure/openstack, default values based on `landscape.iaas`
    type: &lt;google-clouddns|aws-route53|azure-dns|openstack-designate|cloudflare-dns|infoblox-dns&gt;   # dns provider
    credentials: (( iaas.credentials ))   # credentials for the dns provider

  <a href=#landscapeidentity>identity</a>:
    users:
      - email:                                # email (used for Gardener dashboard login)
        username:                             # username (displayed in Gardener dashboard)
        password:                             # clear-text password (used for Gardener dashboard login)
      - email:                                # see above
        username:                             # see above
        hash:                                 # bcrypted hash of password, see above

  <a href=#landscapecert-manager>cert-manager</a>:
    email:                                    # email for acme registration
    server: &lt;live|staging|self-signed|url&gt;    # which kind of certificates to use for the dashboard/identity ingress (defaults to `self-signed`)
    privateKey:                               # optional existing user account's private key
</pre><h3 id=landscapename>landscape.name</h3><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>landscape</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>&lt;Identifier&gt;</span><span class=w>
</span></code></pre></div><p>Arbitrary name for your landscape. The name will be part of the names for resources, for example, the etcd buckets.</p><h3 id=landscapedomain>landscape.domain</h3><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>domain</span><span class=p>:</span><span class=w> </span><span class=l>&lt;prefix&gt;.&lt;cluster domain&gt;</span><span class=w>
</span></code></pre></div><p>Basis domain for DNS entries. As a best practice, use an individual prefix together with the cluster domain of your base cluster.</p><h3 id=landscapecluster>landscape.cluster</h3><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>cluster</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>kubeconfig</span><span class=p>:</span><span class=w> </span><span class=l>&lt;relative path + filename&gt;</span><span class=w>
</span><span class=w>  </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>nodes</span><span class=p>:</span><span class=w> </span><span class=l>&lt;CIDR IP range&gt;</span><span class=w>
</span><span class=w>    </span><span class=nt>pods</span><span class=p>:</span><span class=w> </span><span class=l>&lt;CIDR IP range&gt;</span><span class=w>
</span><span class=w>    </span><span class=nt>services</span><span class=p>:</span><span class=w> </span><span class=l>&lt;CIDR IP range&gt;</span><span class=w>
</span></code></pre></div><p>Information about your base cluster, where the Gardener will be deployed on.</p><p><code>landscape.cluster.kubeconfig</code> contains the path to your kubeconfig, relative to your landscape directory. It is recommended to create a kubeconfig file in your landscape directory to be able to sync all files relevant for your installation with a git repository. This value is optional and will default to <code>./kubeconfig</code> if not specified.</p><p><code>landscape.cluster.networks</code> contains the CIDR ranges of your base cluster.
Finding out CIDR ranges of your cluster is not trivial. For example, GKE only tells you a &ldquo;pod address range&rdquo; which is actually a combination of pod and service CIDR. However, since the <code>kubernetes</code> service typically has the first IP of the service IP range and most methods to get a kubernetes cluster tell you at least something about the CIDRs, it is usually possible to find out the CIDRs with a little bit of educated guessing.</p><h3 id=landscapeiaas>landscape.iaas</h3><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>iaas</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>(( type ))                          </span><span class=w> </span><span class=c># name of the seed</span><span class=w>
</span><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>&lt;gcp|aws|azure|openstack|vsphere&gt;   </span><span class=w> </span><span class=c># iaas provider</span><span class=w>
</span><span class=w>    </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class=l>&lt;major region&gt;-&lt;minor region&gt;     </span><span class=w> </span><span class=c># region for initial seed</span><span class=w>
</span><span class=w>    </span><span class=nt>zones</span><span class=p>:</span><span class=w>                                     </span><span class=c># remove zones block for Azure</span><span class=w>
</span><span class=w>      </span>- <span class=nt>&lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # example</span><span class=p>:</span><span class=w> </span><span class=l>europe-west1-b</span><span class=w>
</span><span class=w>      </span>- <span class=nt>&lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # example</span><span class=p>:</span><span class=w> </span><span class=l>europe-west1-c</span><span class=w>
</span><span class=w>      </span>- <span class=nt>&lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # example</span><span class=p>:</span><span class=w> </span><span class=l>europe-west1-d</span><span class=w>
</span><span class=w>    </span><span class=nt>credentials</span><span class=p>:</span><span class=w>                               </span><span class=c># provide access to IaaS layer used for creating resources for shoot clusters</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w>                                      </span><span class=c># see above</span><span class=w>
</span><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>&lt;gcp|aws|azure|openstack|vsphere&gt;   </span><span class=w> </span><span class=c># see above</span><span class=w>
</span><span class=w>    </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class=l>&lt;major region&gt;-&lt;minor region&gt;     </span><span class=w> </span><span class=c># region for seed</span><span class=w>
</span><span class=w>    </span><span class=nt>zones</span><span class=p>:</span><span class=w>                                     </span><span class=c># remove zones block for Azure</span><span class=w>
</span><span class=w>      </span>- <span class=nt>&lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # example</span><span class=p>:</span><span class=w> </span><span class=l>europe-west1-b</span><span class=w>
</span><span class=w>      </span>- <span class=nt>&lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # example</span><span class=p>:</span><span class=w> </span><span class=l>europe-west1-c</span><span class=w>
</span><span class=w>      </span>- <span class=nt>&lt;major region&gt;-&lt;minor region&gt;-&lt;zone&gt;   # example</span><span class=p>:</span><span class=w> </span><span class=l>europe-west1-d</span><span class=w>
</span><span class=w>    </span><span class=nt>cluster</span><span class=p>:</span><span class=w>                                   </span><span class=c># information about your seed&#39;s base cluster</span><span class=w>
</span><span class=w>      </span><span class=nt>networks</span><span class=p>:</span><span class=w>                                </span><span class=c># CIDR IP ranges of seed cluster</span><span class=w>
</span><span class=w>        </span><span class=nt>nodes</span><span class=p>:</span><span class=w> </span><span class=l>&lt;CIDR IP range&gt;</span><span class=w>
</span><span class=w>        </span><span class=nt>pods</span><span class=p>:</span><span class=w> </span><span class=l>&lt;CIDR IP range&gt;</span><span class=w>
</span><span class=w>        </span><span class=nt>services</span><span class=p>:</span><span class=w> </span><span class=l>&lt;CIDR IP range&gt;</span><span class=w>
</span><span class=w>      </span><span class=nt>kubeconfig</span><span class=p>:</span><span class=w>                              </span><span class=c># kubeconfig for seed cluster</span><span class=w>
</span><span class=w>        </span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span><span class=w>        </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Config</span><span class=w>
</span><span class=w>        </span><span class=l>...</span><span class=w>
</span><span class=w>    </span><span class=nt>credentials</span><span class=p>:</span><span class=w>
</span></code></pre></div><p>Contains the information where Gardener will create intial seed clusters and cloudprofiles to create shoot clusters.</p><table><thead><tr><th style=text-align:left>Field</th><th style=text-align:left>Type</th><th style=text-align:left>Description</th><th style=text-align:left>Examples</th><th style=text-align:left>Iaas Provider Documentation</th></tr></thead><tbody><tr><td style=text-align:left><code>name</code></td><td style=text-align:left>Custom value</td><td style=text-align:left>Name of the seed/cloudprofile. Must be unique.</td><td style=text-align:left><code>gcp</code></td><td style=text-align:left></td></tr><tr><td style=text-align:left><code>type</code></td><td style=text-align:left>Fixed value</td><td style=text-align:left>IaaS provider for the seed.</td><td style=text-align:left><code>gcp</code></td><td style=text-align:left></td></tr><tr><td style=text-align:left><code>region</code></td><td style=text-align:left>IaaS provider specific</td><td style=text-align:left>Region for the seed cluster. The convention to use &lt;major region>-&lt;minor region> does not apply to all providers.<br><br>In Azure, use <a href="https://docs.microsoft.com/en-us/cli/azure/account?view=azure-cli-latest#az-account-list-locations">az account list-locations</a> to find out the location name (<code>name</code> attribute = lower case name without spaces).</td><td style=text-align:left><code>europe-west1</code> (GCP)<br><br><code>eu-west-1</code> (AWS)<br><br><code>westeurope</code> (Azure)</td><td style=text-align:left><a href=https://cloud.google.com/kubernetes-engine/docs/how-to/managing-clusters#viewing_your_clusters>GCP (HowTo)</a>, <a href=https://cloud.google.com/docs/geography-and-regions>GCP (overview)</a>; <a href=https://docs.aws.amazon.com/cli/latest/reference/eks/describe-cluster.html>AWS (HowTo)</a>, <a href=https://docs.aws.amazon.com/general/latest/gr/rande.html>AWS (Overview)</a>; <a href=https://azure.microsoft.com/en-us/global-infrastructure/geographies/>Azure (Overview)</a>, <a href="https://docs.microsoft.com/en-us/cli/azure/account?view=azure-cli-latest#az-account-list-locations">Azure (HowTo)</a></td></tr><tr><td style=text-align:left><code>zones</code></td><td style=text-align:left>IaaS provider specific</td><td style=text-align:left>Zones for the seed cluster. Not needed for Azure.</td><td style=text-align:left><code>europe-west1-b</code> (GCP)<br></br></td><td style=text-align:left><a href=https://cloud.google.com/kubernetes-engine/docs/how-to/managing-clusters#viewing_your_clusters>GCP (HowTo)</a>, <a href=https://cloud.google.com/docs/geography-and-regions>GCP (overview)</a>; <a href=https://docs.aws.amazon.com/cli/latest/reference/eks/describe-cluster.html>AWS (HowTo)</a>, <a href=https://docs.aws.amazon.com/general/latest/gr/rande.html>AWS (Overview)</a></td></tr><tr><td style=text-align:left><code>credentials</code></td><td style=text-align:left>IaaS provider specific</td><td style=text-align:left>Credentials in a provider-specific format.</td><td style=text-align:left>See table with yaml keys below.</td><td style=text-align:left><a href=https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating_service_account_keys>GCP</a>, <a href=https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html#id_users_service_accounts>AWS</a>, <a href=https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough-portal>Azure</a></td></tr><tr><td style=text-align:left><code>cluster.kubeconfig</code></td><td style=text-align:left>Kubeconfig</td><td style=text-align:left>The kubeconfig for your seed base cluster. Must have basic auth authentification.</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left><code>cluster.networks</code></td><td style=text-align:left>CIDRs</td><td style=text-align:left>The CIDRs of your seed cluster. See <a href=#landscapecluster>landscape.cluster</a> for more information.</td><td style=text-align:left></td><td style=text-align:left></td></tr></tbody></table><p>Here a list of configurations can be given. The setup will create one cloudprofile and seed per entry. Currently, you will have to provide the cluster you want to use as a seed - in future, the setup will be able to create a shoot and configure that shoot as a seed. The <code>type</code> should match the type of the underlying cluster.</p><p>The first entry of the <code>landscape.iaas</code> list is special:</p><ul><li>It has to exist - the list needs at least one entry.</li><li>Don&rsquo;t specify the <code>cluster</code> node for it - it will configure your base cluster as seed.<ul><li>Its <code>type</code> should match the one of your base cluster.</li></ul></li></ul><p>See the <a href=https://github.com/gardener/garden-setup/blob/master/docs/extended/iaas.md>advanced documentation</a> for more advanced configuration options and information about Openstack.</p><h4 id=shooted-seeds>Shooted Seeds</h4><p>It&rsquo;s also possible to have the setup create shoots and then configure them as seeds. This has advantages compared to configuring existing clusters as seeds, e.g. you don&rsquo;t have to provide the clusters as they will be created automatically, the shooted seed clusters can leverage the Gardener&rsquo;s autoscaling capabilities, &mldr;</p><p>How to configure shooted seeds is explained in the <a href=https://github.com/gardener/garden-setup/blob/master/docs/extended/iaas.md#shooted-seeds>advanced documentation</a>.</p><h4 id=credentials>Credentials</h4><p>The credentials will be used to give Gardener access to the IaaS layer:</p><ul><li>To create a secret that will be used on the Gardener dashboard to create shoot clusters.</li><li>To allow the control plane of the seed clusters to store the etcd backups of the shoot clusters.</li></ul><p>Use the following yaml keys depending on your provider (excerpts):</p><table><thead><tr><th style=text-align:left><b>AWS</b></th><th style=text-align:left><b>GCP</b></th></tr></thead><tbody><tr><td style=text-align:left><pre>credentials: <br>  accessKeyID: &hellip;<br>  secretAccessKey: &hellip; </pre></td><td style=text-align:left><pre>credentials: <br>  serviceaccount.json: |<br>    {</br>      &ldquo;type&rdquo;: &ldquo;&hellip;&rdquo;,</br>      &ldquo;project_id&rdquo;: &ldquo;&hellip;&rdquo;,</br>      &hellip;</br>    }</pre></td></tr><tr><td style=text-align:left><b>Azure</b></td><td style=text-align:left><b>Openstack</b></td></tr><tr><td style=text-align:left><pre>credentials:<br>  clientID: &hellip;<br>  clientSecret: &hellip;<br>  subscriptionID: &hellip;<br>  tenantID: &hellip;</pre></td><td style=text-align:left><pre>credentials:<br>  username: &hellip;<br>  password: &hellip;<br>  tenantName: &hellip;<br>  domainName: &hellip;<br>  authURL: &hellip;<br>  region: &hellip; # DNS only</pre></td></tr></tbody></table><p>The <code>region</code> field in the openstack credentials is only evaluated within the <code>dns</code> block (as <code>iaas</code> and <code>etcd.backup</code> have their own region fields, which will be used instead).</p><h3 id=landscapeetcd>landscape.etcd</h3><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>etcd</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>backup</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=c># active: true</span><span class=w>
</span><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>&lt;gcs|s3|abs|swift&gt;</span><span class=w>
</span><span class=w>    </span><span class=nt>resourceGroup</span><span class=p>:</span><span class=w> </span><span class=l>...</span><span class=w>
</span><span class=w>    </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class=l>(( iaas.region ))</span><span class=w>
</span><span class=w>    </span><span class=nt>credentials</span><span class=p>:</span><span class=w> </span><span class=l>(( iaas.credentials ))</span><span class=w>
</span></code></pre></div><p>Configuration of what blob storage to use for the etcd key-value store. If your IaaS provider offers a blob storage you can use the same values for <code>etc.backup.region</code> and <code>etc.backup.credentials</code> as above for <code>iaas.region</code> and <code>iaas.credentials</code> correspondingly by using the <a href=https://github.com/mandelsoft/spiff/blob/master/README.md#-foo->(( foo ))</a> expression of spiff.
If the type of <code>landscape.iaas[0]</code> is one of <code>gcp</code>, <code>aws</code>, <code>azure</code>, or <code>openstack</code>, this block can be defaulted - either partly or as a whole - based on values from <code>landscape.iaas</code>. The <code>resourceGroup</code>, which is necessary for Azure, cannot be defaulted and must be specified. Make sure that the specified <code>resourceGroup</code> is empty and unused as deleting the cluster using <code>sow delete all</code> deletes this <code>resourceGroup</code>.</p><table><thead><tr><th style=text-align:left>Field</th><th style=text-align:left>Type</th><th style=text-align:left>Description</th><th style=text-align:left>Example</th><th style=text-align:left>Iaas Provider Documentation</th></tr></thead><tbody><tr><td style=text-align:left><code>backup.active</code></td><td style=text-align:left>Boolean</td><td style=text-align:left>If set to <code>false</code>, deactivates the etcd backup for the virtual cluster etcd. Defaults to <code>true</code>.</td><td style=text-align:left><code>true</code></td><td style=text-align:left>n.a.</td></tr><tr><td style=text-align:left><code>backup.type</code></td><td style=text-align:left>Fixed value</td><td style=text-align:left>Type of your blob store. Supported blob stores: <code>gcs</code> (<a href=https://cloud.google.com/storage/>Google Cloud Storage</a>), <code>s3</code> (<a href=https://aws.amazon.com/s3/>Amazon S3</a>), <code>abs</code> (<a href=https://docs.microsoft.com/en-us/azure/storage/blobs/storage-blobs-overview>Azure Blob Storage</a>), and <code>swift</code> (<a href=https://docs.openstack.org/swift/latest/>Openstack Swift</a>).</td><td style=text-align:left><code>gcs</code></td><td style=text-align:left>n.a.</td></tr><tr><td style=text-align:left><code>backup.resourceGroup</code></td><td style=text-align:left>IaaS provider specific</td><td style=text-align:left>Azure specific. Create an Azure blob store first which uses a resource group. Provide the resource group here.</td><td style=text-align:left><code>my-Azure-RG</code></td><td style=text-align:left><a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-quickstart-create-account?tabs=azure-portal">Azure</a> (HowTo)</td></tr><tr><td style=text-align:left><code>backup.region</code></td><td style=text-align:left>IaaS provider specific</td><td style=text-align:left>Region of blob storage.</td><td style=text-align:left><code>(( iaas.region ))</code></td><td style=text-align:left><a href=https://cloud.google.com/docs/geography-and-regions>GCP (overview)</a>, <a href=https://docs.aws.amazon.com/general/latest/gr/rande.html>AWS (overview)</a></td></tr><tr><td style=text-align:left><code>backup.credentials</code></td><td style=text-align:left>IaaS provider specific</td><td style=text-align:left>Service account credentials in a provider-specific format.</td><td style=text-align:left><code>(( iaas.creds ))</code></td><td style=text-align:left><a href=https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating_service_account_keys>GCP</a>, <a href=https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html#id_users_service_accounts>AWS</a>, <a href=https://docs.microsoft.com/en-us/rest/api/storageservices/authorization-for-the-azure-storage-services>Azure</a></td></tr></tbody></table><h3 id=landscapedns>landscape.dns</h3><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>dns</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>&lt;google-clouddns|aws-route53|azure-dns|openstack-designate|cloudflare-dns|infoblox-dns&gt;</span><span class=w>
</span><span class=w>  </span><span class=nt>credentials</span><span class=p>:</span><span class=w>
</span></code></pre></div><p>Configuration for the Domain Name Service (DNS) provider. If your IaaS provider also offers a DNS service you can use the same values for <code>dns.credentials</code> as for <code>iaas.creds</code> above by using the <a href=https://github.com/mandelsoft/spiff/blob/master/README.md#-foo->(( foo ))</a> expression of spiff. If they belong to another account (or to another IaaS provider) the appropriate credentials (and their type) have to be configured.
Similar to <code>landscape.etcd</code>, this block - and parts of it - are optional if the type of <code>landscape.iaas[0]</code> is one of <code>gcp</code>, <code>aws</code>, <code>azure</code>, or <code>openstack</code>. Missing values will be derived from <code>landscape.iaas</code>.</p><table><thead><tr><th style=text-align:left>Field</th><th style=text-align:left>Type</th><th style=text-align:left>Description</th><th style=text-align:left>Example</th><th style=text-align:left>IaaS Provider Documentation</th></tr></thead><tbody><tr><td style=text-align:left><code>type</code></td><td style=text-align:left>Fixed value</td><td style=text-align:left>Your DNS provider. Supported providers: <code>google-clouddns</code> (<a href=https://cloud.google.com/dns/docs/>Google Cloud DNS</a>), <code>aws-route53</code> (<a href=https://aws.amazon.com/route53/>Amazon Route 53</a>), <code>azure-dns</code> (<a href=https://azure.microsoft.com/de-de/services/dns/>Azure DNS</a>), <code>openstack-designate</code> (<a href=https://docs.openstack.org/designate/latest/>Openstack Designate</a>), <code>cloudflare-dns</code> (<a href=https://www.cloudflare.com/dns/>Cloudflare DNS</a>), and <code>infoblox-dns</code> (<a href=https://www.infoblox.com/products/dns/>Infoblox DNS</a>).</td><td style=text-align:left><code>google-clouddns</code></td><td style=text-align:left>n.a.</td></tr><tr><td style=text-align:left><code>credentials</code></td><td style=text-align:left>IaaS provider specific</td><td style=text-align:left>Service account credentials in a provider-specific format (see above).</td><td style=text-align:left><code>(( iaas.credentials ))</code></td><td style=text-align:left><a href=https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating_service_account_keys>GCP</a>, <a href=https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html#id_users_service_accounts>AWS</a>, <a href=https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-create-service-principals>Azure</a></td></tr></tbody></table><h4 id=cloudflare-credentials>Cloudflare Credentials</h4><p>The credentials to use Cloudflare DNS consist of a single key <code>apiToken</code>, containing your API token.</p><h4 id=infoblox-credentials-and-configuration>Infoblox Credentials and Configuration</h4><p>For Infoblox DNS, you have to specify <code>USERNAME</code>, <code>PASSWORD</code>, and <code>HOST</code> in the <code>credentials</code> node. For a complete list of optional credentials keys see <a href=https://github.com/gardener/external-dns-management/tree/master/docs/infoblox#create-secret-with-infoblox-credentials>here</a></p><h3 id=landscapeidentity>landscape.identity</h3><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>identity</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>users</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=nt>email</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>username</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>password</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=nt>email</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>username</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>hash</span><span class=p>:</span><span class=w>
</span></code></pre></div><p>Configures the identity provider that allows access to the Gardener dashboard. The easiest method is to provide a list of <code>users</code>, each containing <code>email</code>, <code>username</code>, and either a clear-text <code>password</code> or a bcrypted <code>hash</code> of the password.
You can then login into the dashboard using one of the specified email/password combinations.</p><h3 id=landscapeingress>landscape.ingress</h3><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>ingress</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>service.beta.kubernetes.io/aws-load-balancer-internal</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>  </span><span class=c># example for internal loadbalancers on aws</span><span class=w>
</span><span class=w>    </span><span class=l>...</span><span class=w>
</span></code></pre></div><p>You can add <a href=https://github.com/gardener/garden-setup/blob/master/components/ingress-controller/chart/templates/00-ingress-controller.yaml#L249>annotations</a> for the ingress controller load balancer service. This can be used for example to deploy an internal load balancer on your cloud provider (see the example for aws above).</p><h3 id=landscapecert-manager>landscape.cert-manager</h3><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=w>  </span><span class=nt>cert-manager</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>email</span><span class=p>:</span><span class=w>                                   
</span><span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=l>&lt;live|staging|self-signed|url&gt;</span><span class=w>
</span><span class=w>    </span><span class=nt>privateKey</span><span class=p>:</span><span class=w> </span><span class=c># optional</span><span class=w>
</span></code></pre></div><p>The setup deploys a <a href=https://github.com/jetstack/cert-manager>cert-manager</a> to provide a certificate for the Gardener dashboard, which can be configured here.</p><p>The entire <code>landscape.cert-manager</code> block is optional.</p><p>If not specified, <code>landscape.cert-manager.server</code> defaults to <code>self-signed</code>. This means, that a selfs-signed CA will be created, which is used by the cert-manager (using a <a href=https://docs.cert-manager.io/en/latest/tasks/issuers/setup-ca.html>CA issuer</a>) to sign the certificate. Since the CA is not publicly trusted, your webbrowser will show a &lsquo;untrusted certificate&rsquo; warning when accessing the dashboard.
The <code>landscape.cert-manager.email</code> field is not evaluated in <code>self-signed</code> mode.</p><p>If set to <code>live</code>, the cert-manager will use the <a href=https://letsencrypt.org/>letsencrypt</a> ACME server to get trusted certificates for the dashboard. Beware the <a href=https://letsencrypt.org/docs/rate-limits/>rate limits</a> of letsencrypt.
Letsencrypt requires an email address and will send information about expiring certificates to that address. If <code>landscape.cert-manager.email</code> is not specified, <code>landscape.identity.users[0].email</code> will be used. One of the two fields has to be present.</p><p>If set to <code>staging</code>, the cert-manager will use the letsencrypt staging server. This is for testing purposes mainly. The communication with letsencrypt works exactly as for the <code>live</code> case, but the staging server does not produce trusted certificates, so you will still get the browser warning. The rate limits are significantly higher for the staging server, though.</p><p>If set to anything else, it is assumed to be the URL of an ACME server and the setup will create an <a href=https://docs.cert-manager.io/en/latest/tasks/issuers/setup-acme/index.html>ACME issuer</a> for it.</p><p>See the <a href=https://github.com/gardener/garden-setup/blob/master/docs/extended/cert-manager.md>advanced configuration</a> for more configuration options.</p><p>If the given email address is already registers at letsencrypt, you can specify the private key of the associated user account with <code>landscape.cert-manager.privateKey</code>.</p><h2 id=uninstall-gardener>Uninstall Gardener</h2><ol><li><p>Run <code>sow delete -A</code> to delete all components from your base Kubernetes cluster in inverse order.</p></li><li><p>During the deletion, the corresponding contents in directories <code>gen</code>, <code>export</code>, and <code>state</code> in your <code>landscape</code> directory are deleted automatically as well.</p></li></ol><h2 id=most-important-commands-and-directories>Most Important Commands and Directories</h2><h3 id=commands>Commands</h3><p>These are the most important <code>sow</code> commands for deploying and deleting components:</p><table><thead><tr><th style=text-align:left>Command</th><th style=text-align:left>Use</th></tr></thead><tbody><tr><td style=text-align:left><code>sow &lt;component></code></td><td style=text-align:left>Same as <code>sow deploy &lt;component></code>.</td></tr><tr><td style=text-align:left><code>sow delete &lt;component></code></td><td style=text-align:left>Deletes a single component</td></tr><tr><td style=text-align:left><code>sow delete -A</code></td><td style=text-align:left>Deletes all components in the inverse order</td></tr><tr><td style=text-align:left><code>sow delete all</code></td><td style=text-align:left>Same as <code>sow delete -A</code></td></tr><tr><td style=text-align:left><code>sow delete -a &lt;component></code></td><td style=text-align:left>Deletes a component and all components that depend on it (including transitive dependencies)</td></tr><tr><td style=text-align:left><code>sow deploy &lt;component></code></td><td style=text-align:left>Deploys a single component. The deployment will fail if the dependencies have not been deployed before.</td></tr><tr><td style=text-align:left><code>sow deploy -A</code></td><td style=text-align:left>Deploys all components in the order specified by <code>sow order -A</code></td></tr><tr><td style=text-align:left><code>sow deploy -An</code></td><td style=text-align:left>Deploys all components that are not deployed yet</td></tr><tr><td style=text-align:left><code>sow deploy all</code></td><td style=text-align:left>Same as <code>sow deploy -A</code></td></tr><tr><td style=text-align:left><code>sow deploy -a &lt;component></code></td><td style=text-align:left>Deploys a component and all of its dependencies</td></tr><tr><td style=text-align:left><code>sow help</code></td><td style=text-align:left>Displays a command overview for sow</td></tr><tr><td style=text-align:left><code>sow order -a &lt;component></code></td><td style=text-align:left>Displays all dependencies of a given component (in the order they should be deployed in)</td></tr><tr><td style=text-align:left><code>sow order -A</code></td><td style=text-align:left>Displays the order in which all components can be deployed</td></tr><tr><td style=text-align:left><code>sow url</code></td><td style=text-align:left>Displays the URL for the Gardener dashboard (after a successful installation)</td></tr></tbody></table><h3 id=directories>Directories</h3><p>After using sow to deploy the components, you will notice that there are new directories inside your landscape directory:</p><table><thead><tr><th style=text-align:left>Directory</th><th style=text-align:left>Use</th></tr></thead><tbody><tr><td style=text-align:left><code>gen</code></td><td style=text-align:left>Temporary files that are created during the deployment of components, for example, generated manifests.</td></tr><tr><td style=text-align:left><code>export</code></td><td style=text-align:left>Allows communication (exports and imports) between components. It also contains the kubeconfig for the virtual cluster that handles the Gardener resources.</td></tr><tr><td style=text-align:left><code>state</code></td><td style=text-align:left>Important state information of the components is stored here, for example, the terraform state and generated certificates. It is crucial that this directory is not deleted while the landscape is active. While the contents of the <em>export</em> and <em>gen</em> directorys will be overwritten when a component is deployed again, the contents of <em>state</em> will be reused instead. In some cases, it is necessary to delete the state of a component before deploying it again, for example if you want to create new certificates for it.</td></tr></tbody></table><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}.display-none{display:none}</style><div class="d-print-none display-none"><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes"></p><p class="feedback--response feedback--response-no"></p></div><script>const yesButton=document.querySelector('.feedback--answer-yes'),noButton=document.querySelector('.feedback--answer-no'),yesResponse=document.querySelector('.feedback--response-yes'),noResponse=document.querySelector('.feedback--response-no'),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=b=>{if(typeof ga!='function')return;const a={command:'send',hitType:'event',category:'Helpful',action:'click',label:window.location.pathname,value:b};ga(a.command,a.hitType,a.category,a.action,a.label,a.value)};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(1)}),noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top"></div></div></main></div></div><footer class="footer row d-print-none"><div class="container-fluid footer-wrapper"><ul class=nav><li><a href=/blog/>Blogs</a></li><li><a href=/community/>Community</a></li><li><a href=/adopter/>Adopters</a></li><li><a href=/docs/>Documentation</a></li></ul><img src=/images/lp/gardener-logo.svg alt="Logo Gardener" class=logo><ul class=media-wr><li><a target=_blank href=https://kubernetes.slack.com/archives/CB57N0BFG><img src=/images/branding/slack-logo-white.svg class=media-icon><div class=media-text>Slack</div></a></li><li><a target=_blank href=https://github.com/gardener><img src=/images/branding/github-mark-logo.png class=media-icon><div class=media-text>GitHub</div></a></li><li><a target=_blank href=https://www.youtube.com/channel/UCwUhwKFREV8Su0gwAJQX7tw><img src=/images/branding/youtube-logo-dark.svg class=media-icon><div class=media-text>YouTube</div></a></li><li><a target=_blank href=https://twitter.com/GardenerProject><img src=/images/branding/twitter-logo-white.svg class=media-icon><div class=media-text>Twitter</div></a></li></ul><span class=copyright>Copyright 2019-2021 Gardener project authors. <a href=https://www.sap.com/corporate/en/legal/privacy.html>Privacy policy
<i class="fa fa-external-link" aria-hidden=true></i></a></span></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>