<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=icon type=image/x-icon href=https://gardener.cloud/images/favicon.ico><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-16x16.png sizes=16x16><title>Controlplane customization webhooks | Gardener</title><meta name=description content="Project Gardener Website - A Managed Kubernetes Service Done Right"><meta property="og:title" content="Controlplane customization webhooks"><meta property="og:description" content="Controlplane customization webhooks Gardener creates the Shoot controlplane in several steps of the Shoot flow. At different point of this flow, it:
 deploys standard controlplane components such as kube-apiserver, kube-controller-manager, and kube-scheduler by creating the corresponding deployments, services, and other resources in the Shoot namespace. initiates the deployment of custom controlplane components by ControlPlane controllers by creating a ControlPlane resource in the Shoot namespace.  In order to apply any provider-specific changes to the configuration provided by Gardener for the standard controlplane components, cloud extension providers can install mutating admission webhooks for the resources created by Gardener in the Shoot namespace."><meta property="og:type" content="article"><meta property="og:url" content="https://gardener.cloud/docs/concepts/extensions/controlplane-webhooks/"><meta property="article:section" content="docs"><meta itemprop=name content="Controlplane customization webhooks"><meta itemprop=description content="Controlplane customization webhooks Gardener creates the Shoot controlplane in several steps of the Shoot flow. At different point of this flow, it:
 deploys standard controlplane components such as kube-apiserver, kube-controller-manager, and kube-scheduler by creating the corresponding deployments, services, and other resources in the Shoot namespace. initiates the deployment of custom controlplane components by ControlPlane controllers by creating a ControlPlane resource in the Shoot namespace.  In order to apply any provider-specific changes to the configuration provided by Gardener for the standard controlplane components, cloud extension providers can install mutating admission webhooks for the resources created by Gardener in the Shoot namespace."><meta itemprop=wordCount content="1736"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Controlplane customization webhooks"><meta name=twitter:description content="Controlplane customization webhooks Gardener creates the Shoot controlplane in several steps of the Shoot flow. At different point of this flow, it:
 deploys standard controlplane components such as kube-apiserver, kube-controller-manager, and kube-scheduler by creating the corresponding deployments, services, and other resources in the Shoot namespace. initiates the deployment of custom controlplane components by ControlPlane controllers by creating a ControlPlane resource in the Shoot namespace.  In order to apply any provider-specific changes to the configuration provided by Gardener for the standard controlplane components, cloud extension providers can install mutating admission webhooks for the resources created by Gardener in the Shoot namespace."><link rel=preload href=/scss/main.min.122f9effc36493edf1f25030c2ce7965b16b3b0eaeb02528b9a50e0fa9110c15.css as=style><link href=/scss/main.min.122f9effc36493edf1f25030c2ce7965b16b3b0eaeb02528b9a50e0fa9110c15.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg width="90" height="90" viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>logo</title><desc>Created with Sketch.</desc><defs><path d="M41.8864954.994901575c.996545099999999-.479910833 2.6164002-.477918931 3.6088091.0L76.8159138 16.0781121C77.8124589 16.5580229 78.8208647 17.8257185 79.0659694 18.8995926l7.7355517 33.8916663C87.0476474 53.8696088 86.6852538 55.4484075 85.9984855 56.3095876L64.3239514 83.4885938C63.6343208 84.3533632 62.1740175 85.0543973 61.0725268 85.0543973H26.3092731c-1.1060816.0-2.5646564-.704623400000003-3.2514246-1.5658035L1.38331434 56.3095876C.693683723 55.4448182.335174016 53.865133.580278769 52.7912589L8.31583044 18.8995926C8.56195675 17.8212428 9.57347722 16.556031 10.5658861 16.0781121L41.8864954.994901575z" id="path-1"/><linearGradient x1="12.7542673%" y1="-18.6617048%" x2="88.2666158%" y2="84.6075483%" id="linearGradient-3"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="50%" y1="4.93673768%" x2="148.756007%" y2="175.514523%" id="linearGradient-4"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="19.1574381%" y1="-9.04800713%" x2="82.2203149%" y2="77.9084293%" id="linearGradient-5"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="57.4403751%" y1="26.3148481%" x2="137.966711%" y2="158.080556%" id="linearGradient-6"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="logo"><g id="Rectangle-2" transform="translate(1.000000, 0.000000)"><mask id="mask-2" fill="#fff"><use xlink:href="#path-1"/></mask><use id="Mask" fill="#009f76" xlink:href="#path-1"/><polygon fill="#000" opacity=".289628623" mask="url(#mask-2)" points="-17.6484375 54.5224609 30.8242188 25.0791016 63.4726562 58.5 24.7324219 92.6689453"/></g><path d="M56.8508631 39.260019C56.4193519 40.443987 55.6088085 41.581593 54.6736295 42.1938694l-8.0738997 5.2861089c-1.3854671.907087099999998-3.6247515.9116711-5.0172201.0L33.50861 42.1938694C32.123143 41.2867823 31 39.206345 31 37.545932V26.4150304c0-.725313.2131118-1.5301454.569268099999999-2.2825772L56.8508631 39.260019z" id="Combined-Shape" fill="url(#linearGradient-3)" transform="translate(43.925432, 36.147233) scale(-1, 1) translate(-43.925432, -36.147233)"/><path d="M56.0774672 25.1412464C56.4306829 25.8903325 56.6425556 26.6907345 56.6425556 27.4119019V38.5428034c0 1.6598979-1.1161415 3.73626640000001-2.50861 4.6479374l-8.0738997 5.286109c-1.3854671.907087000000004-3.6247516.911671000000005-5.0172201.0L32.9689261 43.1907408C32.2918101 42.7474223 31.6773514 42.0238435 31.2260376 41.206007L56.0774672 25.1412464z" id="Combined-Shape" fill="url(#linearGradient-4)" transform="translate(43.821278, 37.246598) scale(-1, 1) translate(-43.821278, -37.246598)"/><path d="M65.0702134 57.1846889C64.5985426 58.2007851 63.8367404 59.1236871 62.9788591 59.6189851L47.37497 68.6278947c-1.4306165.825966800000003-3.75236779999999.8246599-5.1807206.0L26.5903603 59.6189851C25.1597438 58.7930183 24 56.7816693 24 55.1323495V37.1145303C24 36.3487436 24.249712 35.5060005 24.6599102 34.7400631L65.0702134 57.1846889z" id="Combined-Shape" fill="url(#linearGradient-5)"/><path d="M65.0189476 34.954538C65.3636909 35.6617313 65.5692194 36.42021 65.5692194 37.1145303V55.1323495C65.5692194 56.7842831 64.4072119 58.7943252 62.9788591 59.6189851L47.37497 68.6278947c-1.4306165.825966800000003-3.75236779999999.8246599-5.1807206.0L26.5903603 59.6189851C25.9237304 59.2341061 25.3159155 58.5918431 24.8568495 57.8487596L65.0189476 34.954538z" id="Combined-Shape" fill="url(#linearGradient-6)"/></g></g></svg></span><span class=text-capitalize>Gardener</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/adopter><span>Adopters</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog><span>Blogs</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs><span>Documentation</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this siteâ€¦" aria-label="Search this siteâ€¦" autocomplete=off data-offline-search-index-json-src=/offline-search-index.a5fb410b167d89149a37bba06a8480bd.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this siteâ€¦" aria-label="Search this siteâ€¦" autocomplete=off data-offline-search-index-json-src=/offline-search-index.a5fb410b167d89149a37bba06a8480bd.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Docs</span></a><ul class="pr-md-3 ul-1"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsconcepts-li><a href=/docs/concepts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconcepts><span>Concepts</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptsarchitecture-li><a href=/docs/concepts/architecture/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsarchitecture><span>Architecture</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentsbouquet-li><a href=/components/bouquet/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentsbouquet><span>Bouquet</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentsdashboard-li><a href=/components/dashboard/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentsdashboard><span>Dashboard</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentsgardenctl-li><a href=/components/gardenctl/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentsgardenctl><span>gardenctl</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentsgardener-li><a href=/components/gardener/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentsgardener><span>Gardener</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-componentskubify-li><a href=/components/kubify/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-componentskubify><span>kubify</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptscore-components-li><a href=/docs/concepts/core-components/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptscore-components><span>Core Components</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-docsconceptscore-componentsapi-server-li><a href=/docs/concepts/core-components/api-server/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptscore-componentsapi-server><span>Gardener API Server</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsapi-serverapiserver_admission_plugins-li><a href=/docs/concepts/core-components/api-server/apiserver_admission_plugins/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsapi-serverapiserver_admission_plugins><span>In-Tree Admission Plugins</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsscheduler-li><a href=/docs/concepts/core-components/scheduler/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsscheduler><span>Gardener Scheduler</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsseed-admission-controller-li><a href=/docs/concepts/core-components/seed-admission-controller/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsseed-admission-controller><span>Gardener Seed Admission Controller</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptscore-componentsgardenlet-li><a href=/docs/concepts/core-components/gardenlet/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscore-componentsgardenlet><span>gardenlet</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsbackup-restorebackup-restore-li><a href=/docs/concepts/backup-restore/backup-restore/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsbackup-restorebackup-restore><span>Backup and Restore</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsconceptsextensions-li><a href=/docs/concepts/extensions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsextensions><span>Extensions</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsbackupbucket-li><a href=/docs/concepts/extensions/backupbucket/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsbackupbucket><span>BackupBucket resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsbackupentry-li><a href=/docs/concepts/extensions/backupentry/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsbackupentry><span>BackupEntry resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionscluster-li><a href=/docs/concepts/extensions/cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscluster><span>Cluster resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsshoot-health-status-conditions-li><a href=/docs/concepts/extensions/shoot-health-status-conditions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsshoot-health-status-conditions><span>Contributing to shoot health status conditions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docsconceptsextensionscontrolplane-webhooks-li><a href=/docs/concepts/extensions/controlplane-webhooks/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrolplane-webhooks><span class=td-sidebar-nav-active-item>Controlplane customization webhooks</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionscontrolplane-li><a href=/docs/concepts/extensions/controlplane/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrolplane><span>ControlPlane resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionscontrolplane-exposure-li><a href=/docs/concepts/extensions/controlplane-exposure/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrolplane-exposure><span>ControlPlane resource with purpose exposure</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsdns-li><a href=/docs/concepts/extensions/dns/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsdns><span>DNSProvider and DNSEntry resources</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsproject-roles-li><a href=/docs/concepts/extensions/project-roles/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsproject-roles><span>Extending project roles</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsoverview-li><a href=/docs/concepts/extensions/overview/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsoverview><span>Extensibility overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsextension-li><a href=/docs/concepts/extensions/extension/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsextension><span>Extension resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionscontainerruntime-li><a href=/docs/concepts/extensions/containerruntime/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontainerruntime><span>Gardener Container Runtime Extension</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsnetwork-li><a href=/docs/concepts/extensions/network/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsnetwork><span>Gardener Network Extension</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsconventions-li><a href=/docs/concepts/extensions/conventions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsconventions><span>General conventions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionshealthcheck-library-li><a href=/docs/concepts/extensions/healthcheck-library/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionshealthcheck-library><span>Health Check Library</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsinfrastructure-li><a href=/docs/concepts/extensions/infrastructure/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsinfrastructure><span>Infrastructure resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionslogging-and-monitoring-li><a href=/docs/concepts/extensions/logging-and-monitoring/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionslogging-and-monitoring><span>Logging and Monitoring for Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsoperatingsystemconfig-li><a href=/docs/concepts/extensions/operatingsystemconfig/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsoperatingsystemconfig><span>OperatingSystemConfig resource</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsreferenced-resources-li><a href=/docs/concepts/extensions/referenced-resources/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsreferenced-resources><span>Referenced Resources</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionscontrollerregistration-li><a href=/docs/concepts/extensions/controllerregistration/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionscontrollerregistration><span>Registering Extension Controllers</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsshoot-maintenance-li><a href=/docs/concepts/extensions/shoot-maintenance/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsshoot-maintenance><span>Shoot maintenance</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsshoot-webhooks-li><a href=/docs/concepts/extensions/shoot-webhooks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsshoot-webhooks><span>Shoot resource customization webhooks</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsextensionsworker-li><a href=/docs/concepts/extensions/worker/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsextensionsworker><span>Worker resource</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptsnetworking-li><a href=/docs/concepts/networking/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsnetworking><span>Networking</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsnetworkingdns-managment-li><a href=/docs/concepts/networking/dns-managment/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsnetworkingdns-managment><span>DNS Management</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsnetworkingcert-managment-li><a href=/docs/concepts/networking/cert-managment/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsnetworkingcert-managment><span>Certificates Management</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsnetworkingnetwork_policies-li><a href=/docs/concepts/networking/network_policies/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsnetworkingnetwork_policies><span>Network Policies</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptsmonitoring-li><a href=/docs/concepts/monitoring/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsmonitoring><span>Monitoring</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringalerting-li><a href=/docs/concepts/monitoring/alerting/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringalerting><span>Alerting</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringextending-li><a href=/docs/concepts/monitoring/extending/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringextending><span>Extending the Monitoring Stack</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringoperator_alerts-li><a href=/docs/concepts/monitoring/operator_alerts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringoperator_alerts><span>Operator Alerts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsconceptsmonitoringuser_alerts-li><a href=/docs/concepts/monitoring/user_alerts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmonitoringuser_alerts><span>User Alerts</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentdeploy_gardenlet_automatically-li><a href=/docs/concepts/deployment/deploy_gardenlet_automatically/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentdeploy_gardenlet_automatically><span>Automatic Deployment of Gardenlets</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentdeploy_gardenlet_manually-li><a href=/docs/concepts/deployment/deploy_gardenlet_manually/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentdeploy_gardenlet_manually><span>Deploy a Gardenlet Manually</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentdeploy_gardenlet-li><a href=/docs/concepts/deployment/deploy_gardenlet/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentdeploy_gardenlet><span>Deploying Gardenlets</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentsetup_gardener-li><a href=/docs/concepts/deployment/setup_gardener/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentsetup_gardener><span>Deploying the Gardener into a Kubernetes cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentaks-li><a href=/docs/concepts/deployment/aks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentaks><span>Deploying the previous Gardener versions and a Seed into an AKS cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentfeature_gates-li><a href=/docs/concepts/deployment/feature_gates/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentfeature_gates><span>Feature Gates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeploymentimage_vector-li><a href=/docs/concepts/deployment/image_vector/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeploymentimage_vector><span>Image Vector</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsmcm-li><a href=/docs/concepts/mcm/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmcm><span>Machine Controller Manager</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguides-li><a href=/docs/guides/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguides><span>How-To Guides</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesclient_tools-li><a href=/docs/guides/client_tools/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_tools><span>Set Up Client Tools</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolskubectl-apiserver-li><a href=/docs/guides/client_tools/kubectl-apiserver/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolskubectl-apiserver><span>Automated deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolsbash_kubeconfig-li><a href=/docs/guides/client_tools/bash_kubeconfig/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolsbash_kubeconfig><span>Kubeconfig context as bash prompt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolsworking-with-kubeconfig-li><a href=/docs/guides/client_tools/working-with-kubeconfig/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolsworking-with-kubeconfig><span>Organizing Access Using kubeconfig Files</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesclient_toolshelm-li><a href=/docs/guides/client_tools/helm/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesclient_toolshelm><span>Use a Helm chart to deploy some application or service</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesinstall_gardener-li><a href=/docs/guides/install_gardener/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardener><span>Install Gardener</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenersetup-li><a href=/docs/guides/install_gardener/setup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesinstall_gardenersetup><span>Gardener DNS Management for Shoots</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenersecure-setup-li><a href=/docs/guides/install_gardener/secure-setup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardenersecure-setup><span>Hardening the Gardener Community Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenerlandscape-setup-li><a href=/docs/guides/install_gardener/landscape-setup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardenerlandscape-setup><span>Landscape Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardeneradd-node-to-cluster-li><a href=/docs/guides/install_gardener/add-node-to-cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardeneradd-node-to-cluster><span>Manually adding a node to an existing cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesinstall_gardenersetup-seed-li><a href=/docs/guides/install_gardener/setup-seed/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesinstall_gardenersetup-seed><span>Setting up a Seed Cluster</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesadminister_shoots-li><a href=/docs/guides/administer_shoots/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shoots><span>Administer Client (Shoot) Clusters</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootshibernate-cluster-li><a href=/docs/guides/administer_shoots/hibernate-cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootshibernate-cluster><span>Hibernate a Cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootscreate-delete-shoot-li><a href=/docs/guides/administer_shoots/create-delete-shoot/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootscreate-delete-shoot><span>Create / Delete a Shoot cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener_aws-li><a href=/docs/guides/administer_shoots/gardener_aws/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsgardener_aws><span>Create a kubernetes cluster in AWS with Gardener</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener_gcp-li><a href=/docs/guides/administer_shoots/gardener_gcp/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsgardener_gcp><span>Create a kubernetes cluster on GCP with Gardener</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootscreate-shoot-into-existing-aws-vpc-li><a href=/docs/guides/administer_shoots/create-shoot-into-existing-aws-vpc/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootscreate-shoot-into-existing-aws-vpc><span>Create a Shoot cluster into existing AWS VPC</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener-alibaba-li><a href=/docs/guides/administer_shoots/gardener-alibaba/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsgardener-alibaba><span>Create Shoot Clusters in Alibaba Cloud</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsgardener_azure-li><a href=/docs/guides/administer_shoots/gardener_azure/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsgardener_azure><span>Create shoot clusters in Azure</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsdns_providers-li><a href=/docs/guides/administer_shoots/dns_providers/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootsdns_providers><span>Manage DNS Providers</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsdns_names-li><a href=/docs/guides/administer_shoots/dns_names/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootsdns_names><span>Request DNS Names</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsrequest_cert-li><a href=/docs/guides/administer_shoots/request_cert/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootsrequest_cert><span>Request X.509 Certificates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootsmaintain-shoot-li><a href=/docs/guides/administer_shoots/maintain-shoot/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootsmaintain-shoot><span>Shoot Cluster Maintenance</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootstrigger-shoot-operations-li><a href=/docs/guides/administer_shoots/trigger-shoot-operations/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesadminister_shootstrigger-shoot-operations><span>Trigger Shoot operations</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesadminister_shootstrigger-shoot-operations-li><a href=/docs/guides/administer_shoots/trigger-shoot-operations/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesadminister_shootstrigger-shoot-operations><span>Trigger Shoot operations</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesmonitoring_and_troubleshooting-li><a href=/docs/guides/monitoring_and_troubleshooting/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshooting><span>Monitor and Troubleshoot</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesmonitoring_and_troubleshootingshell-to-node-li><a href=/docs/guides/monitoring_and_troubleshooting/shell-to-node/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshootingshell-to-node><span>Get a Shell to a Gardener Shoot Worker Node</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesmonitoring_and_troubleshootingdebug-a-pod-li><a href=/docs/guides/monitoring_and_troubleshooting/debug-a-pod/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshootingdebug-a-pod><span>How to debug a pod</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesmonitoring_and_troubleshootingtail-logfile-li><a href=/docs/guides/monitoring_and_troubleshooting/tail-logfile/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesmonitoring_and_troubleshootingtail-logfile><span>tail -f /var/log/my-application.log</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguidesapplications-li><a href=/docs/guides/applications/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplications><span>Applications</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsaccess_pod_from_local-li><a href=/docs/guides/applications/access_pod_from_local/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsaccess_pod_from_local><span>Access a port of a pod locally</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsservice-access-li><a href=/docs/guides/applications/service-access/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsservice-access><span>Access service from outside Kubernetes cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsinsecure-configuration-li><a href=/docs/guides/applications/insecure-configuration/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsinsecure-configuration><span>Auditing Kubernetes for Secure Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsmissing-registry-permission-li><a href=/docs/guides/applications/missing-registry-permission/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsmissing-registry-permission><span>Container image not pulled</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsimage-pull-policy-li><a href=/docs/guides/applications/image-pull-policy/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsimage-pull-policy><span>Container image not updating</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationssecure-seccomp-li><a href=/docs/guides/applications/secure-seccomp/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationssecure-seccomp><span>Custom Seccomp profile</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsdockerfile_pitfall-li><a href=/docs/guides/applications/dockerfile_pitfall/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsdockerfile_pitfall><span>Dockerfile pitfalls</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationshttps-li><a href=/docs/guides/applications/https/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguidesapplicationshttps><span>HTTPS with self Signed Certificate</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationshttps-li><a href=/docs/guides/applications/https/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationshttps><span>HTTPS with self Signed Certificate</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationscontent_trust-li><a href=/docs/guides/applications/content_trust/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationscontent_trust><span>Integrity and Immutability</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsantipattern-li><a href=/docs/guides/applications/antipattern/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsantipattern><span>Kubernetes Antipatterns</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsnetwork-isolation-li><a href=/docs/guides/applications/network-isolation/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsnetwork-isolation><span>Namespace Isolation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationscontainer-startup-li><a href=/docs/guides/applications/container-startup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationscontainer-startup><span>Orchestration of container startup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsservice-cache-control-li><a href=/docs/guides/applications/service-cache-control/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsservice-cache-control><span>Out-Dated HTML and JS files delivered</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationscommit_secret_fail-li><a href=/docs/guides/applications/commit_secret_fail/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationscommit_secret_fail><span>Storing secrets in git ðŸ’€</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesapplicationsprometheus-li><a href=/docs/guides/applications/prometheus/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesapplicationsprometheus><span>Using Prometheus and Grafana to monitor K8s</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsguidesgardener-cookies-li><a href=/docs/guides/gardener-cookies/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsguidesgardener-cookies><span>Gardener Cookies</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsguideslandscape-setup-li><a href=/docs/guides/landscape-setup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsguideslandscape-setup><span>Landscape Setup</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docstutorials-li><a href=/docs/tutorials/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorials><span>Tutorials</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsoidc-login-li><a href=/docs/tutorials/oidc-login/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsoidc-login><span>Authenticating with an Identity Provider</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsdynamic-pvc-li><a href=/docs/tutorials/dynamic-pvc/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsdynamic-pvc><span>Dynamic Volume Provisioning</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsshoot_istio_dns_certs-li><a href=/docs/tutorials/shoot_istio_dns_certs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsshoot_istio_dns_certs><span>Gardener yourself a Shoot with Istio, custom Domains, and Certificates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsgpu-li><a href=/docs/tutorials/gpu/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsgpu><span>GPU Enabled Cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsknative-install-li><a href=/docs/tutorials/knative-install/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docstutorialsknative-install><span>Install Knative in Gardener clusters</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialss3-li><a href=/docs/tutorials/s3/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docstutorialss3><span>Shared storage with S3 backend</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreferences-li><a href=/docs/references/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferences><span>API Reference</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreferencescore-li><a href=/docs/references/core/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferencescore><span>Core</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreferencesextensions-li><a href=/docs/references/extensions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferencesextensions><span>Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreferencessettings-li><a href=/docs/references/settings/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsreferencessettings><span>Settings</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscontribute-li><a href=/docs/contribute/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute><span>Contribute</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-contributecode-li><a href=/contribute/code/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-contributecode><span>Code</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code14_cicd-li><a href=/docs/contribute/10_code/14_cicd/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code14_cicd><span>CI/CD</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code15_conf_secrets-li><a href=/docs/contribute/10_code/15_conf_secrets/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code15_conf_secrets><span>Configuration and Usage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code10-contribution_guide-li><a href=/docs/contribute/10_code/10-contribution_guide/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code10-contribution_guide><span>Contribution Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code20_dependencies-li><a href=/docs/contribute/10_code/20_dependencies/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code20_dependencies><span>Dependencies</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code27_deploy_into_cluster-li><a href=/docs/contribute/10_code/27_deploy_into_cluster/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code27_deploy_into_cluster><span>Deploy into a Cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code30_deploy_seed_into_aks-li><a href=/docs/contribute/10_code/30_deploy_seed_into_aks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code30_deploy_seed_into_aks><span>Deploy into AKS</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code13_env-li><a href=/docs/contribute/10_code/13_env/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code13_env><span>Environment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code37_process-li><a href=/docs/contribute/10_code/37_process/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code37_process><span>Process</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code40_repositories-li><a href=/docs/contribute/10_code/40_repositories/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code40_repositories><span>Repositories</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute10_code12-security_guide-li><a href=/docs/contribute/10_code/12-security_guide/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute10_code12-security_guide><span>Security Release Process</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-contributedocs-li><a href=/contribute/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-contributedocs><span>Documentation</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute20_documentation25_markup-li><a href=/docs/contribute/20_documentation/25_markup/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute20_documentation25_markup><span>Markdown</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute20_documentation10_organisation-li><a href=/docs/contribute/20_documentation/10_organisation/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute20_documentation10_organisation><span>Organization</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontribute20_documentation20_style-li><a href=/docs/contribute/20_documentation/20_style/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docscontribute20_documentation20_style><span>Style Guide</span></a></li></ul></li></ul></li></ul></li></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><div class=git-wr><div class=page-contributors>Contributors to this page<div class=contributors-list><a href=mailto:s.rachev@sap.com><img class=user-icon src="https://avatars.githubusercontent.com/u/1867702?v=4" title="Stoyan Rachev"><a href=mailto:george.kuruvilla@sap.com><img class=user-icon src="https://avatars.githubusercontent.com/u/2212423?v=4" title=I308301><a href=mailto:martin.vladev@sap.com><img class=user-icon src="https://avatars.githubusercontent.com/u/33343952?v=4" title="Martin Vladev"><a href=mailto:rafael.franzke@sap.com><img class=user-icon src="https://avatars.githubusercontent.com/u/19169361?v=4" title="Rafael Franzke"><a href=mailto:stoyanr@gmail.com><img class=user-icon src="https://avatars.githubusercontent.com/u/1867702?v=4" title="Stoyan Rachev"></div></div></div><a href=https://github.com/gardener/gardener/edit/master/docs/extensions/controlplane-webhooks.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/gardener/gardener/issues/new?title=Controlplane%20customization%20webhooks" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/gardener/website-generator/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=https://gardener.cloud/docs/concepts/extensions/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><p>Page Content</p><nav id=TableOfContents><ul><li><a href=#what-needs-to-be-implemented-to-support-a-new-cloud-provider>What needs to be implemented to support a new cloud provider?</a></li><li><a href=#contract-specification>Contract Specification</a><ul><li><a href=#kube-apiserver>kube-apiserver</a></li><li><a href=#kube-controller-manager>kube-controller-manager</a></li><li><a href=#kube-scheduler>kube-scheduler</a></li><li><a href=#etcd-main-and-etcd-events>etcd-main and etcd-events</a></li><li><a href=#cloud-controller-manager>cloud-controller-manager</a></li><li><a href=#csi-controllers>CSI controllers</a></li><li><a href=#kubelet>kubelet</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://gardener.cloud/docs/>Docs</a></li><li class=breadcrumb-item><a href=https://gardener.cloud/docs/concepts/>Concepts</a></li><li class=breadcrumb-item><a href=https://gardener.cloud/docs/concepts/extensions/>Extensions</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://gardener.cloud/docs/concepts/extensions/controlplane-webhooks/>Controlplane customization webhooks</a></li></ol></nav><div class=td-content><p class=reading-time><i class="fa fa-clock" aria-hidden=true></i> 9 minute read</p><h1 id=controlplane-customization-webhooks>Controlplane customization webhooks</h1><p>Gardener creates the Shoot controlplane in several steps of the Shoot flow. At different point of this flow, it:</p><ul><li>deploys standard controlplane components such as kube-apiserver, kube-controller-manager, and kube-scheduler by creating the corresponding deployments, services, and other resources in the Shoot namespace.</li><li>initiates the deployment of custom controlplane components by <a href=/docs/concepts/extensions/controlplane>ControlPlane controllers</a> by creating a <code>ControlPlane</code> resource in the Shoot namespace.</li></ul><p>In order to apply any provider-specific changes to the configuration provided by Gardener for the standard controlplane components, cloud extension providers can install mutating admission webhooks for the resources created by Gardener in the Shoot namespace.</p><h2 id=what-needs-to-be-implemented-to-support-a-new-cloud-provider>What needs to be implemented to support a new cloud provider?</h2><p>In order to support a new cloud provider you should install &ldquo;controlplane&rdquo; mutating webhooks for any of the following resources:</p><ul><li>Deployment with name <code>kube-apiserver</code>, <code>kube-controller-manager</code>, or <code>kube-scheduler</code></li><li>StatefulSet with name <code>etcd-main</code> or <code>etcd-events</code></li><li>Service with name <code>kube-apiserver</code></li><li><code>OperatingSystemConfig</code> with any name and purpose <code>reconcile</code></li></ul><p>See <a href=#contract-specification>Contract Specification</a> for more details on the contract that Gardener and webhooks should adhere to regarding the content of the above resources.</p><p>You can install 3 different kinds of controlplane webhooks:</p><ul><li><code>Shoot</code>, or <code>controlplane</code> webhooks apply changes needed by the Shoot cloud provider, for example the <code>--cloud-provider</code> command line flag of <code>kube-apiserver</code> and <code>kube-controller-manager</code>. Such webhooks should only operate on Shoot namespaces labeled with <code>shoot.gardener.cloud/provider=&lt;provider></code>.</li><li><code>Seed</code>, or <code>controlplaneexposure</code> webhooks apply changes needed by the Seed cloud provider, for example annotations on the <code>kube-apiserver</code> service to ensure cloud-specific load balancers are correctly provisioned for a service of type <code>LoadBalancer</code>. Such webhooks should only operate on Shoot namespaces labeled with <code>seed.gardener.cloud/provider=&lt;provider></code>.</li></ul><p>The labels <code>shoot.gardener.cloud/provider</code> and <code>shoot.gardener.cloud/provider</code> are added by Gardener when it creates the Shoot namespace.</p><h2 id=contract-specification>Contract Specification</h2><p>This section specifies the contract that Gardener and webhooks should adhere to in order to ensure smooth interoperability. Note that this contract can&rsquo;t be specified formally and is therefore easy to violate, especially by Gardener. The Gardener team will nevertheless do its best to adhere to this contract in the future and to ensure via additional measures (tests, validations) that it&rsquo;s not unintentionally broken. If it needs to be changed intentionally, this can only happen after proper communication has taken place to ensure that the affected provider webhooks could be adapted to work with the new version of the contract.</p><p><strong>Note:</strong> The contract described below may not necessarily be what Gardener does currently (as of May 2019). Rather, it reflects the target state after changes for <a href=/docs/concepts/extensions>Gardener extensibility</a> have been introduced.</p><h3 id=kube-apiserver>kube-apiserver</h3><p>To deploy kube-apiserver, Gardener <strong>shall</strong> create a deployment and a service both named <code>kube-apiserver</code> in the Shoot namespace. They can be mutated by webhooks to apply any provider-specific changes to the standard configuration provided by Gardener.</p><p>The pod template of the <code>kube-apiserver</code> deployment <strong>shall</strong> contain a container named <code>kube-apiserver</code>.</p><p>The <code>command</code> field of the <code>kube-apiserver</code> container <strong>shall</strong> contain the <a href=https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/>kube-apiserver command line</a>. It <strong>shall</strong> contain a number of provider-independent flags that should be ignored by webhooks, such as:</p><ul><li>admission plugins (<code>--enable-admission-plugins</code>, <code>--disable-admission-plugins</code>)</li><li>secure communications (<code>--etcd-cafile</code>, <code>--etcd-certfile</code>, <code>--etcd-keyfile</code>, &mldr;)</li><li>audit log (<code>--audit-log-*</code>)</li><li>ports (<code>--insecure-port</code>, <code>--secure-port</code>)</li></ul><p>The kube-apiserver command line <strong>shall not</strong> contain any provider-specific flags, such as:</p><ul><li><code>--cloud-provider</code></li><li><code>--cloud-config</code></li></ul><p>These flags can be added by webhooks if needed.</p><p>The <code>kube-apiserver</code> command line <strong>may</strong> contain a number of additional provider-independent flags. In general, webhooks should ignore these unless they are known to interfere with the desired kube-apiserver behavior for the specific provider. Among the flags to be considered are:</p><ul><li><code>--endpoint-reconciler-type</code></li><li><code>--advertise-address</code></li><li><code>--feature-gates</code></li></ul><p>Gardener <strong>may</strong> use <a href=https://github.com/gardener/gardener/blob/master/docs/proposals/08-shoot-apiserver-via-sni.md>SNI</a> to expose the apiserver (<code>APIServerSNI</code> feature gate). In this case, Gardener <strong>shall</strong> label the <code>kube-apiserver</code>&rsquo;s <code>Deployment</code> with <code>core.gardener.cloud/apiserver-exposure: gardener-managed</code> label and expects that the <code>--endpoint-reconciler-type</code> and <code>--advertise-address</code> flags are not modified.</p><p>The <code>--enable-admission-plugins</code> flag <strong>may</strong> contain admission plugins that are not compatible with CSI plugins such as <code>PersistentVolumeLabel</code>. Webhooks should therefore ensure that such admission plugins are either explicitly enabled (if CSI plugins are not used) or disabled (otherwise).</p><p>The <code>env</code> field of the <code>kube-apiserver</code> container <strong>shall not</strong> contain any provider-specific environment variables (so it will be empty). If any provider-specific environment variables are needed, they should be added by webhooks.</p><p>The <code>volumes</code> field of the pod template of the <code>kube-apiserver</code> deployment, and respectively the <code>volumeMounts</code> field of the <code>kube-apiserver</code> container <strong>shall not</strong> contain any provider-specific <code>Secret</code> or <code>ConfigMap</code> resources. If such resources should be mounted as volumes, this should be done by webhooks.</p><p>The <code>kube-apiserver</code> <code>Service</code> <strong>may</strong> be of type <code>LoadBalancer</code>, but <strong>shall not</strong> contain any provider-specific annotations that may be needed to actually provision a load balancer resource in the Seed provider&rsquo;s cloud. If any such annotations are needed, they should be added by webhooks (typically <code>controlplaneexposure</code> webhooks).</p><p>The <code>kube-apiserver</code> <code>Service</code> <strong>shall</strong> be of type <code>ClusterIP</code>, if Gardener is using <a href=https://github.com/gardener/gardener/blob/master/docs/proposals/08-shoot-apiserver-via-sni.md>SNI</a> to expose the apiserver (<code>APIServerSNI</code> feature gate). In this case, Gardener <strong>shall</strong> label this <code>Service</code> with <code>core.gardener.cloud/apiserver-exposure: gardener-managed</code> label and expects that no mutations happen.</p><h3 id=kube-controller-manager>kube-controller-manager</h3><p>To deploy kube-controller-manager, Gardener <strong>shall</strong> create a deployment named <code>kube-controller-manager</code> in the Shoot namespace. It can be mutated by webhooks to apply any provider-specific changes to the standard configuration provided by Gardener.</p><p>The pod template of the <code>kube-controller-manager</code> deployment <strong>shall</strong> contain a container named <code>kube-controller-manager</code>.</p><p>The <code>command</code> field of the <code>kube-controller-manager</code> container <strong>shall</strong> contain the <a href=https://kubernetes.io/docs/reference/command-line-tools-reference/kube-controller-manager/>kube-controller-manager command line</a>. It <strong>shall</strong> contain a number of provider-independent flags that should be ignored by webhooks, such as:</p><ul><li><code>--kubeconfig</code>, <code>--authentication-kubeconfig</code>, <code>--authorization-kubeconfig</code></li><li><code>--leader-elect</code></li><li>secure communications (<code>--tls-cert-file</code>, <code>--tls-private-key-file</code>, &mldr;)</li><li>cluster CIDR and identity (<code>--cluster-cidr</code>, <code>--cluster-name</code>)</li><li>sync settings (<code>--concurrent-deployment-syncs</code>, <code>--concurrent-replicaset-syncs</code>)</li><li>horizontal pod autoscaler (<code>--horizontal-pod-autoscaler-*</code>)</li><li>ports (<code>--port</code>, <code>--secure-port</code>)</li></ul><p>The kube-controller-manager command line <strong>shall not</strong> contain any provider-specific flags, such as:</p><ul><li><code>--cloud-provider</code></li><li><code>--cloud-config</code></li><li><code>--configure-cloud-routes</code></li><li><code>--external-cloud-volume-plugin</code></li></ul><p>These flags can be added by webhooks if needed.</p><p>The kube-controller-manager command line <strong>may</strong> contain a number of additional provider-independent flags. In general, webhooks should ignore these unless they are known to interfere with the desired kube-controller-manager behavior for the specific provider. Among the flags to be considered are:</p><ul><li><code>--feature-gates</code></li></ul><p>The <code>env</code> field of the <code>kube-controller-manager</code> container <strong>shall not</strong> contain any provider-specific environment variables (so it will be empty). If any provider-specific environment variables are needed, they should be added by webhooks.</p><p>The <code>volumes</code> field of the pod template of the <code>kube-controller-manager</code> deployment, and respectively the <code>volumeMounts</code> field of the <code>kube-controller-manager</code> container <strong>shall not</strong> contain any provider-specific <code>Secret</code> or <code>ConfigMap</code> resources. If such resources should be mounted as volumes, this should be done by webhooks.</p><h3 id=kube-scheduler>kube-scheduler</h3><p>To deploy kube-scheduler, Gardener <strong>shall</strong> create a deployment named <code>kube-scheduler</code> in the Shoot namespace. It can be mutated by webhooks to apply any provider-specific changes to the standard configuration provided by Gardener.</p><p>The pod template of the <code>kube-scheduler</code> deployment <strong>shall</strong> contain a container named <code>kube-scheduler</code>.</p><p>The <code>command</code> field of the <code>kube-scheduler</code> container <strong>shall</strong> contain the <a href=https://kubernetes.io/docs/reference/command-line-tools-reference/kube-scheduler/>kube-scheduler command line</a>. It <strong>shall</strong> contain a number of provider-independent flags that should be ignored by webhooks, such as:</p><ul><li><code>--config</code></li><li><code>--authentication-kubeconfig</code>, <code>--authorization-kubeconfig</code></li><li>secure communications (<code>--tls-cert-file</code>, <code>--tls-private-key-file</code>, &mldr;)</li><li>ports (<code>--port</code>, <code>--secure-port</code>)</li></ul><p>The kube-scheduler command line <strong>may</strong> contain additional provider-independent flags. In general, webhooks should ignore these unless they are known to interfere with the desired kube-controller-manager behavior for the specific provider. Among the flags to be considered are:</p><ul><li><code>--feature-gates</code></li></ul><p>The kube-scheduler command line can&rsquo;t contain provider-specific flags, and it makes no sense to specify provider-specific environment variables or mount provider-specific <code>Secret</code> or <code>ConfigMap</code> resources as volumes.</p><h3 id=etcd-main-and-etcd-events>etcd-main and etcd-events</h3><p>To deploy etcd, Gardener <strong>shall</strong> create 2 StatefulSets named <code>etcd-main</code> and <code>etcd-events</code> in the Shoot namespace. They can be mutated by webhooks to apply any provider-specific changes to the standard configuration provided by Gardener.</p><p>The pod template of these 2 deployments <strong>shall</strong> contain a container named <code>etcd</code>. It <strong>shall not</strong> contain a sidecar container for etcd backups. If such a container is needed, it should be added by webhooks, together with any volumes it may need to mount.</p><p>The <code>command</code> field of the <code>etcd</code> container <strong>shall</strong> contain the etcd command line. It <strong>shall</strong> contain only provider-independent flags that should be ignored by webhooks. It can&rsquo;t contain provider-specific flags, and it makes no sense to specify provider-specific environment variables or mount provider-specific <code>Secret</code> or <code>ConfigMap</code> resources as volumes.</p><p>The <code>volumeClaimTemplates</code> section of these 2 StatefulSets <strong>shall</strong> contain a template named <code>etcd-main</code> or <code>etcd-events</code>. This template <strong>shall</strong> use the default storage class. The corresponding claim is mounted into the <code>etcd</code> container at <code>/var/etcd/data</code>. If it is desirable to use a non-default storage class, this should be done by webhooks.</p><h3 id=cloud-controller-manager>cloud-controller-manager</h3><p>Gardener <strong>shall not</strong> deploy a cloud-controller-manager. If it is needed, it should be added by a <a href=/docs/concepts/extensions/controlplane><code>ControlPlane</code> controller</a></p><h3 id=csi-controllers>CSI controllers</h3><p>Gardener <strong>shall not</strong> deploy a CSI controller. If it is needed, it should be added by a <a href=/docs/concepts/extensions/controlplane><code>ControlPlane</code> controller</a></p><h3 id=kubelet>kubelet</h3><p>To specify the kubelet configuration, Gardener <strong>shall</strong> create a <a href=/docs/concepts/extensions/operatingsystemconfig><code>OperatingSystemConfig</code> resource</a> with any name and purpose <code>reconcile</code> in the Shoot namespace. It can therefore also be mutated by webhooks to apply any provider-specific changes to the standard configuration provided by Gardener. Gardener <strong>may</strong> write multiple such resources with different <code>type</code> to the same Shoot namespaces if multiple OSs are used.</p><p>The OSC resource <strong>shall</strong> contain a unit named <code>kubelet.service</code>, containing the corresponding systemd unit configuration file. The <code>[Service]</code> section of this file <strong>shall</strong> contain a single <code>ExecStart</code> option having the <a href=https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/>kubelet command line</a> as its value.</p><p>The OSC resource <strong>shall</strong> contain a file with path <code>/var/lib/kubelet/config/kubelet</code>, which contains a <code>KubeletConfiguration</code> resource in YAML format. Most of the flags that can be specified in the kubelet command line can alternatively be specified as options in this configuration as well.</p><p>The kubelet command line <strong>shall</strong> contain a number of provider-independent flags that should be ignored by webhooks, such as:</p><ul><li><code>--config</code></li><li><code>--bootstrap-kubeconfig</code>, <code>--kubeconfig</code></li><li><code>--network-plugin</code> (and, if it equals <code>cni</code>, also <code>--cni-bin-dir</code> and <code>--cni-conf-dir</code>)</li><li><code>--node-labels</code></li></ul><p>The kubelet command line <strong>shall not</strong> contain any provider-specific flags, such as:</p><ul><li><code>--cloud-provider</code></li><li><code>--cloud-config</code></li><li><code>--provider-id</code></li></ul><p>These flags can be added by webhooks if needed.</p><p>The kubelet command line / configuration <strong>may</strong> contain a number of additional provider-independent flags / options. In general, webhooks should ignore these unless they are known to interfere with the desired kubelet behavior for the specific provider. Among the flags / options to be considered are:</p><ul><li><code>--enable-controller-attach-detach</code> (<code>enableControllerAttachDetach</code>) - should be set to <code>true</code> if CSI plugins are used, but in general can also be ignored since its default value is also <code>true</code>, and this should work both with and without CSI plugins.</li><li><code>--feature-gates</code> (<code>featureGates</code>) - should contain a list of specific feature gates if CSI plugins are used. If CSI plugins are not used, the corresponding feature gates can be ignored since enabling them should not harm in any way.</li></ul><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}.display-none{display:none}</style><div class="d-print-none display-none"><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes"></p><p class="feedback--response feedback--response-no"></p></div><script>const yesButton=document.querySelector('.feedback--answer-yes'),noButton=document.querySelector('.feedback--answer-no'),yesResponse=document.querySelector('.feedback--response-yes'),noResponse=document.querySelector('.feedback--response-no'),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=b=>{if(typeof ga!='function')return;const a={command:'send',hitType:'event',category:'Helpful',action:'click',label:window.location.pathname,value:b};ga(a.command,a.hitType,a.category,a.action,a.label,a.value)};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(1)}),noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top"></div></div></main></div></div><footer class="footer row d-print-none"><div class="container-fluid footer-wrapper"><ul class=nav><li><a href=/blog/>Blogs</a></li><li><a href=/community/>Community</a></li><li><a href=/adopter/>Adopters</a></li><li><a href=/docs/>Documentation</a></li></ul><img src=/images/lp/gardener-logo.svg alt="Logo Gardener" class=logo><ul class=media-wr><li><a target=_blank href=https://kubernetes.slack.com/archives/CB57N0BFG><img src=/images/branding/slack-logo-white.svg class=media-icon><div class=media-text>Slack</div></a></li><li><a target=_blank href=https://github.com/gardener><img src=/images/branding/github-mark-logo.png class=media-icon><div class=media-text>GitHub</div></a></li><li><a target=_blank href=https://www.youtube.com/channel/UCwUhwKFREV8Su0gwAJQX7tw><img src=/images/branding/youtube-logo-dark.svg class=media-icon><div class=media-text>YouTube</div></a></li><li><a target=_blank href=https://twitter.com/GardenerProject><img src=/images/branding/twitter-logo-white.svg class=media-icon><div class=media-text>Twitter</div></a></li></ul><span class=copyright>Copyright 2019-2021 Gardener project authors. <a href=https://www.sap.com/corporate/en/legal/privacy.html>Privacy policy
<i class="fa fa-external-link" aria-hidden=true></i></a></span></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>